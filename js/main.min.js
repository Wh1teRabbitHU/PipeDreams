!function a(r,s,c){function l(t,e){if(!s[t]){if(!r[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};r[t][0].call(o.exports,function(e){return l(r[t][1][e]||e)},o,o.exports,a,r,s,c)}return s[t].exports}for(var f="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){function d(){switch(stage.hasChildren()&&stage.destroyChildren(),gameType="classic",gameDifficulty){case"easy":rows=5,columns=5;break;case"medium":rows=10,columns=10;break;case"hard":rows=15,columns=15}startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),layerRows=Math.floor(rows/layerSize)+1,layerColumns=Math.floor(columns/layerSize)+1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,table=new a,table.generateFields(),table.shuffle(),table.drawGame(),timer=new o,information=new r,timer.setInc(!0),timer.start(),information.initPanel(),information.updateScore(void 0===p.cookie("classic_high_score_"+gameDifficulty)?"--/--":p.cookie("classic_high_score_"+gameDifficulty)),information.hideLevel()}function w(){stage.hasChildren()&&stage.destroyChildren(),gameType="time-trial",level++,rows=4+level,columns=4+level,startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),layerRows=Math.floor(rows/layerSize)+1,layerColumns=Math.floor(columns/layerSize)+1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,table=new a,table.generateFields(),table.shuffle(),table.drawGame(),"undefined"==typeof timer&&(timer=new o),timer.setInc(!1),timer.setCurrentTime((0===timer.getCurrentTime()?80:timer.getCurrentTime())+30+10*level),timer.start(),information=new r,information.initPanel(),information.updateScore(void 0===p.cookie("time_trial_score")?"-":p.cookie("time_trial_score")),information.updateTimer(timer.getMin()+":"+timer.getSec()),information.updateLevel(level)}function o(){var t=!0,e=null,i=0,n=0,o=0;function a(){i++,s(),information.updateTimer(o+":"+n)}function r(){i--,s(),information.updateTimer(o+":"+n),0===i&&(timer.stop(),setTimeout(function(){var e=!1;void 0===p.cookie("time_trial_score")?e=!0:p.cookie("time_trial_score")<level&&(e=!0),alert("Gratulálok a teljesítményedhez! \nAz elért szinted: "+level+(e?"\nÚj rekord!":"")),e&&p.cookie("time_trial_score",level,{expires:365,path:"/"}),K()},300))}function s(){o=(o=Math.floor(i/60))<10?"0"+o:o,n=(n=i%60)<10?"0"+n:n}this.setInc=function(e){t=e},this.getCurrentTime=function(){return i},this.setCurrentTime=function(e){i=e,s()},this.start=function(){e=t?setInterval(a,1e3):setInterval(r,1e3)},this.stop=function(){clearInterval(e)},this.reset=function(){o=n=i=0},this.getSec=function(){return n},this.getMin=function(){return o}}function K(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3-100,text:"Klasszikus játék",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3,text:"Időfutam játék",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2,y:height/3+100,text:"Eredménytábla",fontSize:32,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+200,text:"Információ",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2}),menuLayer=new Kinetic.Layer,menuLayer.name="gameMenu",menuLayer.add(t),menuLayer.add(i),menuLayer.add(n),menuLayer.add(o),stage.add(menuLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},menuLayer),a=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},menuLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){a.start()}),t.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3-100,text:"Könnyű (5x5)",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3,text:"Közepes (10x10)",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2,y:height/3+100,text:"Nehéz (15x15)",fontSize:32,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+200,text:"Vissza a főmenübe",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2}),difficultyLayer=new Kinetic.Layer,difficultyLayer.name="difficultySelectMenu",difficultyLayer.add(t),difficultyLayer.add(i),difficultyLayer.add(n),difficultyLayer.add(o),stage.add(difficultyLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},difficultyLayer),a=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},difficultyLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){a.start()}),t.on("click",function(){gameDifficulty="easy",d()});var r=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},difficultyLayer),s=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},difficultyLayer);i.on("mouseover",function(){r.start()}),i.on("mouseout",function(){s.start()}),i.on("click",function(){gameDifficulty="medium",d()});var c=new Kinetic.Animation(function(e){n.fill("black"),this.stop()},difficultyLayer),l=new Kinetic.Animation(function(e){n.fill("grey"),this.stop()},difficultyLayer);n.on("mouseover",function(){c.start()}),n.on("mouseout",function(){l.start()}),n.on("click",function(){gameDifficulty="hard",d()});var f=new Kinetic.Animation(function(e){o.fill("black"),this.stop()},difficultyLayer),u=new Kinetic.Animation(function(e){o.fill("grey"),this.stop()},difficultyLayer);o.on("mouseover",function(){f.start()}),o.on("mouseout",function(){u.start()}),o.on("click",function(){K()})}()});var r=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},menuLayer),s=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},menuLayer);i.on("mouseover",function(){r.start()}),i.on("mouseout",function(){s.start()}),i.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3,text:"Időfutam játék indítása",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3+200,text:"Vissza a főmenübe",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2}),timeTrialGameLayer=new Kinetic.Layer,timeTrialGameLayer.name="timeTrialGameLayer",timeTrialGameLayer.add(t),timeTrialGameLayer.add(i),stage.add(timeTrialGameLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},timeTrialGameLayer),n=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},timeTrialGameLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){n.start()}),t.on("click",function(){w()});var o=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},timeTrialGameLayer),a=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},timeTrialGameLayer);i.on("mouseover",function(){o.start()}),i.on("mouseout",function(){a.start()}),i.on("click",function(){K()})}()});var c=new Kinetic.Animation(function(e){n.fill("black"),this.stop()},menuLayer),l=new Kinetic.Animation(function(e){n.fill("grey"),this.stop()},menuLayer);n.on("mouseover",function(){c.start()}),n.on("mouseout",function(){l.start()}),n.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var e=new Kinetic.Text({x:width/2,y:height/3-100,text:"Klasszikus játékmód",fontSize:32,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2});var t=new Kinetic.Text({x:width/2-120,y:height/3-40,text:"Könnyű\n"+(void 0===p.cookie("classic_high_score_easy")?"99:99":p.cookie("classic_high_score_easy")),fontSize:18,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3-40,text:"Közepes\n"+(void 0===p.cookie("classic_high_score_medium")?"99:99":p.cookie("classic_high_score_medium")),fontSize:18,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2+120,y:height/3-40,text:"Nehéz\n"+(void 0===p.cookie("classic_high_score_hard")?"99:99":p.cookie("classic_high_score_hard")),fontSize:18,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+40,text:"Időfutam játékmód",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2});var a=new Kinetic.Text({x:width/2,y:height/3+100,text:(void 0===p.cookie("time_trial_score")?"0":p.cookie("time_trial_score"))+". szint",fontSize:18,fontFamily:"Calibri",fill:"grey"});a.setOffset({x:a.getWidth()/2});var r=new Kinetic.Text({x:width/2,y:height/3+200,text:"Vissza a főmenübe",fontSize:32,fontFamily:"Calibri",fill:"grey"});r.setOffset({x:r.getWidth()/2}),scoreBoardMenuLayer=new Kinetic.Layer,scoreBoardMenuLayer.name="scoreBoardMenuLayer",scoreBoardMenuLayer.add(e),scoreBoardMenuLayer.add(t),scoreBoardMenuLayer.add(i),scoreBoardMenuLayer.add(n),scoreBoardMenuLayer.add(o),scoreBoardMenuLayer.add(a),scoreBoardMenuLayer.add(r),stage.add(scoreBoardMenuLayer);var s=new Kinetic.Animation(function(e){r.fill("black"),this.stop()},scoreBoardMenuLayer),c=new Kinetic.Animation(function(e){r.fill("grey"),this.stop()},scoreBoardMenuLayer);r.on("mouseover",function(){s.start()}),r.on("mouseout",function(){c.start()}),r.on("click",function(){K()})}()});var f=new Kinetic.Animation(function(e){o.fill("black"),this.stop()},menuLayer),u=new Kinetic.Animation(function(e){o.fill("grey"),this.stop()},menuLayer);o.on("mouseover",function(){f.start()}),o.on("mouseout",function(){u.start()}),o.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var e=new Kinetic.Text({x:width/2,y:height/3-100,text:"",fontSize:18,fontFamily:"Calibri",fill:"grey"});"A klasszikus módban 3 nehézség közül választhatsz, míg az időfutamnál folyamatosan fognak nehezedni a pályák.\n","Játékmódtól függetlenül fontos szerepe lesz az időnek is, úgyhogy ne hezitálj túl sokat!\n","Az elért eredményeidet az eredménytábla menüpontban tekintheted meg!\n\nKészítette: White Rabbit (Ruszka Tamás) (C) 2014,\nE-mail: ruszka dot tamas at gmail dot com",e.setText("A játék célja:\nForgasd úgy a csöveket, hogy a végén az összes összeköttetésben legyenek a kiindulási ponttal!\nA klasszikus módban 3 nehézség közül választhatsz, míg az időfutamnál folyamatosan fognak nehezedni a pályák.\nJátékmódtól függetlenül fontos szerepe lesz az időnek is, úgyhogy ne hezitálj túl sokat!\nAz elért eredményeidet az eredménytábla menüpontban tekintheted meg!\n\nKészítette: White Rabbit (Ruszka Tamás) (C) 2014,\nE-mail: ruszka dot tamas at gmail dot com"),e.setOffset({x:0<e.getWidth()/2?e.getWidth()/2:0});var t=new Kinetic.Text({x:width/2,y:height/3+200,text:"Vissza a főmenübe",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2}),informationMenuLayer=new Kinetic.Layer,informationMenuLayer.name="informationMenuLayer",informationMenuLayer.add(e),informationMenuLayer.add(t),stage.add(informationMenuLayer);var i=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},informationMenuLayer),n=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},informationMenuLayer);t.on("mouseover",function(){i.start()}),t.on("mouseout",function(){n.start()}),t.on("click",function(){K()})}()})}function a(){var e=0,t=0;for(gameLayers=[],e=0;e<layerRows;e++)for(gameLayers[e]=new Array(layerColumns),t=0;t<layerColumns;t++)gameLayers[e][t]=new Kinetic.Layer;blocks=[],this.generateFields=function(){var e=0,t=0,i=0,n=0,o=!0;for(e=0;e<rows;e++)for(blocks[e]=new Array(columns),t=0;t<columns;t++)blocks[e][t]=new s(e,t,e*columns+t);for(;o;){o=!1;var a=Math.floor(Math.random()*rows),r=Math.floor(Math.random()*columns);if(0!==blocks[a][r].getKey())switch(Math.floor(4*Math.random()+0)){case 0:if(0!==a&&void 0!==blocks[a-1][r]&&blocks[a][r].getKey()!=blocks[a-1][r].getKey())for(blocks[a][r].setLeft(!0),blocks[a-1][r].setRight(!0),i=blocks[a][r].getKey()>blocks[a-1][r].getKey()?blocks[a][r].getKey():blocks[a-1][r].getKey(),n=blocks[a][r].getKey()<blocks[a-1][r].getKey()?blocks[a][r].getKey():blocks[a-1][r].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 1:if(0!==r&&void 0!==blocks[a][r-1]&&blocks[a][r].getKey()!=blocks[a][r-1].getKey())for(blocks[a][r].setUp(!0),blocks[a][r-1].setDown(!0),i=blocks[a][r].getKey()>blocks[a][r-1].getKey()?blocks[a][r].getKey():blocks[a][r-1].getKey(),n=blocks[a][r].getKey()<blocks[a][r-1].getKey()?blocks[a][r].getKey():blocks[a][r-1].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 2:if(a!=columns-1&&void 0!==blocks[a+1][r]&&blocks[a][r].getKey()!=blocks[a+1][r].getKey())for(blocks[a][r].setRight(!0),blocks[a+1][r].setLeft(!0),i=blocks[a][r].getKey()>blocks[a+1][r].getKey()?blocks[a][r].getKey():blocks[a+1][r].getKey(),n=blocks[a][r].getKey()<blocks[a+1][r].getKey()?blocks[a][r].getKey():blocks[a+1][r].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 3:if(r!=rows-1&&void 0!==blocks[a][r+1]&&blocks[a][r].getKey()!=blocks[a][r+1].getKey())for(blocks[a][r].setDown(!0),blocks[a][r+1].setUp(!0),i=blocks[a][r].getKey()>blocks[a][r+1].getKey()?blocks[a][r].getKey():blocks[a][r+1].getKey(),n=blocks[a][r].getKey()<blocks[a][r+1].getKey()?blocks[a][r].getKey():blocks[a][r+1].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n)}for(e=0;e<rows;e++)for(t=0;t<columns;t++)0<blocks[e][t].getKey()&&(o=!0)}blocks[startingPointX][startingPointY].setConnected(!0),blocks[startingPointX][startingPointY].connectionHandler(!0)},this.shuffle=function(){for(var e=0;e<rows;e++)for(var t=0;t<columns;t++)blocks[e][t].shuffleIt()},this.drawGame=function(){for(e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].init(),gameLayers[Math.floor(e/layerSize)][Math.floor(t/layerSize)].add(blocks[e][t].getBox());for(this.checkPipeConnections(),e=0;e<layerRows;e++)for(t=0;t<layerColumns;t++)stage.add(gameLayers[e][t])},this.checkPipeConnections=function(){var e=0,t=0;for(e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].setConnected(!1),blocks[e][t].connectionHandler(!1);for(blocks[startingPointX][startingPointY].setConnected(!0),blocks[startingPointX][startingPointY].connectionHandler(!0),e=0;e<rows;e++)for(t=0;t<columns;t++)if(blocks[e][t].getConnected()){var i=!1;0===e||i||blocks[e][t].getLeft()&&blocks[e-1][t].getRight()&&(blocks[e-1][t].getConnected()||(blocks[e-1][t].setConnected(!0),blocks[e-1][t].connectionHandler(!0),t=-1,i=!(e=0))),e==rows-1||i||blocks[e][t].getRight()&&blocks[e+1][t].getLeft()&&(blocks[e+1][t].getConnected()||(blocks[e+1][t].setConnected(!0),blocks[e+1][t].connectionHandler(!0),t=-1,i=!(e=0))),0===t||i||blocks[e][t].getUp()&&blocks[e][t-1].getDown()&&(blocks[e][t-1].getConnected()||(blocks[e][t-1].setConnected(!0),blocks[e][t-1].connectionHandler(!0),t=-1,i=!(e=0))),t==columns-1||i||blocks[e][t].getDown()&&blocks[e][t+1].getUp()&&(blocks[e][t+1].getConnected()||(blocks[e][t+1].setConnected(!0),blocks[e][t+1].connectionHandler(!0),t=-1,i=!(e=0)))}}}function r(){var e=width/2+rows*blockSize/2+rows*(2*space),t=width-(e+rows*space*2),i=height,n=new Kinetic.Layer,o=new Kinetic.Group({x:e,y:0,width:t,height:i}),a=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),r=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),s=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),c=new Kinetic.Text({x:200,y:200,text:"Vissza",fontSize:48,fontFamily:"Calibri",fill:"grey"}),l=new Kinetic.Text({x:30,y:50,text:"Idő:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),f=new Kinetic.Text({x:30,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),u=new Kinetic.Text({x:200,y:50,text:"Előző rekord:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),d=new Kinetic.Text({x:200,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),h=new Kinetic.Text({x:30,y:200,text:"Aktuális szint:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),y=new Kinetic.Text({x:30,y:250,text:"1",fontSize:64,fontFamily:"Calibri",fill:"grey"});this.initPanel=function(){a.add(l),a.add(f),r.add(u),r.add(d),r.add(c),s.add(h),s.add(y),o.add(a),o.add(r),o.add(s),n.add(o),stage.add(n)},this.showTimer=function(){a.show(),n.draw()},this.hideTimer=function(){a.hide(),n.draw()},this.showScore=function(){r.show(),n.draw()},this.scoreTimer=function(){r.hide(),n.draw()},this.showLevel=function(){s.show(),n.draw()},this.hideLevel=function(){s.hide(),n.draw()},this.updateTimer=function(e){f.setText(e),n.draw()},this.updateScore=function(e){d.setText(e),n.draw()},this.updateLevel=function(e){y.setText(e),n.draw()};var m=new Kinetic.Animation(function(e){c.fill("black"),this.stop()},n),g=new Kinetic.Animation(function(e){c.fill("grey"),this.stop()},n);c.on("mouseover",function(){m.start()}),c.on("mouseout",function(){g.start()}),c.on("click",function(){K()})}function s(e,t,n){var o=e*(2*space+blockSize)+space,a=t*(2*space+blockSize)+space,r=!1,s=!1,c=!1,l=!1,f=n,u=!1,d=0,h=new Kinetic.Group({x:o+blockSize/2+(width-blockSize*rows)/2-blockSize/2,y:a+blockSize/2,width:blockSize,height:blockSize,offset:{x:blockSize/2,y:blockSize/2}}),y=new Kinetic.Group({x:0,y:0}),m=new Kinetic.Rect({x:0,y:0,width:blockSize,height:blockSize,name:o+"-"+a,fill:"grey",stroke:"black",strokeWidth:space});function g(){var e=r;r=s,s=c,c=l,l=e}function k(){var e=r;r=l,l=c,c=s,s=e}this.getConnected=function(){return u},this.setConnected=function(e){u=e},this.getKey=function(){return f},this.setKey=function(e){f=e},this.getRotation=function(){return d},this.setLeft=function(e){s=e},this.getLeft=function(){return s},this.setDown=function(e){c=e},this.getDown=function(){return c},this.setRight=function(e){l=e},this.getRight=function(){return l},this.setUp=function(e){r=e},this.getUp=function(){return r},this.getBox=function(){return h},this.setParentLayer=function(e){parentLayer=e},this.connectionHandler=function(e){e?(y.find(".pipeUp").stroke("green"),y.find(".pipeLeft").stroke("green"),y.find(".pipeDown").stroke("green"),y.find(".pipeRight").stroke("green")):(y.find(".pipeUp").stroke("red"),y.find(".pipeLeft").stroke("red"),y.find(".pipeDown").stroke("red"),y.find(".pipeRight").stroke("red"))},this.shuffleIt=function(){for(var e=0;e<Math.floor(3*Math.random()+0);e++)Math.random()<.5?g():k()};var b=new Kinetic.Animation(function(e){if(animationIsRunning=!0,h.rotate(5),h.rotation()>=d+90){h.rotation(d+90),d=h.rotation();var t=!0;for(i=0;i<rows;i++)for(j=0;j<columns;j++)blocks[i][j].getConnected()||(t=!1);if(this.stop(),animationIsRunning=!1,t)"classic"==gameType?(timer.stop(),setTimeout(function(){var e=!1;void 0===p.cookie("classic_high_score_"+gameDifficulty)?e=!0:p.cookie("classic_high_score_"+gameDifficulty)>timer.getMin()+" : "+timer.getSec()&&(e=!0),alert("Gratulálok, sikeresen kiraktad a pályát! \nAz időd: "+timer.getMin()+" : "+timer.getSec()+(e?"\nÚj rekord!":"")),e&&p.cookie("classic_high_score_"+gameDifficulty,timer.getMin()+" : "+timer.getSec(),{expires:365,path:"/"}),K()},300)):"time-trial"==gameType&&(timer.stop(),setTimeout(function(){w()},300));else for(i=0;i<layerRows;i++)for(j=0;j<layerColumns;j++)gameLayers[i][j].draw()}},gameLayers[Math.floor(e/layerSize)][Math.floor(t/layerSize)]);this.init=function(){var e=new Kinetic.Line({points:[blockSize/2,0,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeUp"}),t=new Kinetic.Line({points:[0,blockSize/2,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeLeft"}),i=new Kinetic.Line({points:[blockSize/2,blockSize,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeDown"}),n=new Kinetic.Line({points:[blockSize,blockSize/2,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeRight"});r&&y.add(e),s&&y.add(t),c&&y.add(i),l&&y.add(n),h.on("click",function(){b.isRunning()||animationIsRunning||(g(),b.start(),setTimeout(function(){table.checkPipeConnections()},100))}),h.add(m),h.add(y)}}var p;p=jQuery,width=1280,height=720,rows=10,columns=10,space=5,layerSize=5,level=0,animationIsRunning=!1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),p(document).on("ready",function(){width=p(window).width(),height=p(window).height()-200,stage=new Kinetic.Stage({container:"table",width:width,height:height}),K()})},{}],2:[function(e,t,i){"use strict";var n=e("./js/pipe");window.onload=function(){this.console.log("Yey",n)}},{"./js/pipe":1}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvcGlwZS5qcyIsInNyYy9tYWluLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsInN0YXJ0TmV3Q2xhc3NpY0dhbWUiLCJzdGFnZSIsImhhc0NoaWxkcmVuIiwiZGVzdHJveUNoaWxkcmVuIiwiZ2FtZVR5cGUiLCJnYW1lRGlmZmljdWx0eSIsInJvd3MiLCJjb2x1bW5zIiwic3RhcnRpbmdQb2ludFgiLCJNYXRoIiwiZmxvb3IiLCJzdGFydGluZ1BvaW50WSIsImxheWVyUm93cyIsImxheWVyU2l6ZSIsImxheWVyQ29sdW1ucyIsImJsb2NrU2l6ZSIsIm1pbiIsIndpZHRoIiwiaGVpZ2h0IiwibWF4Iiwic3BhY2UiLCJ0YWJsZSIsImdhbWVUYWJsZSIsImdlbmVyYXRlRmllbGRzIiwic2h1ZmZsZSIsImRyYXdHYW1lIiwidGltZXIiLCJnYW1lVGltZXIiLCJpbmZvcm1hdGlvbiIsImluZm9ybWF0aW9uUGFuZWwiLCJzZXRJbmMiLCJzdGFydCIsImluaXRQYW5lbCIsInVwZGF0ZVNjb3JlIiwiJCIsImNvb2tpZSIsImhpZGVMZXZlbCIsInN0YXJ0TmV3VGltZVRyaWFsR2FtZSIsImxldmVsIiwic2V0Q3VycmVudFRpbWUiLCJnZXRDdXJyZW50VGltZSIsInVwZGF0ZVRpbWVyIiwiZ2V0TWluIiwiZ2V0U2VjIiwidXBkYXRlTGV2ZWwiLCJpbmMiLCJ0aW1lck9iaiIsImN1cnJlbnRUaW1lIiwiY3VycmVudFNlYyIsImN1cnJlbnRNaW4iLCJyZWZyZXNoSW5jVGltZXIiLCJ1cGRhdGVNaW5BbmRTZWMiLCJyZWZyZXNoRGVjVGltZXIiLCJzdG9wIiwic2V0VGltZW91dCIsIm5ld1JlY29yZCIsImFsZXJ0IiwiZXhwaXJlcyIsInBhdGgiLCJtYWluTWVudSIsInRoaXMiLCJ2YWx1ZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJlc2V0IiwiY2xhc3NpY0dhbWVUZXh0IiwiS2luZXRpYyIsIlRleHQiLCJ4IiwieSIsInRleHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmaWxsIiwic2V0T2Zmc2V0IiwiZ2V0V2lkdGgiLCJ0aW1lVHJpYWxHYW1lVGV4dCIsInNjb3JlQm9hcmRUZXh0IiwiaW5mb3JtYXRpb25UZXh0IiwibWVudUxheWVyIiwiTGF5ZXIiLCJuYW1lIiwiYWRkIiwiY2xhc3NpY0dhbWVUZXh0TW91c2VPdmVyIiwiQW5pbWF0aW9uIiwiZnJhbWUiLCJjbGFzc2ljR2FtZVRleHRNb3VzZU91dCIsIm9uIiwiZWFzeVRleHQiLCJtZWRpdW1UZXh0IiwiaGFyZFRleHQiLCJiYWNrVGV4dCIsImRpZmZpY3VsdHlMYXllciIsImVhc3lUZXh0TW91c2VPdmVyIiwiZWFzeVRleHRNb3VzZU91dCIsIm1lZGl1bVRleHRNb3VzZU92ZXIiLCJtZWRpdW1UZXh0TW91c2VPdXQiLCJoYXJkVGV4dE1vdXNlT3ZlciIsImhhcmRUZXh0TW91c2VPdXQiLCJiYWNrVGV4dE1vdXNlT3ZlciIsImJhY2tUZXh0TW91c2VPdXQiLCJjbGFzc2ljRGlmZmljdWx0eVNlbGVjdE1lbnUiLCJ0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbEdhbWVUZXh0TW91c2VPdXQiLCJ0aW1lVHJpYWxUZXh0IiwidGltZVRyaWFsR2FtZUxheWVyIiwidGltZVRyaWFsVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbFRleHRNb3VzZU91dCIsInRpbWVUcmlhbEdhbWVNZW51Iiwic2NvcmVCb2FyZFRleHRNb3VzZU92ZXIiLCJzY29yZUJvYXJkVGV4dE1vdXNlT3V0IiwiY2xhc3NpY1RleHQiLCJsZXZlbFRleHQiLCJzY29yZUJvYXJkTWVudUxheWVyIiwic2NvcmVCb2FyZE1lbnUiLCJpbmZvcm1hdGlvblRleHRNb3VzZU92ZXIiLCJpbmZvcm1hdGlvblRleHRNb3VzZU91dCIsInNldFRleHQiLCJpbmZvVGV4dCIsImluZm9ybWF0aW9uTWVudUxheWVyIiwiaW5mb3JtYXRpb25NZW51IiwiaiIsImdhbWVMYXllcnMiLCJBcnJheSIsImJsb2NrcyIsImdyZWF0ZXIiLCJzbWFsbGVyIiwiZ2VuZXJhdGVJdCIsImJsb2NrIiwicmFuZG9tIiwiZ2V0S2V5Iiwic2V0TGVmdCIsInNldFJpZ2h0Iiwic2V0S2V5Iiwic2V0VXAiLCJzZXREb3duIiwic2V0Q29ubmVjdGVkIiwiY29ubmVjdGlvbkhhbmRsZXIiLCJzaHVmZmxlSXQiLCJpbml0IiwiZ2V0Qm94IiwiY2hlY2tQaXBlQ29ubmVjdGlvbnMiLCJnZXRDb25uZWN0ZWQiLCJ1cGRhdGVkIiwiZ2V0TGVmdCIsImdldFJpZ2h0IiwiZ2V0VXAiLCJnZXREb3duIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwiaW5mb3JtYXRpb25MYXllciIsInBhbmVsIiwiR3JvdXAiLCJzY29yZSIsInRpbWVyVGl0bGVUZXh0IiwidGltZXJUZXh0Iiwic2NvcmVUaXRsZVRleHQiLCJzY29yZVRleHQiLCJsZXZlbFRpdGxlVGV4dCIsInNob3dUaW1lciIsInNob3ciLCJkcmF3IiwiaGlkZVRpbWVyIiwiaGlkZSIsInNob3dTY29yZSIsInNjb3JlVGltZXIiLCJzaG93TGV2ZWwiLCJyb3ciLCJjb2x1bW4iLCJnZW5lcmF0ZUtleSIsInVwIiwibGVmdCIsImRvd24iLCJyaWdodCIsImtleSIsImNvbm5lY3RlZCIsInJvdGF0aW9uIiwiYm94Iiwib2Zmc2V0IiwicGlwZXMiLCJzaGFwZSIsIlJlY3QiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJvdGF0ZVJpZ2h0IiwidGVtcCIsInJvdGF0ZUxlZnQiLCJnZXRSb3RhdGlvbiIsInNldFBhcmVudExheWVyIiwicGFyZW50TGF5ZXIiLCJjb25uZWN0IiwiZmluZCIsImsiLCJtb3VzZUNsaWNrIiwiYW5pbWF0aW9uSXNSdW5uaW5nIiwicm90YXRlIiwiZmluaXNoZWQiLCJwaXBlVXAiLCJMaW5lIiwicG9pbnRzIiwibGluZUNhcCIsInBpcGVMZWZ0IiwicGlwZURvd24iLCJwaXBlUmlnaHQiLCJpc1J1bm5pbmciLCJqUXVlcnkiLCJkb2N1bWVudCIsIndpbmRvdyIsIlN0YWdlIiwiY29udGFpbmVyIiwicGlwZSIsIm9ubG9hZCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsSUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLEtBQUEsTUFBQUssRUFBQUUsS0FBQSxtQkFBQUYsRUFBQSxJQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsSUFBQWIsRUFBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsT0FBQUksRUFBQUgsRUFBQUksR0FBQSxHQUFBTCxJQUFBQSxJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFELEVBQUFHLEdBQUFTLFFBQUEsSUFBQSxJQUFBTCxFQUFBLG1CQUFBRCxTQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLElBQUEsT0FBQUQsRUFBQSxDQUFBLENBQUFhLEVBQUEsQ0FBQSxTQUFBVCxFQUFBVSxFQUFBSixHQzhCQSxTQUFBSyxJQVFBLE9BTkFDLE1BQUFDLGVBQ0FELE1BQUFFLGtCQUdBQyxTQUFBLFVBRUFDLGdCQUNBLElBQUEsT0FDQUMsS0FBQSxFQUNBQyxRQUFBLEVBQ0EsTUFDQSxJQUFBLFNBQ0FE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QixFQUFBNkssUUFBQTlMLFFBQ0FDLE9BQUFnQixFQUFBNkssUUFBQTdMLFNBQUEsSUFFQWpCLE1BQUEsSUFBQWlFLFFBQUE4SSxNQUFBLENBQ0FDLFVBQUEsUUFDQWhNLE1BQUFBLE1BQ0FDLE9BQUFBLFNBR0F5Qyw4QkMxQkEsYUFFQSxJQUFBdUosRUFBQTdOLEVBQUEsYUFFQTBOLE9BQUFJLE9BQUEsV0FDQXZKLEtBQUF3SixRQUFBQyxJQUFBLE1BQUFIIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIihmdW5jdGlvbigkKSB7XHJcbiAgICAvL0RlZmF1bHQgYmXDoWxsw610w6Fzb2ssIGdsb2LDoWxpcyB2w6FsdG96w7NiYW5cclxuICAgIHdpZHRoID0gMTI4MDtcclxuICAgIGhlaWdodCA9IDcyMDtcclxuICAgIHJvd3MgPSAxMDtcclxuICAgIGNvbHVtbnMgPSAxMDtcclxuICAgIHNwYWNlID0gNTtcclxuICAgIGxheWVyU2l6ZSA9IDU7XHJcbiAgICBsZXZlbCA9IDA7XHJcbiAgICBhbmltYXRpb25Jc1J1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICBibG9ja1NpemUgPSAoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyBNYXRoLm1heChyb3dzLCBjb2x1bW5zKSkgLSAoc3BhY2UgKiAyKTtcclxuXHJcbiAgICBzdGFydGluZ1BvaW50WCA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xyXG4gICAgc3RhcnRpbmdQb2ludFkgPSBNYXRoLmZsb29yKGNvbHVtbnMgLyAyKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcInJlYWR5XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHdpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcbiAgICAgICAgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gMjAwO1xyXG5cclxuICAgICAgICBzdGFnZSA9IG5ldyBLaW5ldGljLlN0YWdlKHtcclxuICAgICAgICAgICAgY29udGFpbmVyOiAndGFibGUnLFxyXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1haW5NZW51KCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnROZXdDbGFzc2ljR2FtZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnYW1lVHlwZSA9IFwiY2xhc3NpY1wiO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGdhbWVEaWZmaWN1bHR5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXN5XCI6XHJcbiAgICAgICAgICAgICAgICByb3dzID0gNTtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSA1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtZWRpdW1cIjpcclxuICAgICAgICAgICAgICAgIHJvd3MgPSAxMDtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSAxMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGFyZFwiOlxyXG4gICAgICAgICAgICAgICAgcm93cyA9IDE1O1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IDE1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydGluZ1BvaW50WCA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xyXG4gICAgICAgIHN0YXJ0aW5nUG9pbnRZID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gMik7XHJcbiAgICAgICAgbGF5ZXJSb3dzID0gTWF0aC5mbG9vcihyb3dzIC8gbGF5ZXJTaXplKSArIDE7XHJcbiAgICAgICAgbGF5ZXJDb2x1bW5zID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gbGF5ZXJTaXplKSArIDE7XHJcbiAgICAgICAgYmxvY2tTaXplID0gKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gTWF0aC5tYXgocm93cywgY29sdW1ucykpIC0gKHNwYWNlICogMik7XHJcblxyXG4gICAgICAgIHRhYmxlID0gbmV3IGdhbWVUYWJsZSgpO1xyXG4gICAgICAgIHRhYmxlLmdlbmVyYXRlRmllbGRzKCk7XHJcbiAgICAgICAgdGFibGUuc2h1ZmZsZSgpO1xyXG4gICAgICAgIHRhYmxlLmRyYXdHYW1lKCk7XHJcblxyXG4gICAgICAgIHRpbWVyID0gbmV3IGdhbWVUaW1lcigpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uID0gbmV3IGluZm9ybWF0aW9uUGFuZWwoKTtcclxuXHJcbiAgICAgICAgdGltZXIuc2V0SW5jKHRydWUpO1xyXG4gICAgICAgIHRpbWVyLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgIGluZm9ybWF0aW9uLmluaXRQYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVNjb3JlKHR5cGVvZiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSkgPT0gJ3VuZGVmaW5lZCcgPyBcIi0tLy0tXCIgOiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSkpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLmhpZGVMZXZlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0TmV3VGltZVRyaWFsR2FtZSgpIHtcclxuICAgICAgICBpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICBzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdhbWVUeXBlID0gXCJ0aW1lLXRyaWFsXCI7XHJcblxyXG4gICAgICAgIGxldmVsKys7XHJcblxyXG4gICAgICAgIHJvd3MgPSA0ICsgbGV2ZWw7XHJcbiAgICAgICAgY29sdW1ucyA9IDQgKyBsZXZlbDtcclxuXHJcbiAgICAgICAgc3RhcnRpbmdQb2ludFggPSBNYXRoLmZsb29yKHJvd3MgLyAyKTtcclxuICAgICAgICBzdGFydGluZ1BvaW50WSA9IE1hdGguZmxvb3IoY29sdW1ucyAvIDIpO1xyXG4gICAgICAgIGxheWVyUm93cyA9IE1hdGguZmxvb3Iocm93cyAvIGxheWVyU2l6ZSkgKyAxO1xyXG4gICAgICAgIGxheWVyQ29sdW1ucyA9IE1hdGguZmxvb3IoY29sdW1ucyAvIGxheWVyU2l6ZSkgKyAxO1xyXG4gICAgICAgIGJsb2NrU2l6ZSA9IChNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIE1hdGgubWF4KHJvd3MsIGNvbHVtbnMpKSAtIChzcGFjZSAqIDIpO1xyXG5cclxuICAgICAgICB0YWJsZSA9IG5ldyBnYW1lVGFibGUoKTtcclxuICAgICAgICB0YWJsZS5nZW5lcmF0ZUZpZWxkcygpO1xyXG4gICAgICAgIHRhYmxlLnNodWZmbGUoKTtcclxuICAgICAgICB0YWJsZS5kcmF3R2FtZSgpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRpbWVyID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aW1lciA9IG5ldyBnYW1lVGltZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGltZXIuc2V0SW5jKGZhbHNlKTtcclxuICAgICAgICB0aW1lci5zZXRDdXJyZW50VGltZSgodGltZXIuZ2V0Q3VycmVudFRpbWUoKSA9PT0gMCA/IDgwIDogdGltZXIuZ2V0Q3VycmVudFRpbWUoKSkgKyAzMCArIChsZXZlbCAqIDEwKSk7XHJcbiAgICAgICAgdGltZXIuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb24gPSBuZXcgaW5mb3JtYXRpb25QYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLmluaXRQYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVNjb3JlKCh0eXBlb2YgJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnKSA9PSAndW5kZWZpbmVkJykgPyBcIi1cIiA6ICQuY29va2llKCd0aW1lX3RyaWFsX3Njb3JlJykpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKHRpbWVyLmdldE1pbigpICsgJzonICsgdGltZXIuZ2V0U2VjKCkpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZUxldmVsKGxldmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnYW1lVGltZXIoKSB7XHJcbiAgICAgICAgLy8gT3B0aW9uc1xyXG4gICAgICAgIHZhciBpbmMgPSB0cnVlO1xyXG4gICAgICAgIHZhciB0aW1lck9iaiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vU3RhdGVzXHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICB2YXIgY3VycmVudFNlYyA9IDA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRNaW4gPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGluYyA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB1cGRhdGVNaW5BbmRTZWMoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmMpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVyT2JqID0gc2V0SW50ZXJ2YWwocmVmcmVzaEluY1RpbWVyLCAxMDAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVyT2JqID0gc2V0SW50ZXJ2YWwocmVmcmVzaERlY1RpbWVyLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyT2JqKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgY3VycmVudFNlYyA9IDA7XHJcbiAgICAgICAgICAgIGN1cnJlbnRNaW4gPSAwO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0U2VjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2VjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0TWluID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TWluO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hJbmNUaW1lcigpIHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWUrKztcclxuICAgICAgICAgICAgdXBkYXRlTWluQW5kU2VjKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKGN1cnJlbnRNaW4gKyBcIjpcIiArIGN1cnJlbnRTZWMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaERlY1RpbWVyKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZS0tO1xyXG4gICAgICAgICAgICB1cGRhdGVNaW5BbmRTZWMoKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb24udXBkYXRlVGltZXIoY3VycmVudE1pbiArIFwiOlwiICsgY3VycmVudFNlYyk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRpbWVVcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVNaW5BbmRTZWMoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRNaW4gPSBNYXRoLmZsb29yKGN1cnJlbnRUaW1lIC8gNjApO1xyXG4gICAgICAgICAgICBjdXJyZW50TWluID0gY3VycmVudE1pbiA8IDEwID8gXCIwXCIgKyBjdXJyZW50TWluIDogY3VycmVudE1pbjtcclxuICAgICAgICAgICAgY3VycmVudFNlYyA9IGN1cnJlbnRUaW1lICUgNjA7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTZWMgPSBjdXJyZW50U2VjIDwgMTAgPyBcIjBcIiArIGN1cnJlbnRTZWMgOiBjdXJyZW50U2VjO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWluTWVudSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY2xhc3NpY0dhbWVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnS2xhc3N6aWt1cyBqw6F0w6lrJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjbGFzc2ljR2FtZVRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogY2xhc3NpY0dhbWVUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxHYW1lVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSxcclxuICAgICAgICAgICAgdGV4dDogJ0lkxZFmdXRhbSBqw6F0w6lrJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiB0aW1lVHJpYWxHYW1lVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmVCb2FyZFRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdFcmVkbcOpbnl0w6FibGEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNjb3JlQm9hcmRUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IHNjb3JlQm9hcmRUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBpbmZvcm1hdGlvblRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdJbmZvcm3DoWNpw7MnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluZm9ybWF0aW9uVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBpbmZvcm1hdGlvblRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVudUxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuICAgICAgICBtZW51TGF5ZXIubmFtZSA9IFwiZ2FtZU1lbnVcIjtcclxuICAgICAgICBtZW51TGF5ZXIuYWRkKGNsYXNzaWNHYW1lVGV4dCk7XHJcbiAgICAgICAgbWVudUxheWVyLmFkZCh0aW1lVHJpYWxHYW1lVGV4dCk7XHJcbiAgICAgICAgbWVudUxheWVyLmFkZChzY29yZUJvYXJkVGV4dCk7XHJcbiAgICAgICAgbWVudUxheWVyLmFkZChpbmZvcm1hdGlvblRleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZChtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICAvL0V2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIHZhciBjbGFzc2ljR2FtZVRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgY2xhc3NpY0dhbWVUZXh0LmZpbGwoJ2JsYWNrJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIHZhciBjbGFzc2ljR2FtZVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc2ljR2FtZVRleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICBjbGFzc2ljR2FtZVRleHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNsYXNzaWNHYW1lVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjbGFzc2ljR2FtZVRleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xhc3NpY0dhbWVUZXh0TW91c2VPdXQuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2xhc3NpY0dhbWVUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNsYXNzaWNEaWZmaWN1bHR5U2VsZWN0TWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZVRyaWFsR2FtZVRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgbWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVUcmlhbEdhbWVUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsR2FtZVRleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxHYW1lTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmVCb2FyZFRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgc2NvcmVCb2FyZFRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgbWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIHNjb3JlQm9hcmRUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgc2NvcmVCb2FyZFRleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICBzY29yZUJvYXJkVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2NvcmVCb2FyZFRleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2NvcmVCb2FyZFRleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2NvcmVCb2FyZFRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY29yZUJvYXJkVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY29yZUJvYXJkTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgaW5mb3JtYXRpb25UZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgaW5mb3JtYXRpb25UZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25UZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgbWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvblRleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluZm9ybWF0aW9uVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvbk1lbnUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGFzc2ljRGlmZmljdWx0eVNlbGVjdE1lbnUoKSB7XHJcblxyXG4gICAgICAgIGlmIChzdGFnZS5oYXNDaGlsZHJlbigpKSB7XHJcbiAgICAgICAgICAgIHN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVhc3lUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnS8O2bm55xbEgKDV4NSknLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGVhc3lUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBtZWRpdW1UZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpLFxyXG4gICAgICAgICAgICB0ZXh0OiAnS8O2emVwZXMgKDEweDEwKScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVkaXVtVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBtZWRpdW1UZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBoYXJkVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDEwMCxcclxuICAgICAgICAgICAgdGV4dDogJ05laMOpeiAoMTV4MTUpJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBoYXJkVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWaXNzemEgYSBmxZFtZW7DvGJlJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0xheWVyIHNldHVwXHJcbiAgICAgICAgZGlmZmljdWx0eUxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIubmFtZSA9IFwiZGlmZmljdWx0eVNlbGVjdE1lbnVcIjtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIuYWRkKGVhc3lUZXh0KTtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIuYWRkKG1lZGl1bVRleHQpO1xyXG4gICAgICAgIGRpZmZpY3VsdHlMYXllci5hZGQoaGFyZFRleHQpO1xyXG4gICAgICAgIGRpZmZpY3VsdHlMYXllci5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZChkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvL0Vhc3kgbWVudVxyXG4gICAgICAgIHZhciBlYXN5VGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgZWFzeVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIGRpZmZpY3VsdHlMYXllcik7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlYXN5VGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJlYXN5XCI7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3Q2xhc3NpY0dhbWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9NZWRpdW0gbWVudVxyXG4gICAgICAgIHZhciBtZWRpdW1UZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIG1lZGl1bVRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIG1lZGl1bVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBtZWRpdW1UZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgbWVkaXVtVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWVkaXVtVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1lZGl1bVRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJtZWRpdW1cIjtcclxuICAgICAgICAgICAgc3RhcnROZXdDbGFzc2ljR2FtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0hhcmQgbWVudVxyXG4gICAgICAgIHZhciBoYXJkVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgaGFyZFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIGRpZmZpY3VsdHlMYXllcik7XHJcblxyXG4gICAgICAgIGhhcmRUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGhhcmRUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJoYXJkXCI7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3Q2xhc3NpY0dhbWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9CYWNrIG1lbnVcclxuICAgICAgICB2YXIgYmFja1RleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRpbWVUcmlhbEdhbWVNZW51KCkge1xyXG5cclxuICAgICAgICBpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICBzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpLFxyXG4gICAgICAgICAgICB0ZXh0OiAnSWTFkWZ1dGFtIGrDoXTDqWsgaW5kw610w6FzYScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiB0aW1lVHJpYWxUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDIwMCxcclxuICAgICAgICAgICAgdGV4dDogJ1Zpc3N6YSBhIGbFkW1lbsO8YmUnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGJhY2tUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTGF5ZXIgc2V0dXBcclxuICAgICAgICB0aW1lVHJpYWxHYW1lTGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVMYXllci5uYW1lID0gXCJ0aW1lVHJpYWxHYW1lTGF5ZXJcIjtcclxuICAgICAgICB0aW1lVHJpYWxHYW1lTGF5ZXIuYWRkKHRpbWVUcmlhbFRleHQpO1xyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVMYXllci5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZCh0aW1lVHJpYWxHYW1lTGF5ZXIpO1xyXG5cclxuICAgICAgICAvL1RpbWUgVHJpYWwgbWVudVxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIHRpbWVUcmlhbFRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgdGltZVRyaWFsR2FtZUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVUcmlhbFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxUZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgdGltZVRyaWFsR2FtZUxheWVyKTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxUZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRpbWVUcmlhbFRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3VGltZVRyaWFsR2FtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JhY2sgbWVudVxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCB0aW1lVHJpYWxHYW1lTGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIHRpbWVUcmlhbEdhbWVMYXllcik7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1haW5NZW51KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2NvcmVCb2FyZE1lbnUoKSB7XHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY2xhc3NpY1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgLSAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdLbGFzc3ppa3VzIGrDoXTDqWttw7NkJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjbGFzc2ljVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBjbGFzc2ljVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgZWFzeVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogKHdpZHRoIC8gMikgLSAxMjAsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSAtIDQwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnS8O2bm55xbFcXG4nICsgKHR5cGVvZiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlX2Vhc3knKSA9PSAndW5kZWZpbmVkJyA/ICc5OTo5OScgOiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlX2Vhc3knKSksXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAxOCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWFzeVRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogZWFzeVRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIG1lZGl1bVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgLSA0MCxcclxuICAgICAgICAgICAgdGV4dDogJ0vDtnplcGVzXFxuJyArICh0eXBlb2YgJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV9tZWRpdW0nKSA9PSAndW5kZWZpbmVkJyA/ICc5OTo5OScgOiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlX21lZGl1bScpKSxcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IG1lZGl1bVRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGhhcmRUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6ICh3aWR0aCAvIDIpICsgMTIwLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgLSA0MCxcclxuICAgICAgICAgICAgdGV4dDogJ05laMOpelxcbicgKyAodHlwZW9mICQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfaGFyZCcpID09ICd1bmRlZmluZWQnID8gJzk5Ojk5JyA6ICQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfaGFyZCcpKSxcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBoYXJkVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZVRyaWFsVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDQwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnSWTFkWZ1dGFtIGrDoXTDqWttw7NkJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IHRpbWVUcmlhbFRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDEwMCxcclxuICAgICAgICAgICAgdGV4dDogKHR5cGVvZiAkLmNvb2tpZSgndGltZV90cmlhbF9zY29yZScpID09ICd1bmRlZmluZWQnID8gJzAnIDogJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnKSkgKyBcIi4gc3ppbnRcIixcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXZlbFRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogbGV2ZWxUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDIwMCxcclxuICAgICAgICAgICAgdGV4dDogJ1Zpc3N6YSBhIGbFkW1lbsO8YmUnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGJhY2tUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTGF5ZXIgc2V0dXBcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLm5hbWUgPSBcInNjb3JlQm9hcmRNZW51TGF5ZXJcIjtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZChjbGFzc2ljVGV4dCk7XHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllci5hZGQoZWFzeVRleHQpO1xyXG4gICAgICAgIHNjb3JlQm9hcmRNZW51TGF5ZXIuYWRkKG1lZGl1bVRleHQpO1xyXG4gICAgICAgIHNjb3JlQm9hcmRNZW51TGF5ZXIuYWRkKGhhcmRUZXh0KTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZCh0aW1lVHJpYWxUZXh0KTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZChsZXZlbFRleHQpO1xyXG4gICAgICAgIHNjb3JlQm9hcmRNZW51TGF5ZXIuYWRkKGJhY2tUZXh0KTtcclxuICAgICAgICBzdGFnZS5hZGQoc2NvcmVCb2FyZE1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIC8vQmFjayBtZW51XHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0LmZpbGwoJ2JsYWNrJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIHNjb3JlQm9hcmRNZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIHNjb3JlQm9hcmRNZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluZm9ybWF0aW9uTWVudSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaW5mb3JtYXRpb25UZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgaW5mb1RleHQgPSAnQSBqw6F0w6lrIGPDqWxqYTpcXG5Gb3JnYXNkIMO6Z3kgYSBjc8O2dmVrZXQsIGhvZ3kgYSB2w6lnw6luIGF6IMO2c3N6ZXMgw7Zzc3pla8O2dHRldMOpc2JlbiBsZWd5ZW5layBhIGtpaW5kdWzDoXNpIHBvbnR0YWwhXFxuJztcclxuICAgICAgICBpbmZvVGV4dCArPSAnQSBrbGFzc3ppa3VzIG3Ds2RiYW4gMyBuZWjDqXpzw6lnIGvDtnrDvGwgdsOhbGFzenRoYXRzeiwgbcOtZyBheiBpZMWRZnV0YW1uw6FsIGZvbHlhbWF0b3NhbiBmb2duYWsgbmVoZXplZG5pIGEgcMOhbHnDoWsuXFxuJztcclxuICAgICAgICBpbmZvVGV4dCArPSAnSsOhdMOpa23Ds2R0w7NsIGbDvGdnZXRsZW7DvGwgZm9udG9zIHN6ZXJlcGUgbGVzeiBheiBpZMWRbmVrIGlzLCDDumd5aG9neSBuZSBoZXppdMOhbGogdMO6bCBzb2thdCFcXG4nO1xyXG4gICAgICAgIGluZm9UZXh0ICs9ICdBeiBlbMOpcnQgZXJlZG3DqW55ZWlkZXQgYXogZXJlZG3DqW55dMOhYmxhIG1lbsO8cG9udGJhbiB0ZWtpbnRoZXRlZCBtZWchXFxuXFxuS8Opc3rDrXRldHRlOiBXaGl0ZSBSYWJiaXQgKFJ1c3prYSBUYW3DoXMpIChDKSAyMDE0LFxcbkUtbWFpbDogcnVzemthIGRvdCB0YW1hcyBhdCBnbWFpbCBkb3QgY29tJztcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0LnNldFRleHQoaW5mb1RleHQpO1xyXG5cclxuICAgICAgICBpbmZvcm1hdGlvblRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogKGluZm9ybWF0aW9uVGV4dC5nZXRXaWR0aCgpIC8gMikgPiAwID8gKGluZm9ybWF0aW9uVGV4dC5nZXRXaWR0aCgpIC8gMikgOiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDIwMCxcclxuICAgICAgICAgICAgdGV4dDogJ1Zpc3N6YSBhIGbFkW1lbsO8YmUnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGJhY2tUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTGF5ZXIgc2V0dXBcclxuICAgICAgICBpbmZvcm1hdGlvbk1lbnVMYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XHJcbiAgICAgICAgaW5mb3JtYXRpb25NZW51TGF5ZXIubmFtZSA9IFwiaW5mb3JtYXRpb25NZW51TGF5ZXJcIjtcclxuICAgICAgICBpbmZvcm1hdGlvbk1lbnVMYXllci5hZGQoaW5mb3JtYXRpb25UZXh0KTtcclxuICAgICAgICBpbmZvcm1hdGlvbk1lbnVMYXllci5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZChpbmZvcm1hdGlvbk1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIC8vQmFjayBtZW51XHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0LmZpbGwoJ2JsYWNrJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIGluZm9ybWF0aW9uTWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbk1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1haW5NZW51KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2FtZVRhYmxlKCkge1xyXG5cclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGogPSAwO1xyXG5cclxuICAgICAgICBnYW1lTGF5ZXJzID0gW107XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxheWVyUm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGdhbWVMYXllcnNbaV0gPSBuZXcgQXJyYXkobGF5ZXJDb2x1bW5zKTtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxheWVyQ29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lTGF5ZXJzW2ldW2pdID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmxvY2tzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVGaWVsZHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgdmFyIGogPSAwO1xyXG4gICAgICAgICAgICB2YXIgZ3JlYXRlciA9IDA7XHJcbiAgICAgICAgICAgIHZhciBzbWFsbGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIHZhciBnZW5lcmF0ZUl0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGJsb2Nrc1tpXSA9IG5ldyBBcnJheShjb2x1bW5zKTtcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0gPSBuZXcgYmxvY2soaSwgaiwgaSAqIGNvbHVtbnMgKyBqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2hpbGUgKGdlbmVyYXRlSXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAocm93cykpKTtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChjb2x1bW5zKSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNCkgKyAwKTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTGVmdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvY2tzW3ggLSAxXVt5XSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbeF1beV0uZ2V0S2V5KCkgIT0gYmxvY2tzW3ggLSAxXVt5XS5nZXRLZXkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3hdW3ldLnNldExlZnQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbeCAtIDFdW3ldLnNldFJpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JlYXRlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA+IGJsb2Nrc1t4IC0gMV1beV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeCAtIDFdW3ldLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA8IGJsb2Nrc1t4IC0gMV1beV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeCAtIDFdW3ldLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRLZXkoKSA9PSBncmVhdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uc2V0S2V5KHNtYWxsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9VcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvY2tzW3hdW3kgLSAxXSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbeF1beV0uZ2V0S2V5KCkgIT0gYmxvY2tzW3hdW3kgLSAxXS5nZXRLZXkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3hdW3ldLnNldFVwKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3hdW3kgLSAxXS5zZXREb3duKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JlYXRlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA+IGJsb2Nrc1t4XVt5IC0gMV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeF1beSAtIDFdLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA8IGJsb2Nrc1t4XVt5IC0gMV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeF1beSAtIDFdLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRLZXkoKSA9PSBncmVhdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uc2V0S2V5KHNtYWxsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ICE9IGNvbHVtbnMgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvY2tzW3ggKyAxXVt5XSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbeF1beV0uZ2V0S2V5KCkgIT0gYmxvY2tzW3ggKyAxXVt5XS5nZXRLZXkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3hdW3ldLnNldFJpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3ggKyAxXVt5XS5zZXRMZWZ0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JlYXRlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA+IGJsb2Nrc1t4ICsgMV1beV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeCArIDFdW3ldLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA8IGJsb2Nrc1t4ICsgMV1beV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeCArIDFdW3ldLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRLZXkoKSA9PSBncmVhdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uc2V0S2V5KHNtYWxsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ICE9IHJvd3MgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Eb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBibG9ja3NbeF1beSArIDFdICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSAhPSBibG9ja3NbeF1beSArIDFdLmdldEtleSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbeF1beV0uc2V0RG93bih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4XVt5ICsgMV0uc2V0VXAodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmVhdGVyID0gYmxvY2tzW3hdW3ldLmdldEtleSgpID4gYmxvY2tzW3hdW3kgKyAxXS5nZXRLZXkoKSA/IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA6IGJsb2Nrc1t4XVt5ICsgMV0uZ2V0S2V5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbGVyID0gYmxvY2tzW3hdW3ldLmdldEtleSgpIDwgYmxvY2tzW3hdW3kgKyAxXS5nZXRLZXkoKSA/IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA6IGJsb2Nrc1t4XVt5ICsgMV0uZ2V0S2V5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldEtleSgpID09IGdyZWF0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqXS5zZXRLZXkoc21hbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldEtleSgpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVJdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmxvY2tzW3N0YXJ0aW5nUG9pbnRYXVtzdGFydGluZ1BvaW50WV0uc2V0Q29ubmVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICBibG9ja3Nbc3RhcnRpbmdQb2ludFhdW3N0YXJ0aW5nUG9pbnRZXS5jb25uZWN0aW9uSGFuZGxlcih0cnVlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLnNodWZmbGVJdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3R2FtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLmluaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lTGF5ZXJzW01hdGguZmxvb3IoaSAvIGxheWVyU2l6ZSldW01hdGguZmxvb3IoaiAvIGxheWVyU2l6ZSldLmFkZChibG9ja3NbaV1bal0uZ2V0Qm94KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQaXBlQ29ubmVjdGlvbnMoKTtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxheWVyUm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbGF5ZXJDb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZS5hZGQoZ2FtZUxheWVyc1tpXVtqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrUGlwZUNvbm5lY3Rpb25zID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uc2V0Q29ubmVjdGVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uY29ubmVjdGlvbkhhbmRsZXIoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJsb2Nrc1tzdGFydGluZ1BvaW50WF1bc3RhcnRpbmdQb2ludFldLnNldENvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgICAgICAgYmxvY2tzW3N0YXJ0aW5nUG9pbnRYXVtzdGFydGluZ1BvaW50WV0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAvL0l0ZXJhdGUgdGhyb3VnaHQgdGhlIG1hdHJpeFxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9JZiBjdXJyZW50IGVsZW1lbnQgaXMgY29ubmVjdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbaV1bal0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9MZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSAwICYmICF1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldExlZnQoKSAmJiBibG9ja3NbaSAtIDFdW2pdLmdldFJpZ2h0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2Nrc1tpIC0gMV1bal0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2kgLSAxXVtqXS5zZXRDb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpIC0gMV1bal0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1JpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9IHJvd3MgLSAxICYmICF1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldFJpZ2h0KCkgJiYgYmxvY2tzW2kgKyAxXVtqXS5nZXRMZWZ0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2Nrc1tpICsgMV1bal0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2kgKyAxXVtqXS5zZXRDb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpICsgMV1bal0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1VwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqICE9PSAwICYmICF1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldFVwKCkgJiYgYmxvY2tzW2ldW2ogLSAxXS5nZXREb3duKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2Nrc1tpXVtqIC0gMV0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2ogLSAxXS5zZXRDb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqIC0gMV0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Rvd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogIT0gY29sdW1ucyAtIDEgJiYgIXVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbaV1bal0uZ2V0RG93bigpICYmIGJsb2Nrc1tpXVtqICsgMV0uZ2V0VXAoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYmxvY2tzW2ldW2ogKyAxXS5nZXRDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1baiArIDFdLnNldENvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2ogKyAxXS5jb25uZWN0aW9uSGFuZGxlcih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbmZvcm1hdGlvblBhbmVsKCkge1xyXG5cclxuICAgICAgICB2YXIgeCA9ICh3aWR0aCAvIDIgKyAocm93cyAqIGJsb2NrU2l6ZSkgLyAyKSArIHJvd3MgKiAoc3BhY2UgKiAyKTtcclxuICAgICAgICB2YXIgeSA9IDA7XHJcbiAgICAgICAgdmFyIHBhbmVsV2lkdGggPSB3aWR0aCAtICh4ICsgKHJvd3MgKiBzcGFjZSAqIDIpKTtcclxuICAgICAgICB2YXIgcGFuZWxIZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciBpbmZvcm1hdGlvbkxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIHBhbmVsID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xyXG4gICAgICAgICAgICB4OiB4LFxyXG4gICAgICAgICAgICB5OiB5LFxyXG4gICAgICAgICAgICB3aWR0aDogcGFuZWxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBwYW5lbEhlaWdodFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZXIgPSBuZXcgS2luZXRpYy5Hcm91cCh7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiB4IC0gd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzY29yZSA9IG5ldyBLaW5ldGljLkdyb3VwKHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgd2lkdGg6IHggLSB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB3aWR0aDogeCAtIHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogMjAwLFxyXG4gICAgICAgICAgICB5OiAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWaXNzemEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNDgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0aW1lclRpdGxlVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogNTAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdJZMWROicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVyVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnMDA6MDAnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNDgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzY29yZVRpdGxlVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAyMDAsXHJcbiAgICAgICAgICAgIHk6IDUwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnRWzFkXrFkSByZWtvcmQ6JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDIwMCxcclxuICAgICAgICAgICAgeTogMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnMDA6MDAnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNDgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbFRpdGxlVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogMjAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQWt0dcOhbGlzIHN6aW50OicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogMjUwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnMScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiA2NCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0UGFuZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZXIuYWRkKHRpbWVyVGl0bGVUZXh0KTtcclxuICAgICAgICAgICAgdGltZXIuYWRkKHRpbWVyVGV4dCk7XHJcbiAgICAgICAgICAgIHNjb3JlLmFkZChzY29yZVRpdGxlVGV4dCk7XHJcbiAgICAgICAgICAgIHNjb3JlLmFkZChzY29yZVRleHQpO1xyXG4gICAgICAgICAgICBzY29yZS5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgICAgICBsZXZlbC5hZGQobGV2ZWxUaXRsZVRleHQpO1xyXG4gICAgICAgICAgICBsZXZlbC5hZGQobGV2ZWxUZXh0KTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKHRpbWVyKTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKHNjb3JlKTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKGxldmVsKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5hZGQocGFuZWwpO1xyXG4gICAgICAgICAgICBzdGFnZS5hZGQoaW5mb3JtYXRpb25MYXllcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGltZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZXIuc2hvdygpO1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhpZGVUaW1lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lci5oaWRlKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd1Njb3JlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3JlLnNob3coKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZVRpbWVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3JlLmhpZGUoKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93TGV2ZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV2ZWwuc2hvdygpO1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhpZGVMZXZlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXZlbC5oaWRlKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aW1lclRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBzY29yZVRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlTGV2ZWwgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXZlbFRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbkxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbkxheWVyKTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdXQuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFpbk1lbnUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93Qm94U3RhdGVzKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgXCIsIFwiICsgaiArIFwiOiBcIiArIGJsb2Nrc1tpXVtqXS5nZXRDb25uZWN0ZWQoKSArIFwiIHJvdGF0aW9uOlwiICsgYmxvY2tzW2ldW2pdLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dEaXJlY3Rpb25zKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgXCIsIFwiICsgaiArIFwiOiAodXAsIGxlZnQsIGRvd24sIHJpZ2h0KVwiICsgYmxvY2tzW2ldW2pdLmdldFVwKCkgKyBibG9ja3NbaV1bal0uZ2V0TGVmdCgpICsgYmxvY2tzW2ldW2pdLmdldERvd24oKSArIGJsb2Nrc1tpXVtqXS5nZXRSaWdodCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93Qm94TWFwKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvdXQgPSBcIiBcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByb3dzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIG91dCArPSAoYmxvY2tzW2pdW2ldLmdldENvbm5lY3RlZCgpID8gXCJPXCIgOiBcIi1cIikgKyBcIiBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvdXQgKyBpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJcXG5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xhc3NpY0dhbWVGaW5pc2hlZCgpIHtcclxuICAgICAgICB0aW1lci5zdG9wKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3UmVjb3JkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV8nICsgZ2FtZURpZmZpY3VsdHkpID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfJyArIGdhbWVEaWZmaWN1bHR5KSA+IHRpbWVyLmdldE1pbigpICsgXCIgOiBcIiArIHRpbWVyLmdldFNlYygpKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhbGVydChcIkdyYXR1bMOhbG9rLCBzaWtlcmVzZW4ga2lyYWt0YWQgYSBww6FsecOhdCEgXFxuQXogaWTFkWQ6IFwiICsgdGltZXIuZ2V0TWluKCkgKyBcIiA6IFwiICsgdGltZXIuZ2V0U2VjKCkgKyAobmV3UmVjb3JkID8gXCJcXG7DmmogcmVrb3JkIVwiIDogXCJcIikpO1xyXG4gICAgICAgICAgICBpZiAobmV3UmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSwgdGltZXIuZ2V0TWluKCkgKyAnIDogJyArIHRpbWVyLmdldFNlYygpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogMzY1LFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1haW5NZW51KCk7XHJcblxyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdGltZVRyaWFsR2FtZUZpbmlzaGVkKCkge1xyXG4gICAgICAgIHRpbWVyLnN0b3AoKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc3RhcnROZXdUaW1lVHJpYWxHYW1lKCk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0aW1lVHJpYWxHYW1lVGltZVVwKCkge1xyXG4gICAgICAgIHRpbWVyLnN0b3AoKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1JlY29yZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICQuY29va2llKCd0aW1lX3RyaWFsX3Njb3JlJykgPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIG5ld1JlY29yZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnKSA8IGxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhbGVydChcIkdyYXR1bMOhbG9rIGEgdGVsamVzw610bcOpbnllZGhleiEgXFxuQXogZWzDqXJ0IHN6aW50ZWQ6IFwiICsgbGV2ZWwgKyAobmV3UmVjb3JkID8gXCJcXG7DmmogcmVrb3JkIVwiIDogXCJcIikpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5ld1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnLCBsZXZlbCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IDM2NSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG5cclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJsb2NrKHJvdywgY29sdW1uLCBnZW5lcmF0ZUtleSkge1xyXG5cclxuICAgICAgICAvL01haW4gYXR0cmlidXRlc1xyXG4gICAgICAgIHZhciB4ID0gKHJvdyAqICgoc3BhY2UgKiAyKSArIGJsb2NrU2l6ZSkgKyBzcGFjZSk7XHJcbiAgICAgICAgdmFyIHkgPSAoY29sdW1uICogKChzcGFjZSAqIDIpICsgYmxvY2tTaXplKSArIHNwYWNlKTtcclxuICAgICAgICB2YXIgdXAgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbGVmdCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkb3duID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGtleSA9IGdlbmVyYXRlS2V5O1xyXG5cclxuICAgICAgICB2YXIgY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gMDtcclxuXHJcbiAgICAgICAgLy9TaGFwZXNcclxuXHJcbiAgICAgICAgdmFyIGJveCA9IG5ldyBLaW5ldGljLkdyb3VwKHtcclxuICAgICAgICAgICAgeDogKHggKyBibG9ja1NpemUgLyAyKSArICgod2lkdGggLSAoYmxvY2tTaXplICogcm93cykpIC8gMikgLSBibG9ja1NpemUgLyAyLFxyXG4gICAgICAgICAgICB5OiB5ICsgYmxvY2tTaXplIC8gMixcclxuICAgICAgICAgICAgd2lkdGg6IGJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBibG9ja1NpemUsXHJcbiAgICAgICAgICAgIG9mZnNldDoge1xyXG4gICAgICAgICAgICAgICAgeDogYmxvY2tTaXplIC8gMixcclxuICAgICAgICAgICAgICAgIHk6IGJsb2NrU2l6ZSAvIDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcGlwZXMgPSBuZXcgS2luZXRpYy5Hcm91cCh7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IEtpbmV0aWMuUmVjdCh7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiBibG9ja1NpemUsXHJcbiAgICAgICAgICAgIGhlaWdodDogYmxvY2tTaXplLFxyXG4gICAgICAgICAgICBuYW1lOiB4ICsgJy0nICsgeSxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknLFxyXG4gICAgICAgICAgICBzdHJva2U6ICdibGFjaycsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzcGFjZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2dldHRlcnMgYW5kIHNldHRlcnNcclxuICAgICAgICB0aGlzLmdldENvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGVkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q29ubmVjdGVkID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgY29ubmVjdGVkID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRLZXkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldEtleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGtleSA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Um90YXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TGVmdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSB2YWx1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldExlZnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXREb3duID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgZG93biA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0RG93biA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZG93bjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldFJpZ2h0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgcmlnaHQgPSB2YWx1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFJpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByaWdodDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgdXAgPSB2YWx1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldFVwID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1cDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldEJveCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0UGFyZW50TGF5ZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBwYXJlbnRMYXllciA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vTWV0aG9kc1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbihjb25uZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZVVwJykuc3Ryb2tlKCdncmVlbicpO1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVMZWZ0Jykuc3Ryb2tlKCdncmVlbicpO1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVEb3duJykuc3Ryb2tlKCdncmVlbicpO1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVSaWdodCcpLnN0cm9rZSgnZ3JlZW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmZpbmQoJy5waXBlVXAnKS5zdHJva2UoJ3JlZCcpO1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVMZWZ0Jykuc3Ryb2tlKCdyZWQnKTtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmZpbmQoJy5waXBlRG93bicpLnN0cm9rZSgncmVkJyk7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZVJpZ2h0Jykuc3Ryb2tlKCdyZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2h1ZmZsZUl0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqICgzKSkgKyAwKTsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJvdGF0ZVJpZ2h0KCkge1xyXG4gICAgICAgICAgICB2YXIgdGVtcCA9IHVwO1xyXG4gICAgICAgICAgICB1cCA9IGxlZnQ7XHJcbiAgICAgICAgICAgIGxlZnQgPSBkb3duO1xyXG4gICAgICAgICAgICBkb3duID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gdGVtcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJvdGF0ZUxlZnQoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wID0gdXA7XHJcbiAgICAgICAgICAgIHVwID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gZG93bjtcclxuICAgICAgICAgICAgZG93biA9IGxlZnQ7XHJcbiAgICAgICAgICAgIGxlZnQgPSB0ZW1wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1vdXNlQ2xpY2sgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uSXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgYm94LnJvdGF0ZSg1KTtcclxuICAgICAgICAgICAgaWYgKGJveC5yb3RhdGlvbigpID49IChyb3RhdGlvbiArIDkwKSkge1xyXG4gICAgICAgICAgICAgICAgYm94LnJvdGF0aW9uKHJvdGF0aW9uICsgOTApO1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb24gPSBib3gucm90YXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZmluaXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibG9ja3NbaV1bal0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbklzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVUeXBlID09IFwiY2xhc3NpY1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzaWNHYW1lRmluaXNoZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVUeXBlID09IFwidGltZS10cmlhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVUcmlhbEdhbWVGaW5pc2hlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxheWVyUm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsYXllckNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUxheWVyc1tpXVtqXS5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBnYW1lTGF5ZXJzW01hdGguZmxvb3Iocm93IC8gbGF5ZXJTaXplKV1bTWF0aC5mbG9vcihjb2x1bW4gLyBsYXllclNpemUpXSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgLy9QaXBlIGdyYXBoaWMgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICB2YXIgcGlwZVVwID0gbmV3IEtpbmV0aWMuTGluZSh7XHJcbiAgICAgICAgICAgICAgICBwb2ludHM6IFtibG9ja1NpemUgLyAyLCAwLCBibG9ja1NpemUgLyAyLCBibG9ja1NpemUgLyAyXSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMTMsXHJcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3BpcGVVcCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGlwZUxlZnQgPSBuZXcgS2luZXRpYy5MaW5lKHtcclxuICAgICAgICAgICAgICAgIHBvaW50czogWzAsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDJdLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAncmVkJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxMyxcclxuICAgICAgICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGlwZUxlZnQnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBpcGVEb3duID0gbmV3IEtpbmV0aWMuTGluZSh7XHJcbiAgICAgICAgICAgICAgICBwb2ludHM6IFtibG9ja1NpemUgLyAyLCBibG9ja1NpemUsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDJdLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAncmVkJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxMyxcclxuICAgICAgICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGlwZURvd24nXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBpcGVSaWdodCA9IG5ldyBLaW5ldGljLkxpbmUoe1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzOiBbYmxvY2tTaXplLCBibG9ja1NpemUgLyAyLCBibG9ja1NpemUgLyAyLCBibG9ja1NpemUgLyAyXSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMTMsXHJcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiAncm91bmQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3BpcGVSaWdodCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL1BsYWNpbmcgcGlwZXNcclxuICAgICAgICAgICAgaWYgKHVwKSB7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5hZGQocGlwZVVwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxlZnQpIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmFkZChwaXBlTGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkb3duKSB7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5hZGQocGlwZURvd24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmFkZChwaXBlUmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBib3gub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbW91c2VDbGljay5pc1J1bm5pbmcoKSAmJiAhYW5pbWF0aW9uSXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZUNsaWNrLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuY2hlY2tQaXBlQ29ubmVjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJveC5hZGQoc2hhcGUpO1xyXG4gICAgICAgICAgICBib3guYWRkKHBpcGVzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59KShqUXVlcnkpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHBpcGUgPSByZXF1aXJlKCcuL2pzL3BpcGUnKTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmNvbnNvbGUubG9nKCdZZXknLCBwaXBlKTtcbn07Il19
