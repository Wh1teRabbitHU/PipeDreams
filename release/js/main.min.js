!function(){return function t(e,i,n){function a(s,o){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!o&&h)return h(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return a(e[s][1][t]||t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}}()({1:[function(t,e,i){},{}],2:[function(t,e,i){(function(n){var a,r,s,o,h,c,l,d,u,f,g,p,v,m,y={};a=this,r=Math.PI/180,(y={version:"5.2.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=y.DD;return!!t&&t.isDragging},isDragReady:function(){var t=y.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){if(void 0!==e)for(var i=e.split(/\s/g),n=0;n<i.length;n++){var a=i[n];a&&(void 0===this.names[a]&&(this.names[a]=[]),this.names[a].push(t))}},_removeName:function(t,e){if(void 0!==t){var i=this.names[t];if(void 0!==i){for(var n=0;n<i.length;n++)i[n]._id===e&&i.splice(n,1);0===i.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*r:t},_parseUA:function(t){var e=t.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),a=!!t.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",mobile:n,ieMobile:a}},UA:void 0}).UA=y._parseUA(a.navigator&&a.navigator.userAgent||""),function(a,r){if("object"==typeof i){var s=r();if(n.window===n)y.document=n.document,y.window=n;else{var o=t("canvas"),h=t("jsdom").jsdom;y.document=h("<!DOCTYPE html><html><head></head><body></body></html>"),y.window=y.document.createWindow(),y.window.Image=o.Image,y._nodeCanvas=o}return y.root=a,void(e.exports=s)}"function"==typeof define&&define.amd&&define(r),y.document=document,y.window=window,y.root=a}(this,function(){return y}),function(){y.Collection=function(){var t=[].slice.call(arguments),e=t.length,i=0;for(this.length=e;i<e;i++)this[i]=t[i];return this},y.Collection.prototype=[],y.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},y.Collection.prototype.toArray=function(){var t,e=[],i=this.length;for(t=0;t<i;t++)e.push(this[t]);return e},y.Collection.toCollection=function(t){var e,i=new y.Collection,n=t.length;for(e=0;e<n;e++)i.push(t[e]);return i},y.Collection._mapMethod=function(t){y.Collection.prototype[t]=function(){var e,i=this.length,n=[].slice.call(arguments);for(e=0;e<i;e++)this[e][t].apply(this[e],n);return this}},y.Collection.mapMethods=function(t){var e=t.prototype;for(var i in e)y.Collection._mapMethod(i)},y.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},y.Transform.prototype={copy:function(){return new y.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[0]*e+this.m[2]*i,a=this.m[1]*e+this.m[3]*i,r=this.m[0]*-i+this.m[2]*e,s=this.m[1]*-i+this.m[3]*e;return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=s,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var i=this.m[0]+this.m[2]*e,n=this.m[1]+this.m[3]*e,a=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=n,this.m[2]=a,this.m[3]=r,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],a=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=a,this.m[4]=r,this.m[5]=s,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,a=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=a,this.m[4]=r,this.m[5]=s,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var i=this.m[0],n=this.m[1],a=this.m[2],r=this.m[3],s=this.m[4],o=(i*(e-this.m[5])-n*(t-s))/(i*r-n*a),h=(t-s-a*o)/i;return this.translate(h,o)}};var t=Math.PI/180,e=180/Math.PI,n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},a=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;y.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"==Object.prototype.toString.call(t)},_isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},_throttle:function(t,e,i){var n,a,r,s=null,o=0,h=i||{},c=function(){o=!1===h.leading?0:(new Date).getTime(),s=null,r=t.apply(n,a),n=a=null};return function(){var i=(new Date).getTime();o||!1!==h.leading||(o=i);var l=e-(i-o);return n=this,a=arguments,l<=0?(clearTimeout(s),s=null,o=i,r=t.apply(n,a),n=a=null):s||!1===h.trailing||(s=setTimeout(c,l)),r}},_hasMethods:function(t){var e,i=[];for(e in t)this._isFunction(t[e])&&i.push(e);return i.length>0},createCanvasElement:function(){var t=y.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof i},_isInDocument:function(t){for(;t=t.parentNode;)if(t==y.document)return!0;return!1},_simplifyArray:function(t){var e,i,n=[],a=t.length,r=y.Util;for(e=0;e<a;e++)i=t[e],r._isNumber(i)?i=Math.round(1e3*i)/1e3:r._isString(i)||(i=i.toString()),n.push(i);return n},_getImage:function(t,e){var i,n;if(t)if(this._isElement(t))e(t);else if(this._isString(t))(i=new y.window.Image).onload=function(){e(i)},i.src=t;else if(t.data){(n=y.Util.createCanvasElement()).width=t.width,n.height=t.height,n.getContext("2d").putImageData(t,0,0),this._getImage(n.toDataURL(),e)}else e(null);else e(null)},_getRGBAString:function(t){return["rgba(",t.red||0,",",t.green||0,",",t.blue||0,",",t.alpha||1,")"].join("")},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in n?{r:(e=n[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=a.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var i=this._clone(e);for(var n in t)this._isObject(t[n])?i[n]=this._merge(t[n],i[n]):i[n]=t[n];return i},cloneObject:function(t){var e={};for(var i in t)this._isObject(t[i])?e[i]=this.cloneObject(t[i]):this._isArray(t[i])?e[i]=this.cloneArray(t[i]):e[i]=t[i];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(e){return e*t},_radToDeg:function(t){return t*e},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error("Kinetic error: "+t)},warn:function(t){y.root.console&&console.warn&&y.showWarnings&&console.warn("Kinetic warning: "+t)},extend:function(t,e){function i(){this.constructor=t}i.prototype=e.prototype;var n=t.prototype;for(var a in t.prototype=new i,n)n.hasOwnProperty(a)&&(t.prototype[a]=n[a]);t.__super__=e.prototype},addMethods:function(t,e){var i;for(i in e)t.prototype[i]=e[i]},_getControlPoints:function(t,e,i,n,a,r,s){var o=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2)),h=Math.sqrt(Math.pow(a-i,2)+Math.pow(r-n,2)),c=s*o/(o+h),l=s*h/(o+h);return[i-c*(a-t),n-c*(r-e),i+l*(a-t),n+l*(r-e)]},_expandPoints:function(t,e){var i,n,a=t.length,r=[];for(i=2;i<a-2;i+=2)n=y.Util._getControlPoints(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),r.push(n[0]),r.push(n[1]),r.push(t[i]),r.push(t[i+1]),r.push(n[2]),r.push(n[3]);return r},_removeLastLetter:function(t){return t.substring(0,t.length-1)}}}(),s=y.Util.createCanvasElement().getContext("2d"),o=y.UA.mobile?(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1):1,y.Canvas=function(t){this.init(t)},y.Canvas.prototype={init:function(t){var e=(t||{}).pixelRatio||y.pixelRatio||o;this.pixelRatio=e,this._canvas=y.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return y.Util.warn("Unable to get data URL. "+t.message),""}}}},y.SceneCanvas=function(t){var e=t||{},i=e.width||0,n=e.height||0;y.Canvas.call(this,e),this.context=new y.SceneContext(this),this.setSize(i,n)},y.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,i=this.getContext()._context;y.Canvas.prototype.setWidth.call(this,t),i.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,i=this.getContext()._context;y.Canvas.prototype.setHeight.call(this,t),i.scale(e,e)}},y.Util.extend(y.SceneCanvas,y.Canvas),y.HitCanvas=function(t){var e=t||{},i=e.width||0,n=e.height||0;y.Canvas.call(this,e),this.context=new y.HitContext(this),this.setSize(i,n),this.hitCanvas=!0},y.Util.extend(y.HitCanvas,y.Canvas),h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],y.Context=function(t){this.init(t)},y.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),y.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(t){var e,i,n,a,r=this.traceArr,s=r.length,o="";for(e=0;e<s;e++)(n=(i=r[e]).method)?(a=i.args,o+=n,t?o+="()":y.Util._isArray(a[0])?o+="(["+a.join(",")+"])":o+="("+a.join(",")+")"):(o+=i.property,t||(o+="="+i.val)),o+=";";return o},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e=this.traceArr;e.push(t),e.length>=y.traceArrMax&&e.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,i=this,n=h.length,a=y.Util._simplifyArray,r=this.setAttr,s=function(t){var n,r=i[t];i[t]=function(){return e=a(Array.prototype.slice.call(arguments,0)),n=r.apply(i,arguments),i._trace({method:t,args:e}),n}};for(t=0;t<n;t++)s(h[t]);i.setAttr=function(){r.apply(i,arguments),i._trace({property:arguments[0],val:arguments[1]})}}},y.SceneContext=function(t){y.Context.call(this,t)},y.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||y.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),i=t.getFillPatternX(),n=t.getFillPatternY(),a=t.getFillPatternScale(),r=y.getAngle(t.getFillPatternRotation()),s=t.getFillPatternOffset(),o=t.getFillPatternRepeat();(i||n)&&this.translate(i||0,n||0),r&&this.rotate(r),a&&this.scale(a.x,a.y),s&&this.translate(-1*s.x,-1*s.y),this.setAttr("fillStyle",this.createPattern(e,o||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),i=t.getFillLinearGradientEndPoint(),n=t.getFillLinearGradientColorStops(),a=this.createLinearGradient(e.x,e.y,i.x,i.y);if(n){for(var r=0;r<n.length;r+=2)a.addColorStop(n[r],n[r+1]);this.setAttr("fillStyle",a),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),i=t.getFillRadialGradientEndPoint(),n=t.getFillRadialGradientStartRadius(),a=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),s=this.createRadialGradient(e.x,e.y,n,i.x,i.y,a),o=0;o<r.length;o+=2)s.addColorStop(r[o],r[o+1]);this.setAttr("fillStyle",s),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),i=t.getFillPatternImage(),n=t.getFillLinearGradientColorStops(),a=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):i&&"pattern"===r?this._fillPattern(t):n&&"linear-gradient"===r?this._fillLinearGradient(t):a&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):n?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();t.hasStroke()&&(i||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||y.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),i||this.restore())},_applyShadow:function(t){var e=y.Util,i=t.getAbsoluteOpacity(),n=e.get(t.getShadowColor(),"black"),a=e.get(t.getShadowBlur(),5),r=e.get(t.getShadowOpacity(),1),s=e.get(t.getShadowOffset(),{x:0,y:0});r&&this.setAttr("globalAlpha",r*i),this.setAttr("shadowColor",n),this.setAttr("shadowBlur",a),this.setAttr("shadowOffsetX",s.x),this.setAttr("shadowOffsetY",s.y)}},y.Util.extend(y.SceneContext,y.Context),y.HitContext=function(t){y.Context.call(this,t)},y.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},y.Util.extend(y.HitContext,y.Context),y.Factory={addGetterSetter:function(t,e,i,n,a){this.addGetter(t,e,i),this.addSetter(t,e,n,a),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var n="get"+y.Util._capitalize(e);t.prototype[n]=function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,e,i,n){var a="set"+y.Util._capitalize(e);t.prototype[a]=function(t){return i&&(t=i.call(this,t)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,e,i,n,a){var r,s,o=i.length,h=y.Util._capitalize,c="get"+h(e),l="set"+h(e);t.prototype[c]=function(){var t={};for(r=0;r<o;r++)t[s=i[r]]=this.getAttr(e+h(s));return t},t.prototype[l]=function(t){var i,r=this.attrs[e];for(i in n&&(t=n.call(this,t)),t)this._setAttr(e+h(i),t[i]);return this._fireChangeEvent(e,r,t),a&&a.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var i=y.Util._capitalize(e),n="set"+i,a="get"+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[a]()}},backCompat:function(t,e){var i;for(i in e)t.prototype[i]=t.prototype[e[i]]},afterSetFilter:function(){this._filterUpToDate=!1}},y.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}},c="Shape",l=["id"],d=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(" "),y.Util.addMethods(y.Node,{_init:function(t){var e=this;this._id=y.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(t),this.on(d,function(){this._clearCache("transform"),e._clearSelfAndDescendantCache("absoluteTransform")}),this.on("visibleChange.kinetic",function(){e._clearSelfAndDescendantCache("visible")}),this.on("listeningChange.kinetic",function(){e._clearSelfAndDescendantCache("listening")}),this.on("opacityChange.kinetic",function(){e._clearSelfAndDescendantCache("absoluteOpacity")})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){return void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var e=t||{},i=e.x||0,n=e.y||0,a=e.width||this.width(),r=e.height||this.height(),s=e.drawBorder||!1;if(0!==a&&0!==r){var o=new y.SceneCanvas({pixelRatio:1,width:a,height:r}),h=new y.SceneCanvas({pixelRatio:1,width:a,height:r}),c=new y.HitCanvas({width:a,height:r}),l=o.getContext(),d=c.getContext();return c.isCache=!0,this.clearCache(),l.save(),d.save(),s&&(l.save(),l.beginPath(),l.rect(0,0,a,r),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),l.translate(-1*i,-1*n),d.translate(-1*i,-1*n),"Shape"===this.nodeType&&(l.translate(-1*this.x(),-1*this.y()),d.translate(-1*this.x(),-1*this.y())),this.drawScene(o,this),this.drawHit(c,this),l.restore(),d.restore(),this._cache.canvas={scene:o,filter:h,hit:c},this}y.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.")},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t._applyOpacity(this),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,i,n=this.filters(),a=this._cache.canvas,r=a.scene,s=a.filter,o=s.getContext();if(n){if(!this._filterUpToDate){try{for(t=n.length,o.clear(),o.drawImage(r._canvas,0,0),e=o.getImageData(0,0,s.getWidth(),s.getHeight()),i=0;i<t;i++)n[i].call(this,e),o.putImageData(e,0,0)}catch(t){y.Util.warn("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return s}return r},_drawCachedHitCanvas:function(t){var e=this._cache.canvas.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(e._canvas,0,0),t.restore()},on:function(t,e){var i,n,a,r,s=t.split(" "),o=s.length;for(i=0;i<o;i++)a=(n=s[i].split("."))[0],r=n[1]||"",this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:r,handler:e});return this},off:function(t){var e,i,n,a,r,s=(t||"").split(" "),o=s.length;if(!t)for(i in this.eventListeners)this._off(i);for(e=0;e<o;e++)if(a=(n=s[e].split("."))[0],r=n[1],a)this.eventListeners[a]&&this._off(a,r);else for(i in this.eventListeners)this._off(i,r);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};this.fire(t.type,e)},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},removeEventListener:function(t){this.off(t)},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity"),this},destroy:function(){y._removeId(this.getId()),y._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e="get"+y.Util._capitalize(t);return y.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new y.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,i;if(t)for(e in t)"children"===e||t[e]instanceof y.Node||(i="set"+y.Util._capitalize(e),y.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache("listening",this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var t,e,i,n,a=this.getDepth(),r=this,s=0;return"Stage"!==r.nodeType&&function o(h){for(t=[],e=h.length,i=0;i<e;i++)n=h[i],s++,n.nodeType!==c&&(t=t.concat(n.getChildren().toArray())),n._id===r._id&&(i=e);t.length>0&&t[0].getDepth()<=a&&o(t)}(r.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new y.Transform,i=this.offset();return e.m=t.slice(),e.translate(i.x,i.y),e.getTranslation()},setAbsolutePosition:function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),t},move:function(t){var e=t.x,i=t.y,n=this.getX(),a=this.getY();return void 0!==e&&(n+=e),void 0!==i&&(a+=i),this.setPosition({x:n,y:a}),this},_eachAncestorReverse:function(t,e){var i,n,a=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(a.unshift(this);r&&(!e||r._id!==e._id);)a.unshift(r),r=r.parent;for(i=a.length,n=0;n<i;n++)t(a[n])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(this.parent){var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}y.Util.warn("Node has no parent. moveToTop function is ignored.")},moveUp:function(){if(this.parent){var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}y.Util.warn("Node has no parent. moveUp function is ignored.")},moveDown:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}y.Util.warn("Node has no parent. moveDown function is ignored.")},moveToBottom:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}y.Util.warn("Node has no parent. moveToBottom function is ignored.")},setZIndex:function(t){if(this.parent){var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}y.Util.warn("Node has no parent. zIndex parameter is ignored.")},getAbsoluteOpacity:function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&(this.remove(),t.add(this)),this},toObject:function(){var t,e,i,n,a=y.Util,r={},s=this.getAttrs();for(t in r.attrs={},s)e=s[t],a._isFunction(e)||a._isElement(e)||a._isObject(e)&&a._hasMethods(e)||(i=this[t],delete s[t],n=i?i.call(this):null,s[t]=e,n!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),r},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,i){return i?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache("absoluteTransform",this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,i,n=new y.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),i=t.getTransform(),"all"===e?n.multiply(i):"position"===e&&n.translate(t.x(),t.y())},t),n},getTransform:function(){return this._getCache("transform",this._getTransform)},_getTransform:function(){var t=new y.Transform,e=this.getX(),i=this.getY(),n=y.getAngle(this.getRotation()),a=this.getScaleX(),r=this.getScaleY(),s=this.getSkewX(),o=this.getSkewY(),h=this.getOffsetX(),c=this.getOffsetY();return 0===e&&0===i||t.translate(e,i),0!==n&&t.rotate(n),0===s&&0===o||t.skew(s,o),1===a&&1===r||t.scale(a,r),0===h&&0===c||t.translate(-1*h,-1*c),t},clone:function(t){var e,i,n,a,r,s=this.getClassName(),o=y.Util.cloneObject(this.attrs);for(var h in l)delete o[l[h]];for(e in t)o[e]=t[e];var c=new y[s](o);for(e in this.eventListeners)for(n=(i=this.eventListeners[e]).length,a=0;a<n;a++)(r=i[a]).name.indexOf("kinetic")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(r));return c},toDataURL:function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,n=this.getStage(),a=t.x||0,r=t.y||0,s=new y.SceneCanvas({width:t.width||this.getWidth()||(n?n.getWidth():0),height:t.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:1}),o=s.getContext();return o.save(),(a||r)&&o.translate(-1*a,-1*r),this.drawScene(s),o.restore(),s.toDataURL(e,i)},toImage:function(t){y.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():y.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var i,n,a=this.eventListeners[t];for(i=0;i<a.length;i++)if(!("kinetic"===(n=a[i].name)&&"kinetic"!==e||e&&n!==e)){if(a.splice(i,1),0===a.length){delete this.eventListeners[t];break}i--}},_fireChangeEvent:function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},setId:function(t){var e=this.getId();return y._removeId(e),y._addId(this,t),this._setAttr("id",t),this},setName:function(t){var e=this.getName();return y._removeName(e,this._id),y._addName(this,t),this._setAttr("name",t),this},setAttr:function(t,e){var i=this["set"+y.Util._capitalize(t)];return y.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this},_setAttr:function(t,e){var i;void 0!==e&&(i=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,i,e))},_setComponentAttr:function(t,e,i){var n;void 0!==i&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,n,i))},_fireAndBubble:function(t,e,i){var n=!0;if(e&&this.nodeType===c&&(e.target=this),"mouseenter"===t&&i&&(this._id===i._id||this.isAncestorOf&&this.isAncestorOf(i))?n=!1:"mouseleave"===t&&i&&(this._id===i._id||this.isAncestorOf&&this.isAncestorOf(i))&&(n=!1),n){this._fire(t,e);var a=("mouseenter"===t||"mouseleave"===t)&&(i&&i.isAncestorOf&&i.isAncestorOf(this)||!(!i||!i.isAncestorOf));e&&!e.cancelBubble&&this.parent&&this.parent.isListening()&&!a&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var i,n=this.eventListeners[t];if(e.type=t,n)for(i=0;i<n.length;i++)n[i].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),y.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},y.Node._createNode=function(t,e){var i,n,a,r=y.Node.prototype.getClassName.call(t),s=t.children;if(e&&(t.attrs.container=e),i=new y[r](t.attrs),s)for(n=s.length,a=0;a<n;a++)i.add(this._createNode(s[a]));return i},y.Factory.addOverloadedGetterSetter(y.Node,"position"),y.Factory.addGetterSetter(y.Node,"x",0),y.Factory.addGetterSetter(y.Node,"y",0),y.Factory.addGetterSetter(y.Node,"opacity",1),y.Factory.addGetter(y.Node,"name"),y.Factory.addOverloadedGetterSetter(y.Node,"name"),y.Factory.addGetter(y.Node,"id"),y.Factory.addOverloadedGetterSetter(y.Node,"id"),y.Factory.addGetterSetter(y.Node,"rotation",0),y.Factory.addComponentsGetterSetter(y.Node,"scale",["x","y"]),y.Factory.addGetterSetter(y.Node,"scaleX",1),y.Factory.addGetterSetter(y.Node,"scaleY",1),y.Factory.addComponentsGetterSetter(y.Node,"skew",["x","y"]),y.Factory.addGetterSetter(y.Node,"skewX",0),y.Factory.addGetterSetter(y.Node,"skewY",0),y.Factory.addComponentsGetterSetter(y.Node,"offset",["x","y"]),y.Factory.addGetterSetter(y.Node,"offsetX",0),y.Factory.addGetterSetter(y.Node,"offsetY",0),y.Factory.addSetter(y.Node,"dragDistance"),y.Factory.addOverloadedGetterSetter(y.Node,"dragDistance"),y.Factory.addSetter(y.Node,"width",0),y.Factory.addOverloadedGetterSetter(y.Node,"width"),y.Factory.addSetter(y.Node,"height",0),y.Factory.addOverloadedGetterSetter(y.Node,"height"),y.Factory.addGetterSetter(y.Node,"listening","inherit"),y.Factory.addGetterSetter(y.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),y.Factory.addGetterSetter(y.Node,"visible","inherit"),y.Factory.addGetterSetter(y.Node,"transformsEnabled","all"),y.Factory.addOverloadedGetterSetter(y.Node,"size"),y.Factory.backCompat(y.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),y.Collection.mapMethods(y.Node),y.Filters.Grayscale=function(t){var e,i,n=t.data,a=n.length;for(e=0;e<a;e+=4)i=.34*n[e]+.5*n[e+1]+.16*n[e+2],n[e]=i,n[e+1]=i,n[e+2]=i},y.Filters.Brighten=function(t){var e,i=255*this.brightness(),n=t.data,a=n.length;for(e=0;e<a;e+=4)n[e]+=i,n[e+1]+=i,n[e+2]+=i},y.Factory.addGetterSetter(y.Node,"brightness",0,null,y.Factory.afterSetFilter),y.Filters.Invert=function(t){var e,i=t.data,n=i.length;for(e=0;e<n;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},function(){function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];y.Filters.Blur=function(n){var a=Math.round(this.blurRadius());a>0&&function(n,a){var r,s,o,h,c,l,d,u,f,g,p,v,m,y,_,S,C,x,w,b,F,k,T,P,A=n.data,M=n.width,D=n.height,G=a+a+1,L=M-1,R=D-1,I=a+1,N=I*(I+1)/2,O=new t,U=null,B=O,z=null,H=null,E=e[a],W=i[a];for(o=1;o<G;o++)B=B.next=new t,o==I&&(U=B);for(B.next=O,d=l=0,s=0;s<D;s++){for(S=C=x=w=u=f=g=p=0,v=I*(b=A[l]),m=I*(F=A[l+1]),y=I*(k=A[l+2]),_=I*(T=A[l+3]),u+=N*b,f+=N*F,g+=N*k,p+=N*T,B=O,o=0;o<I;o++)B.r=b,B.g=F,B.b=k,B.a=T,B=B.next;for(o=1;o<I;o++)h=l+((L<o?L:o)<<2),u+=(B.r=b=A[h])*(P=I-o),f+=(B.g=F=A[h+1])*P,g+=(B.b=k=A[h+2])*P,p+=(B.a=T=A[h+3])*P,S+=b,C+=F,x+=k,w+=T,B=B.next;for(z=O,H=U,r=0;r<M;r++)A[l+3]=T=p*E>>W,0!==T?(T=255/T,A[l]=(u*E>>W)*T,A[l+1]=(f*E>>W)*T,A[l+2]=(g*E>>W)*T):A[l]=A[l+1]=A[l+2]=0,u-=v,f-=m,g-=y,p-=_,v-=z.r,m-=z.g,y-=z.b,_-=z.a,h=d+((h=r+a+1)<L?h:L)<<2,u+=S+=z.r=A[h],f+=C+=z.g=A[h+1],g+=x+=z.b=A[h+2],p+=w+=z.a=A[h+3],z=z.next,v+=b=H.r,m+=F=H.g,y+=k=H.b,_+=T=H.a,S-=b,C-=F,x-=k,w-=T,H=H.next,l+=4;d+=M}for(r=0;r<M;r++){for(C=x=w=S=f=g=p=u=0,v=I*(b=A[l=r<<2]),m=I*(F=A[l+1]),y=I*(k=A[l+2]),_=I*(T=A[l+3]),u+=N*b,f+=N*F,g+=N*k,p+=N*T,B=O,o=0;o<I;o++)B.r=b,B.g=F,B.b=k,B.a=T,B=B.next;for(c=M,o=1;o<=a;o++)l=c+r<<2,u+=(B.r=b=A[l])*(P=I-o),f+=(B.g=F=A[l+1])*P,g+=(B.b=k=A[l+2])*P,p+=(B.a=T=A[l+3])*P,S+=b,C+=F,x+=k,w+=T,B=B.next,o<R&&(c+=M);for(l=r,z=O,H=U,s=0;s<D;s++)A[3+(h=l<<2)]=T=p*E>>W,T>0?(T=255/T,A[h]=(u*E>>W)*T,A[h+1]=(f*E>>W)*T,A[h+2]=(g*E>>W)*T):A[h]=A[h+1]=A[h+2]=0,u-=v,f-=m,g-=y,p-=_,v-=z.r,m-=z.g,y-=z.b,_-=z.a,h=r+((h=s+I)<R?h:R)*M<<2,u+=S+=z.r=A[h],f+=C+=z.g=A[h+1],g+=x+=z.b=A[h+2],p+=w+=z.a=A[h+3],z=z.next,v+=b=H.r,m+=F=H.g,y+=k=H.b,_+=T=H.a,S-=b,C-=F,x-=k,w-=T,H=H.next,l+=M}}(n,a)},y.Factory.addGetterSetter(y.Node,"blurRadius",0,null,y.Factory.afterSetFilter)}(),function(){function t(t,e,i){var n=4*(i*t.width+e),a=[];return a.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),a}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}y.Filters.Mask=function(i){var n=function(i,n){var a=t(i,0,0),r=t(i,i.width-1,0),s=t(i,0,i.height-1),o=t(i,i.width-1,i.height-1),h=n||10;if(e(a,r)<h&&e(r,o)<h&&e(o,s)<h&&e(s,a)<h){for(var c=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,a,o,s]),l=[],d=0;d<i.width*i.height;d++){var u=e(c,[i.data[4*d],i.data[4*d+1],i.data[4*d+2]]);l[d]=u<h?0:255}return l}}(i,this.threshold());return n&&function(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}(i,n=function(t,e,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;if(f>=0&&f<i&&g>=0&&g<e){var p=n[d*a+u];l+=t[f*e+g]*p}}s[c]=l}return s}(n=function(t,e,i){for(var n=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;if(f>=0&&f<i&&g>=0&&g<e){var p=n[d*a+u];l+=t[f*e+g]*p}}s[c]=l>=1020?255:0}return s}(n=function(t,e,i){for(var n=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;if(f>=0&&f<i&&g>=0&&g<e){var p=n[d*a+u];l+=t[f*e+g]*p}}s[c]=2040===l?255:0}return s}(n,i.width,i.height),i.width,i.height),i.width,i.height)),i},y.Factory.addGetterSetter(y.Node,"threshold",0,null,y.Factory.afterSetFilter)}(),y.Filters.RGB=function(t){var e,i,n=t.data,a=n.length,r=this.red(),s=this.green(),o=this.blue();for(e=0;e<a;e+=4)i=(.34*n[e]+.5*n[e+1]+.16*n[e+2])/255,n[e]=i*r,n[e+1]=i*s,n[e+2]=i*o,n[e+3]=n[e+3]},y.Factory.addGetterSetter(y.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),y.Factory.addGetterSetter(y.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),y.Factory.addGetterSetter(y.Node,"blue",0,y.Validators.RGBComponent,y.Factory.afterSetFilter),y.Filters.HSV=function(t){var e,i,n,a,r,s=t.data,o=s.length,h=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,d=h*c*Math.cos(l*Math.PI/180),u=h*c*Math.sin(l*Math.PI/180),f=.299*h+.701*d+.167*u,g=.587*h-.587*d+.33*u,p=.114*h-.114*d-.497*u,v=.299*h-.299*d-.328*u,m=.587*h+.413*d+.035*u,y=.114*h-.114*d+.293*u,_=.299*h-.3*d+1.25*u,S=.587*h-.586*d-1.05*u,C=.114*h+.886*d-.2*u;for(e=0;e<o;e+=4)i=s[e+0],n=s[e+1],a=s[e+2],r=s[e+3],s[e+0]=f*i+g*n+p*a,s[e+1]=v*i+m*n+y*a,s[e+2]=_*i+S*n+C*a,s[e+3]=r},y.Factory.addGetterSetter(y.Node,"hue",0,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"saturation",0,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"value",0,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"hue",0,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"saturation",0,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"luminance",0,null,y.Factory.afterSetFilter),y.Filters.HSL=function(t){var e,i,n,a,r,s=t.data,o=s.length,h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,l=127*this.luminance(),d=1*h*Math.cos(c*Math.PI/180),u=1*h*Math.sin(c*Math.PI/180),f=.299+.701*d+.167*u,g=.587-.587*d+.33*u,p=.114-.114*d-.497*u,v=.299-.299*d-.328*u,m=.587+.413*d+.035*u,y=.114-.114*d+.293*u,_=.299-.3*d+1.25*u,S=.587-.586*d-1.05*u,C=.114+.886*d-.2*u;for(e=0;e<o;e+=4)i=s[e+0],n=s[e+1],a=s[e+2],r=s[e+3],s[e+0]=f*i+g*n+p*a+l,s[e+1]=v*i+m*n+y*a+l,s[e+2]=_*i+S*n+C*a+l,s[e+3]=r},y.Filters.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),n=this.embossDirection(),a=this.embossBlend(),r=0,s=0,o=t.data,h=t.width,c=t.height,l=4*h,d=c;switch(n){case"top-left":r=-1,s=-1;break;case"top":r=-1,s=0;break;case"top-right":r=-1,s=1;break;case"right":r=0,s=1;break;case"bottom-right":r=1,s=1;break;case"bottom":r=1,s=0;break;case"bottom-left":r=1,s=-1;break;case"left":r=0,s=-1}do{var u=(d-1)*l,f=r;d+f<1&&(f=0),d+f>c&&(f=0);var g=(d-1+f)*h*4,p=h;do{var v=u+4*(p-1),m=s;p+m<1&&(m=0),p+m>h&&(m=0);var y=g+4*(p-1+m),_=o[v]-o[y],S=o[v+1]-o[y+1],C=o[v+2]-o[y+2],x=_,w=x>0?x:-x;if((S>0?S:-S)>w&&(x=S),(C>0?C:-C)>w&&(x=C),x*=e,a){var b=o[v]+x,F=o[v+1]+x,k=o[v+2]+x;o[v]=b>255?255:b<0?0:b,o[v+1]=F>255?255:F<0?0:F,o[v+2]=k>255?255:k<0?0:k}else{var T=i-x;T<0?T=0:T>255&&(T=255),o[v]=o[v+1]=o[v+2]=T}}while(--p)}while(--d)},y.Factory.addGetterSetter(y.Node,"embossStrength",.5,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"embossWhiteLevel",.5,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"embossDirection","top-left",null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"embossBlend",!1,null,y.Factory.afterSetFilter),function(){function t(t,e,i,n,a){var r=i-e,s=a-n;return 0===r?n+s/2:0===s?n:s*((t-e)/r)+n}y.Filters.Enhance=function(e){var i,n,a,r,s=e.data,o=s.length,h=s[0],c=h,l=s[1],d=l,u=s[2],f=u,g=this.enhance();if(0!==g){for(r=0;r<o;r+=4)(i=s[r+0])<h?h=i:i>c&&(c=i),(n=s[r+1])<l?l=n:n>d&&(d=n),(a=s[r+2])<u?u=a:a>f&&(f=a);var p,v,m,y,_,S,C,x,w;for(c===h&&(c=255,h=0),d===l&&(d=255,l=0),f===u&&(f=255,u=0),g>0?(v=c+g*(255-c),m=h-g*(h-0),_=d+g*(255-d),S=l-g*(l-0),x=f+g*(255-f),w=u-g*(u-0)):(v=c+g*(c-(p=.5*(c+h))),m=h+g*(h-p),_=d+g*(d-(y=.5*(d+l))),S=l+g*(l-y),x=f+g*(f-(C=.5*(f+u))),w=u+g*(u-C)),r=0;r<o;r+=4)s[r+0]=t(s[r+0],h,c,m,v),s[r+1]=t(s[r+1],l,d,S,_),s[r+2]=t(s[r+2],u,f,w,x)}},y.Factory.addGetterSetter(y.Node,"enhance",0,null,y.Factory.afterSetFilter)}(),y.Filters.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,n=t.data,a=n.length,r=255/i;for(e=0;e<a;e+=1)n[e]=Math.floor(n[e]/r)*r},y.Factory.addGetterSetter(y.Node,"levels",.5,null,y.Factory.afterSetFilter),y.Filters.Noise=function(t){var e,i=255*this.noise(),n=t.data,a=n.length,r=i/2;for(e=0;e<a;e+=4)n[e+0]+=r-2*r*Math.random(),n[e+1]+=r-2*r*Math.random(),n[e+2]+=r-2*r*Math.random()},y.Factory.addGetterSetter(y.Node,"noise",.2,null,y.Factory.afterSetFilter),y.Filters.Pixelate=function(t){var e,i,n,a,r,s,o,h,c,l,d,u,f,g,p=Math.ceil(this.pixelSize()),v=t.width,m=t.height,y=Math.ceil(v/p),_=Math.ceil(m/p);for(t=t.data,u=0;u<y;u+=1)for(f=0;f<_;f+=1){for(a=0,r=0,s=0,o=0,c=(h=u*p)+p,d=(l=f*p)+p,g=0,e=h;e<c;e+=1)if(!(e>=v))for(i=l;i<d;i+=1)i>=m||(a+=t[0+(n=4*(v*i+e))],r+=t[n+1],s+=t[n+2],o+=t[n+3],g+=1);for(a/=g,r/=g,s/=g,e=h;e<c;e+=1)if(!(e>=v))for(i=l;i<d;i+=1)i>=m||(t[0+(n=4*(v*i+e))]=a,t[n+1]=r,t[n+2]=s,t[n+3]=o)}},y.Factory.addGetterSetter(y.Node,"pixelSize",8,null,y.Factory.afterSetFilter),y.Filters.Threshold=function(t){var e,i=255*this.threshold(),n=t.data,a=n.length;for(e=0;e<a;e+=1)n[e]=n[e]<i?0:255},y.Factory.addGetterSetter(y.Node,"threshold",.5,null,y.Factory.afterSetFilter),y.Filters.Sepia=function(t){var e,i,n,a,r,s,o,h,c,l=t.data,d=t.width,u=t.height,f=4*d;do{e=(u-1)*f,i=d;do{o=.393*(a=l[n=e+4*(i-1)])+.769*(r=l[n+1])+.189*(s=l[n+2]),h=.349*a+.686*r+.168*s,c=.272*a+.534*r+.131*s,l[n]=o>255?255:o,l[n+1]=h>255?255:h,l[n+2]=c>255?255:c,l[n+3]=l[n+3]}while(--i)}while(--u)},y.Filters.Solarize=function(t){var e=t.data,i=t.width,n=4*i,a=t.height;do{var r=(a-1)*n,s=i;do{var o=r+4*(s-1),h=e[o],c=e[o+1],l=e[o+2];h>127&&(h=255-h),c>127&&(c=255-c),l>127&&(l=255-l),e[o]=h,e[o+1]=c,e[o+2]=l}while(--s)}while(--a)},u=y.Util.createCanvasElement(),y.Filters.Kaleidoscope=function(t){var e,i,n,a,r,s,o,h,c,l=t.width,d=t.height,f=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),p=Math.floor(l*(g%360)/360);if(!(f<1)){u.width=l,u.height=d;var v=u.getContext("2d").getImageData(0,0,l,d);!function(t,e,i){var n,a,r,s,o=t.data,h=e.data,c=t.width,l=t.height,d=i.polarCenterX||c/2,u=i.polarCenterY||l/2,f=0,g=0,p=0,v=0,m=Math.sqrt(d*d+u*u);a=c-d,r=l-u,m=(s=Math.sqrt(a*a+r*r))>m?s:m;var y,_,S,C,x=l,w=c,b=360/w*Math.PI/180;for(_=0;_<w;_+=1)for(S=Math.sin(_*b),C=Math.cos(_*b),y=0;y<x;y+=1)a=Math.floor(d+m*y/x*C),f=o[0+(n=4*((r=Math.floor(u+m*y/x*S))*c+a))],g=o[n+1],p=o[n+2],v=o[n+3],h[0+(n=4*(_+y*c))]=f,h[n+1]=g,h[n+2]=p,h[n+3]=v}(t,v,{polarCenterX:l/2,polarCenterY:d/2});for(var m=l/Math.pow(2,f);m<=8;)m*=2,f-=1;var y=m=Math.ceil(m),_=0,S=y,C=1;for(p+m>l&&(_=y,S=0,C=-1),i=0;i<d;i+=1)for(e=_;e!==S;e+=C)h=4*(l*i+Math.round(e+p)%l),a=v.data[h+0],r=v.data[h+1],s=v.data[h+2],o=v.data[h+3],c=4*(l*i+e),v.data[c+0]=a,v.data[c+1]=r,v.data[c+2]=s,v.data[c+3]=o;for(i=0;i<d;i+=1)for(y=Math.floor(m),n=0;n<f;n+=1){for(e=0;e<y+1;e+=1)h=4*(l*i+e),a=v.data[h+0],r=v.data[h+1],s=v.data[h+2],o=v.data[h+3],c=4*(l*i+2*y-e-1),v.data[c+0]=a,v.data[c+1]=r,v.data[c+2]=s,v.data[c+3]=o;y*=2}!function(t,e,i){var n,a,r,s,o,h,c=t.data,l=e.data,d=t.width,u=t.height,f=i.polarCenterX||d/2,g=i.polarCenterY||u/2,p=0,v=0,m=0,y=0,_=Math.sqrt(f*f+g*g);a=d-f,r=u-g,_=(h=Math.sqrt(a*a+r*r))>_?h:_;var S,C,x,w=u,b=d,F=i.polarRotation||0;for(a=0;a<d;a+=1)for(r=0;r<u;r+=1)s=a-f,o=r-g,S=Math.sqrt(s*s+o*o)*w/_,C=(C=(180*Math.atan2(o,s)/Math.PI+360+F)%360)*b/360,x=Math.floor(C),p=c[0+(n=4*(Math.floor(S)*d+x))],v=c[n+1],m=c[n+2],y=c[n+3],l[0+(n=4*(r*d+a))]=p,l[n+1]=v,l[n+2]=m,l[n+3]=y}(v,t,{polarRotation:0})}},y.Factory.addGetterSetter(y.Node,"kaleidoscopePower",2,null,y.Factory.afterSetFilter),y.Factory.addGetterSetter(y.Node,"kaleidoscopeAngle",0,null,y.Factory.afterSetFilter),function(){var t=y.root.performance&&y.root.performance.now?function(){return y.root.performance.now()}:function(){return(new Date).getTime()},e=y.root.requestAnimationFrame||y.root.webkitRequestAnimationFrame||y.root.mozRequestAnimationFrame||y.root.oRequestAnimationFrame||y.root.msRequestAnimationFrame||i;function i(t){setTimeout(t,1e3/60)}y.Animation=function(e,i){var n=y.Animation;this.func=e,this.setLayers(i),this.id=n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t()}},y.Animation.prototype={setLayers:function(t){var e=[];e=t?t.length>0?t:[t]:[],this.layers=e},getLayers:function(){return this.layers},addLayer:function(t){var e,i,n=this.layers;if(n){for(e=n.length,i=0;i<e;i++)if(n[i]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){var t,e=y.Animation.animations,i=e.length;for(t=0;t<i;t++)if(e[t].id===this.id)return!0;return!1},start:function(){var e=y.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),e._addAnimation(this)},stop:function(){y.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},y.Animation.animations=[],y.Animation.animIdCounter=0,y.Animation.animRunning=!1,y.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},y.Animation._removeAnimation=function(t){var e,i=t.id,n=this.animations,a=n.length;for(e=0;e<a;e++)if(n[e].id===i){this.animations.splice(e,1);break}},y.Animation._runFrames=function(){var e,i,n,a,r,s,o,h,c={},l=this.animations;for(a=0;a<l.length;a++)if(i=(e=l[a]).layers,n=e.func,e._updateFrameObject(t()),s=i.length,!n||!1!==n.call(e,e.frame))for(r=0;r<s;r++)void 0!==(o=i[r])._id&&(c[o._id]=o);for(h in c)c[h].draw()},y.Animation._animationLoop=function(){var t=y.Animation;t.animations.length?(!function(){e.apply(y.root,arguments)}(t._animationLoop),t._runFrames()):t.animRunning=!1},y.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())};var n=y.Node.prototype.moveTo;y.Node.prototype.moveTo=function(t){n.call(this,t)},y.BaseLayer.prototype.batchDraw=function(){var e=this,i=y.Animation;this.batchAnim||(this.batchAnim=new i(function(){e.lastBatchDrawTime&&t()-e.lastBatchDrawTime>500&&e.batchAnim.stop()},this)),this.lastBatchDrawTime=t(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},y.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})}}(),function(){var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=0;y.Tween=function(n){var a,r,s=this,o=n.node,h=o._id,c=n.easing||y.Easings.Linear,l=!!n.yoyo;for(r in a=void 0===n.duration?1:0===n.duration?.001:n.duration,this.node=o,this._id=e++,this.anim=new y.Animation(function(){s.tween.onEnterFrame()},o.getLayer()||(o instanceof y.Stage?o.getLayers():null)),this.tween=new i(r,function(t){s._tweenFunc(t)},c,0,1,1e3*a,l),this._addListeners(),y.Tween.attrs[h]||(y.Tween.attrs[h]={}),y.Tween.attrs[h][this._id]||(y.Tween.attrs[h][this._id]={}),y.Tween.tweens[h]||(y.Tween.tweens[h]={}),n)void 0===t[r]&&this._addAttr(r,n[r]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset},y.Tween.attrs={},y.Tween.tweens={},y.Tween.prototype={_addAttr:function(t,e){var i,n,a,r,s,o=this.node,h=o._id;if((a=y.Tween.tweens[h][t])&&delete y.Tween.attrs[h][a][t],i=o.getAttr(t),y.Util._isArray(e))for(n=[],s=e.length,r=0;r<s;r++)n.push(e[r]-i[r]);else n=e-i;y.Tween.attrs[h][this._id][t]={start:i,diff:n},y.Tween.tweens[h][t]=this._id},_tweenFunc:function(t){var e,i,n,a,r,s,o,h=this.node,c=y.Tween.attrs[h._id][this._id];for(e in c){if(n=(i=c[e]).start,a=i.diff,y.Util._isArray(n))for(r=[],o=n.length,s=0;s<o;s++)r.push(n[s]+a[s]*t);else r=n+a*t;h.setAttr(e,r)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,i=this._id,n=y.Tween.tweens[e];for(t in this.pause(),n)delete y.Tween.tweens[e][t];delete y.Tween.attrs[e][i]}};var i=function(t,e,i,n,a,r,s){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=a-this.begin,this.pause()};i.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},y.Easings={BackEaseIn:function(t,e,i,n){var a=1.70158;return i*(t/=n)*t*((a+1)*t-a)+e},BackEaseOut:function(t,e,i,n){var a=1.70158;return i*((t=t/n-1)*t*((a+1)*t+a)+1)+e},BackEaseInOut:function(t,e,i,n){var a=1.70158;return(t/=n/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+e:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e},ElasticEaseIn:function(t,e,i,n,a,r){var s=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!a||a<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)+e)},ElasticEaseOut:function(t,e,i,n,a,r){var s=0;return 0===t?e:1==(t/=n)?e+i:(r||(r=.3*n),!a||a<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/r)+i+e)},ElasticEaseInOut:function(t,e,i,n,a,r){var s=0;return 0===t?e:2==(t/=n/2)?e+i:(r||(r=n*(.3*1.5)),!a||a<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)*.5+i+e)},BounceEaseOut:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,i,n){return i-y.Easings.BounceEaseOut(n-t,0,i,n)+e},BounceEaseInOut:function(t,e,i,n){return t<n/2?.5*y.Easings.BounceEaseIn(2*t,0,i,n)+e:.5*y.Easings.BounceEaseOut(2*t-n,0,i,n)+.5*i+e},EaseIn:function(t,e,i,n){return i*(t/=n)*t+e},EaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},EaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,n){return i*t/n+e}}}(),function(){y.DD={anim:new y.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=y.DD,i=e.node;if(i){if(!e.isDragging){var n=i.getStage().getPointerPosition(),a=i.dragDistance();if(Math.max(Math.abs(n.x-e.startPointerPos.x),Math.abs(n.y-e.startPointerPos.y))<a)return}i._setDragPosition(t),e.isDragging||(e.isDragging=!0,i.fire("dragstart",{type:"dragstart",target:i,evt:t},!0)),i.fire("dragmove",{type:"dragmove",target:i,evt:t},!0)}},_endDragBefore:function(t){var e,i=y.DD,n=i.node;n&&(n.nodeType,e=n.getLayer(),i.anim.stop(),i.isDragging&&(i.isDragging=!1,i.justDragged=!0,y.listenClickTap=!1,t&&(t.dragEndNode=n)),delete i.node,(e||n).draw())},_endDragAfter:function(t){var e=(t=t||{}).dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},y.Node.prototype.startDrag=function(){var t=y.DD,e=this.getStage(),i=this.getLayer(),n=e.getPointerPosition(),a=this.getAbsolutePosition();n&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=n,t.offset.x=n.x-a.x,t.offset.y=n.y-a.y,t.anim.setLayers(i||this.getLayers()),t.anim.start(),this._setDragPosition())},y.Node.prototype._setDragPosition=function(t){var e=y.DD,i=this.getStage().getPointerPosition(),n=this.getDragBoundFunc();if(i){var a={x:i.x-e.offset.x,y:i.y-e.offset.y};void 0!==n&&(a=n.call(this,a,t)),this.setAbsolutePosition(a),this._lastPos&&this._lastPos.x===a.x&&this._lastPos.y===a.y||(e.anim.dirty=!0),this._lastPos=a}},y.Node.prototype.stopDrag=function(){var t=y.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},y.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=y.Node.prototype.destroy;y.Node.prototype.destroy=function(){var e=y.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},y.Node.prototype.isDragging=function(){var t=y.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},y.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(e){y.DD.node||t.startDrag(e)}):this.on("mousedown.kinetic touchstart.kinetic",function(e){1!==e.evt.button&&2!==e.evt.button&&(y.DD.node||t.startDrag(e))})},y.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=y.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},y.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},y.Factory.addGetterSetter(y.Node,"dragBoundFunc"),y.Factory.addGetter(y.Node,"draggable",!1),y.Factory.addOverloadedGetterSetter(y.Node,"draggable");var e=y.document.documentElement;e.addEventListener("mouseup",y.DD._endDragBefore,!0),e.addEventListener("touchend",y.DD._endDragBefore,!0),e.addEventListener("mouseup",y.DD._endDragAfter,!1),e.addEventListener("touchend",y.DD._endDragAfter,!1)}(),y.Util.addMethods(y.Container,{__init:function(t){this.children=new y.Collection,y.Node.call(this,t)},getChildren:function(t){if(t){var e=new y.Collection;return this.children.each(function(i){t(i)&&e.push(i)}),e}return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=y.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new y.Collection,this},destroyChildren:function(){for(var t,e=y.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.destroy();return e=null,this.children=new y.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var i=this.children;return this._validateAdd(t),t.index=i.length,t.parent=this,i.push(t),this._fire("add",{child:t}),t.isDragging()&&y.DD.anim.setLayers(t.getLayer()),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),y.Node.prototype.destroy.call(this)},find:function(t){var e,i,n,a,r,s,o,h=[],c=t.replace(/ /g,"").split(","),l=c.length;for(e=0;e<l;e++)if("#"===(n=c[e]).charAt(0))(r=this._getNodeById(n.slice(1)))&&h.push(r);else if("."===n.charAt(0))a=this._getNodesByName(n.slice(1)),h=h.concat(a);else for(o=(s=this.getChildren()).length,i=0;i<o;i++)h=h.concat(s[i]._get(n));return y.Collection.toCollection(h)},_getNodeById:function(t){var e=y.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=y.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=y.Node.prototype._get.call(this,t),i=this.getChildren(),n=i.length,a=0;a<n;a++)e=e.concat(i[a]._get(t));return e},toObject:function(){var t=y.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,n=0;n<i;n++){var a=e[n];t.children.push(a.toObject())}return t},_getDescendants:function(t){for(var e=[],i=t.length,n=0;n<i;n++){var a=t[n];this.isAncestorOf(a)&&e.push(a)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=y.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(i){i.isVisible()&&i.intersects(t)&&e.push(i)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var i=this.getLayer(),n=t||i&&i.getCanvas(),a=n&&n.getContext(),r=this._cache.canvas,s=r&&r.scene;return this.isVisible()&&(s?this._drawCachedSceneCanvas(a):this._drawChildren(n,"drawScene",e)),this},drawHit:function(t,e){var i=this.getLayer(),n=t||i&&i.hitCanvas,a=n&&n.getContext(),r=this._cache.canvas,s=r&&r.hit;return this.shouldDrawHit(n)&&(i&&i.clearHitCache(),s?this._drawCachedHitCanvas(a):this._drawChildren(n,"drawHit",e)),this},_drawChildren:function(t,e,i){var n,a,r=this.getLayer(),s=t&&t.getContext(),o=this.getClipWidth(),h=this.getClipHeight(),c=o&&h;c&&r&&(n=this.getClipX(),a=this.getClipY(),s.save(),r._applyTransform(this,s),s.beginPath(),s.rect(n,a,o,h),s.clip(),s.reset()),this.children.each(function(n){n[e](t,i)}),c&&s.restore()},shouldDrawHit:function(t){var e=this.getLayer(),i=y.DD&&y.isDragging()&&-1!==y.DD.anim.getLayers().indexOf(e);return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!i}}),y.Util.extend(y.Container,y.Node),y.Container.prototype.get=y.Container.prototype.find,y.Factory.addComponentsGetterSetter(y.Container,"clip",["x","y","width","height"]),y.Factory.addGetterSetter(y.Container,"clipX"),y.Factory.addGetterSetter(y.Container,"clipY"),y.Factory.addGetterSetter(y.Container,"clipWidth"),y.Factory.addGetterSetter(y.Container,"clipHeight"),y.Collection.mapMethods(y.Container),function(){var t="hasShadow";function e(t){t.fill()}function i(t){t.stroke()}function n(t){t.fill()}function a(t){t.stroke()}function r(){this._clearCache(t)}y.Util.addMethods(y.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=i,this._fillFuncHit=n,this._strokeFuncHit=a;for(var s,o=y.shapes;!(s=y.Util.getRandomColor())||s in o;);this.colorKey=s,o[s]=this,y.Node.call(this,t),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",r)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(t,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},intersects:function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawScene(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},destroy:function(){y.Node.prototype.destroy.call(this),delete y.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var i,n,a=this.getLayer(),r=t||a.getCanvas(),s=r.getContext(),o=this._cache.canvas,h=this.sceneFunc(),c=this.hasShadow();if(this.isVisible())if(o)this._drawCachedSceneCanvas(s);else if(h){if(s.save(),this._useBufferCanvas()){if((n=(i=this.getStage().bufferCanvas).getContext()).clear(),n.save(),n._applyLineJoin(this),a)a._applyTransform(this,n,e);else{var l=this.getAbsoluteTransform(e).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5])}h.call(this,n),n.restore(),c&&!r.hitCanvas&&(s.save(),s._applyShadow(this),s.drawImage(i._canvas,0,0),s.restore()),s._applyOpacity(this),s.drawImage(i._canvas,0,0)}else{if(s._applyLineJoin(this),a)a._applyTransform(this,s,e);else{var d=this.getAbsoluteTransform(e).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}c&&!r.hitCanvas&&(s.save(),s._applyShadow(this),h.call(this,s),s.restore()),s._applyOpacity(this),h.call(this,s)}s.restore()}return this},drawHit:function(t,e){var i=this.getLayer(),n=t||i.hitCanvas,a=n.getContext(),r=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,o=s&&s.hit;if(this.shouldDrawHit(n))if(i&&i.clearHitCache(),o)this._drawCachedHitCanvas(a);else if(r){if(a.save(),a._applyLineJoin(this),i)i._applyTransform(this,a,e);else{var h=this.getAbsoluteTransform(e).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5])}r.call(this,a),a.restore()}return this},drawHitFromCache:function(t){var e,i,n,a,r,s,o=t||0,h=this._cache.canvas,c=this._getCachedSceneCanvas(),l=c.getContext(),d=h.hit.getContext(),u=c.getWidth(),f=c.getHeight();d.clear();try{for(e=l.getImageData(0,0,u,f).data,n=(i=d.getImageData(0,0,u,f)).data,a=e.length,r=y.Util._hexToRgb(this.colorKey),s=0;s<a;s+=4)e[s+3]>o&&(n[s]=r.r,n[s+1]=r.g,n[s+2]=r.b,n[s+3]=255);d.putImageData(i,0,0)}catch(t){y.Util.warn("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),y.Util.extend(y.Shape,y.Node),y.Factory.addGetterSetter(y.Shape,"stroke"),y.Factory.addGetterSetter(y.Shape,"strokeRed",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"strokeGreen",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"strokeBlue",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"strokeAlpha",1,y.Validators.alphaComponent),y.Factory.addGetterSetter(y.Shape,"strokeWidth",2),y.Factory.addGetterSetter(y.Shape,"lineJoin"),y.Factory.addGetterSetter(y.Shape,"lineCap"),y.Factory.addGetterSetter(y.Shape,"sceneFunc"),y.Factory.addGetterSetter(y.Shape,"hitFunc"),y.Factory.addGetterSetter(y.Shape,"dash"),y.Factory.addGetterSetter(y.Shape,"shadowColor"),y.Factory.addGetterSetter(y.Shape,"shadowRed",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"shadowGreen",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"shadowBlue",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"shadowAlpha",1,y.Validators.alphaComponent),y.Factory.addGetterSetter(y.Shape,"shadowBlur"),y.Factory.addGetterSetter(y.Shape,"shadowOpacity"),y.Factory.addComponentsGetterSetter(y.Shape,"shadowOffset",["x","y"]),y.Factory.addGetterSetter(y.Shape,"shadowOffsetX",0),y.Factory.addGetterSetter(y.Shape,"shadowOffsetY",0),y.Factory.addGetterSetter(y.Shape,"fillPatternImage"),y.Factory.addGetterSetter(y.Shape,"fill"),y.Factory.addGetterSetter(y.Shape,"fillRed",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"fillGreen",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"fillBlue",0,y.Validators.RGBComponent),y.Factory.addGetterSetter(y.Shape,"fillAlpha",1,y.Validators.alphaComponent),y.Factory.addGetterSetter(y.Shape,"fillPatternX",0),y.Factory.addGetterSetter(y.Shape,"fillPatternY",0),y.Factory.addGetterSetter(y.Shape,"fillLinearGradientColorStops"),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientStartRadius",0),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientEndRadius",0),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientColorStops"),y.Factory.addGetterSetter(y.Shape,"fillPatternRepeat","repeat"),y.Factory.addGetterSetter(y.Shape,"fillEnabled",!0),y.Factory.addGetterSetter(y.Shape,"strokeEnabled",!0),y.Factory.addGetterSetter(y.Shape,"shadowEnabled",!0),y.Factory.addGetterSetter(y.Shape,"dashEnabled",!0),y.Factory.addGetterSetter(y.Shape,"strokeScaleEnabled",!0),y.Factory.addGetterSetter(y.Shape,"fillPriority","color"),y.Factory.addComponentsGetterSetter(y.Shape,"fillPatternOffset",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillPatternOffsetX",0),y.Factory.addGetterSetter(y.Shape,"fillPatternOffsetY",0),y.Factory.addComponentsGetterSetter(y.Shape,"fillPatternScale",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillPatternScaleX",1),y.Factory.addGetterSetter(y.Shape,"fillPatternScaleY",1),y.Factory.addComponentsGetterSetter(y.Shape,"fillLinearGradientStartPoint",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillLinearGradientStartPointX",0),y.Factory.addGetterSetter(y.Shape,"fillLinearGradientStartPointY",0),y.Factory.addComponentsGetterSetter(y.Shape,"fillLinearGradientEndPoint",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillLinearGradientEndPointX",0),y.Factory.addGetterSetter(y.Shape,"fillLinearGradientEndPointY",0),y.Factory.addComponentsGetterSetter(y.Shape,"fillRadialGradientStartPoint",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientStartPointX",0),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientStartPointY",0),y.Factory.addComponentsGetterSetter(y.Shape,"fillRadialGradientEndPoint",["x","y"]),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientEndPointX",0),y.Factory.addGetterSetter(y.Shape,"fillRadialGradientEndPointY",0),y.Factory.addGetterSetter(y.Shape,"fillPatternRotation",0),y.Factory.backCompat(y.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),y.Collection.mapMethods(y.Shape)}(),function(){var t="_",e=["mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","DOMMouseScroll","mousewheel","wheel"],i=e.length;function n(e,i){e.content.addEventListener(i,function(n){e[t+i](n)},!1)}y.Util.addMethods(y.Stage,{___init:function(t){this.nodeType="Stage",y.Container.call(this,t),this._id=y.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,y.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&y.Util.error("You may only add layers to the stage.")},setContainer:function(t){if("string"==typeof t){var e=t;if(!(t=y.document.getElementById(t)))throw"Can not find container in document with id "+e}return this._setAttr("container",t),this},shouldDrawHit:function(){return!0},draw:function(){return y.Node.prototype.draw.call(this),this},setHeight:function(t){return y.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return y.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=y.document.createElement("div"),y.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;y.Container.prototype.destroy.call(this),t&&y.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=y.stages.indexOf(this);e>-1&&y.stages.splice(e,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,n=t.x||0,a=t.y||0,r=new y.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:1}),s=r.getContext()._context,o=this.children;(n||a)&&s.translate(-1*n,-1*a),function n(a){var h=o[a].toDataURL(),c=new y.window.Image;c.onload=function(){s.drawImage(c,0,0),a<o.length-1?n(a+1):t.callback(r.toDataURL(e,i))},c.src=h}(0)},toImage:function(t){var e=t.callback;t.callback=function(t){y.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){var e,i,n=this.getChildren();for(e=n.length-1;e>=0;e--)if(i=n[e].getIntersection(t))return i;return null},_resizeDOM:function(){if(this.content){var t,e,i=this.getWidth(),n=this.getHeight(),a=this.getChildren(),r=a.length;for(this.content.style.width=i+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(i,n),this.bufferHitCanvas.setSize(i,n),t=0;t<r;t++)(e=a[t]).setSize(i,n),e.draw()}},add:function(t){if(!(arguments.length>1))return y.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var t=0;t<i;t++)n(this,e[t])},_mouseover:function(t){y.UA.mobile||(this._setPointerPosition(t),this._fire("contentMouseover",{evt:t}))},_mouseout:function(t){if(!y.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!y.isDragging()&&(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:t})}},_mousemove:function(t){if(y.UA.ieMobile)return this._touchmove(t);if((void 0===t.webkitMovementX&&void 0===t.webkitMovementY||0!==t.webkitMovementY||0!==t.webkitMovementX)&&!y.UA.mobile){this._setPointerPosition(t);var e,i=y.DD;y.isDragging()||((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()?y.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble("mousemove",{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t},e),this.targetShape._fireAndBubble("mouseleave",{evt:t},e)),e._fireAndBubble("mouseover",{evt:t},this.targetShape),e._fireAndBubble("mouseenter",{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!y.isDragging()&&(this.targetShape._fireAndBubble("mouseout",{evt:t}),this.targetShape._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null),this._fire("contentMousemove",{evt:t})),i&&i._drag(t),t.preventDefault&&t.preventDefault()}},_mousedown:function(t){if(y.UA.ieMobile)return this._touchstart(t);if(!y.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());y.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble("mousedown",{evt:t})),this._fire("contentMousedown",{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(y.UA.ieMobile)return this._touchend(t);if(!y.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,n=!1,a=y.DD;y.inDblClickWindow?(n=!0,y.inDblClickWindow=!1):a&&a.justDragged?a&&(a.justDragged=!1):y.inDblClickWindow=!0,setTimeout(function(){y.inDblClickWindow=!1},y.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("mouseup",{evt:t}),y.listenClickTap&&i&&i._id===e._id&&(e._fireAndBubble("click",{evt:t}),n&&e._fireAndBubble("dblclick",{evt:t}))),this._fire("contentMouseup",{evt:t}),y.listenClickTap&&(this._fire("contentClick",{evt:t}),n&&this._fire("contentDblclick",{evt:t})),y.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());y.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble("touchstart",{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchstart",{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),i=!1;y.inDblClickWindow?(i=!0,y.inDblClickWindow=!1):y.inDblClickWindow=!0,setTimeout(function(){y.inDblClickWindow=!1},y.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("touchend",{evt:t}),y.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble("tap",{evt:t}),i&&e._fireAndBubble("dbltap",{evt:t})),e.isListening()&&t.preventDefault&&t.preventDefault()),y.listenClickTap&&(this._fire("contentTouchend",{evt:t}),i&&this._fire("contentDbltap",{evt:t})),y.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,i=y.DD;y.isDragging()||((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()&&(e._fireAndBubble("touchmove",{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchmove",{evt:t})),i&&(i._drag(t),y.isDragging()&&t.preventDefault())},_DOMMouseScroll:function(t){this._mousewheel(t)},_mousewheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble("mousewheel",{evt:t})},_wheel:function(t){this._mousewheel(t)},_setPointerPosition:function(t){var e,i=this._getContentPosition(),n=t.offsetX,a=t.clientX,r=null,s=null;void 0!==(t=t||window.event).touches?t.touches.length>0&&(r=(e=t.touches[0]).clientX-i.left,s=e.clientY-i.top):void 0!==n?(r=n,s=t.offsetY):"mozilla"===y.UA.browser?(r=t.layerX,s=t.layerY):void 0!==a&&i&&(r=a-i.left,s=t.clientY-i.top),null!==r&&null!==s&&(this.pointerPos={x:r,y:s})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(y.Util.isBrowser())throw"Stage has no container. A container is required.";t=y.document.createElement("div")}t.innerHTML="",this.content=y.document.createElement("div"),this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new y.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new y.HitCanvas,this._resizeDOM()},_onContent:function(t,e){var i,n,a=t.split(" "),r=a.length;for(i=0;i<r;i++)n=a[i],this.content.addEventListener(n,e,!1)},cache:function(){y.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),y.Util.extend(y.Stage,y.Container),y.Factory.addGetter(y.Stage,"container"),y.Factory.addOverloadedGetterSetter(y.Stage,"container")}(),y.Util.addMethods(y.BaseLayer,{___init:function(t){this.nodeType="Layer",y.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){y.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){y.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(y.Node.prototype.moveUp.call(this)){var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(y.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(y.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return y.Node.prototype.remove.call(this),t&&t.parentNode&&y.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){this.canvas.setSize(t,e)},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){y.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){y.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}}),y.Util.extend(y.BaseLayer,y.Container),y.Factory.addGetterSetter(y.BaseLayer,"clearBeforeDraw",!0),y.Collection.mapMethods(y.BaseLayer),g=(f=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}]).length,y.Util.addMethods(y.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new y.SceneCanvas,this.hitCanvas=new y.HitCanvas,y.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&y.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(t){var e,i,n,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var r=1,s=!1;;){for(i=0;i<g;i++){if(n=f[i],a=(e=this._getIntersection({x:t.x+n.x*r,y:t.y+n.y*r})).shape)return a;e.antialiased&&(s=!0)}if(!s)return;r+=1}},_getImageData:function(t,e){var i=this.hitCanvas.width||1,n=this.hitCanvas.height||1,a=Math.round(e)*i+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,i,n)),[this._hitImageData.data[4*a+0],this._hitImageData.data[4*a+1],this._hitImageData.data[4*a+2],this._hitImageData.data[4*a+3]]},_getIntersection:function(t){var e,i=this.hitCanvas.context.getImageData(t.x,t.y,1,1).data,n=i[3];return 255===n?(e=y.Util._rgbToHex(i[0],i[1],i[2]),{shape:y.shapes["#"+e]}):n>0?{antialiased:!0}:{}},drawScene:function(t,e){var i=this.getLayer(),n=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&n.getContext().clear(),y.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},_applyTransform:function(t,e,i){var n=t.getAbsoluteTransform(i).getMatrix();e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},drawHit:function(t,e){var i=this.getLayer(),n=t||i&&i.hitCanvas;return i&&i.getClearBeforeDraw()&&i.getHitCanvas().getContext().clear(),y.Container.prototype.drawHit.call(this,n,e),this.imageData=null,this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return y.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(t,e){y.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e)}}),y.Util.extend(y.Layer,y.BaseLayer),y.Factory.addGetterSetter(y.Layer,"hitGraphEnabled",!0),y.Collection.mapMethods(y.Layer),y.Util.addMethods(y.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new y.SceneCanvas,y.BaseLayer.call(this,t)},_validateAdd:function(t){"Shape"!==t.getType()&&y.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),i=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&i.getContext().clear(),y.Container.prototype.drawScene.call(this,i),this},_applyTransform:function(t,e,i){if(!i||i._id!==this._id){var n=t.getTransform().getMatrix();e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return y.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),y.Util.extend(y.FastLayer,y.BaseLayer),y.Collection.mapMethods(y.FastLayer),y.Util.addMethods(y.Group,{___init:function(t){this.nodeType="Group",y.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&y.Util.error("You may only add groups and shapes to groups.")}}),y.Util.extend(y.Group,y.Container),y.Collection.mapMethods(y.Group),y.Rect=function(t){this.___init(t)},y.Rect.prototype={___init:function(t){y.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),i=this.getWidth(),n=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(i-e,0),t.arc(i-e,e,e,3*Math.PI/2,0,!1),t.lineTo(i,n-e),t.arc(i-e,n-e,e,0,Math.PI/2,!1),t.lineTo(e,n),t.arc(e,n-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.Rect,y.Shape),y.Factory.addGetterSetter(y.Rect,"cornerRadius",0),y.Collection.mapMethods(y.Rect),p=2*Math.PI-1e-4,y.Circle=function(t){this.___init(t)},y.Circle.prototype={___init:function(t){y.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,p,!1),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){y.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){y.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setRadius:function(t){this._setAttr("radius",t),this.setWidth(2*t),this.setHeight(2*t)}},y.Util.extend(y.Circle,y.Shape),y.Factory.addGetter(y.Circle,"radius",0),y.Factory.addOverloadedGetterSetter(y.Circle,"radius"),y.Collection.mapMethods(y.Circle),function(){var t=2*Math.PI-1e-4;y.Ellipse=function(t){this.___init(t)},y.Ellipse.prototype={___init:function(t){y.Shape.call(this,t),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var i=this.getRadiusX(),n=this.getRadiusY();e.beginPath(),e.save(),i!==n&&e.scale(1,n/i),e.arc(0,0,i,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){y.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){y.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},y.Util.extend(y.Ellipse,y.Shape),y.Factory.addComponentsGetterSetter(y.Ellipse,"radius",["x","y"]),y.Factory.addGetterSetter(y.Ellipse,"radiusX",0),y.Factory.addGetterSetter(y.Ellipse,"radiusY",0),y.Collection.mapMethods(y.Ellipse)}(),function(){var t=2*Math.PI-1e-4;y.Ring=function(t){this.___init(t)},y.Ring.prototype={___init:function(t){y.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){y.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){y.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},y.Util.extend(y.Ring,y.Shape),y.Factory.addGetterSetter(y.Ring,"innerRadius",0),y.Factory.addGetter(y.Ring,"outerRadius",0),y.Factory.addOverloadedGetterSetter(y.Ring,"outerRadius"),y.Collection.mapMethods(y.Ring)}(),y.Wedge=function(t){this.___init(t)},y.Wedge.prototype={___init:function(t){y.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,y.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.Wedge,y.Shape),y.Factory.addGetterSetter(y.Wedge,"radius",0),y.Factory.addGetterSetter(y.Wedge,"angle",0),y.Factory.addGetterSetter(y.Wedge,"clockwise",!1),y.Factory.backCompat(y.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),y.Collection.mapMethods(y.Wedge),y.Arc=function(t){this.___init(t)},y.Arc.prototype={___init:function(t){y.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=y.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,i),t.arc(0,0,this.getInnerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.Arc,y.Shape),y.Factory.addGetterSetter(y.Arc,"innerRadius",0),y.Factory.addGetterSetter(y.Arc,"outerRadius",0),y.Factory.addGetterSetter(y.Arc,"angle",0),y.Factory.addGetterSetter(y.Arc,"clockwise",!1),y.Collection.mapMethods(y.Arc),y.Image=function(t){this.___init(t)},y.Image.prototype={___init:function(t){y.Shape.call(this,t),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,i,n,a=this.getWidth(),r=this.getHeight(),s=this.getImage();s&&(e=this.getCropWidth(),i=this.getCropHeight(),n=e&&i?[s,this.getCropX(),this.getCropY(),e,i,0,0,a,r]:[s,0,0,a,r]),(this.hasFill()||this.hasStroke()||this.hasShadow())&&(t.beginPath(),t.rect(0,0,a,r),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,n)},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},y.Util.extend(y.Image,y.Shape),y.Factory.addGetterSetter(y.Image,"image"),y.Factory.addComponentsGetterSetter(y.Image,"crop",["x","y","width","height"]),y.Factory.addGetterSetter(y.Image,"cropX",0),y.Factory.addGetterSetter(y.Image,"cropY",0),y.Factory.addGetterSetter(y.Image,"cropWidth",0),y.Factory.addGetterSetter(y.Image,"cropHeight",0),y.Collection.mapMethods(y.Image),function(){var t=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"],e=t.length,i=y.Util.createCanvasElement().getContext("2d");function n(t){t.fillText(this.partialText,0,0)}function a(t){t.strokeText(this.partialText,0,0)}y.Text=function(t){this.___init(t)},y.Text.prototype={___init:function(i){(i=i||{}).fill=i.fill||"black",void 0===i.width&&(i.width="auto"),void 0===i.height&&(i.height="auto"),y.Shape.call(this,i),this._fillFunc=n,this._strokeFunc=a,this.className="Text";for(var r=0;r<e;r++)this.on(t[r]+"Change.kinetic",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,i=this.getPadding(),n=this.getTextHeight(),a=this.getLineHeight()*n,r=this.textArr,s=r.length,o=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save(),t.translate(i,0),t.translate(0,i+n/2),e=0;e<s;e++){var h=r[e],c=h.text,l=h.width;t.save(),"right"===this.getAlign()?t.translate(o-l-2*i,0):"center"===this.getAlign()&&t.translate((o-l-2*i)/2,0),this.partialText=c,t.fillStrokeShape(this),t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=y.Util._isString(t)?t:t.toString();return this._setAttr("text",e),this},getWidth:function(){return"auto"===this.attrs.width?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return"auto"===this.attrs.height?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=i,a=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(a,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return i.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),n=0,a=this.getLineHeight()*e,r=this.attrs.width,s=this.attrs.height,o="auto"!==r,h="auto"!==s,c=this.getPadding(),l=r-2*c,d=s-2*c,u=0,f=this.getWrap(),g="none"!==f,p="char"!==f&&g;this.textArr=[],i.save(),i.font=this._getContextFont();for(var v=0,m=t.length;v<m;++v){var y=t[v],_=this._getTextWidth(y);if(o&&_>l)for(;y.length>0;){for(var S=0,C=y.length,x="",w=0;S<C;){var b=S+C>>>1,F=y.slice(0,b+1),k=this._getTextWidth(F);k<=l?(S=b+1,x=F,w=k):C=b}if(!x)break;if(p){var T=Math.max(x.lastIndexOf(" "),x.lastIndexOf("-"))+1;T>0&&(S=T,x=x.slice(0,S),w=this._getTextWidth(x))}if(this._addTextLine(x,w),n=Math.max(n,w),u+=a,!g||h&&u+a>d)break;if((y=y.slice(S)).length>0&&(_=this._getTextWidth(y))<=l){this._addTextLine(y,_),u+=a,n=Math.max(n,_);break}}else this._addTextLine(y,_),u+=a,n=Math.max(n,_);if(h&&u+a>d)break}i.restore(),this.textHeight=e,this.textWidth=n}},y.Util.extend(y.Text,y.Shape),y.Factory.addGetterSetter(y.Text,"fontFamily","Arial"),y.Factory.addGetterSetter(y.Text,"fontSize",12),y.Factory.addGetterSetter(y.Text,"fontStyle","normal"),y.Factory.addGetterSetter(y.Text,"fontVariant","normal"),y.Factory.addGetterSetter(y.Text,"padding",0),y.Factory.addGetterSetter(y.Text,"align","left"),y.Factory.addGetterSetter(y.Text,"lineHeight",1),y.Factory.addGetterSetter(y.Text,"wrap","word"),y.Factory.addGetter(y.Text,"text",""),y.Factory.addOverloadedGetterSetter(y.Text,"text"),y.Collection.mapMethods(y.Text)}(),y.Line=function(t){this.___init(t)},y.Line.prototype={___init:function(t){y.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,a=this.getPoints(),r=a.length,s=this.getTension(),o=this.getClosed();if(r){if(t.beginPath(),t.moveTo(a[0],a[1]),0!==s&&r>4){for(i=(e=this.getTensionPoints()).length,n=o?0:4,o||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<i-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);o||t.quadraticCurveTo(e[i-2],e[i-1],a[r-2],a[r-1])}else for(n=2;n<r;n+=2)t.lineTo(a[n],a[n+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():y.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,i=this.getTension(),n=y.Util,a=n._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),r=n._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),s=y.Util._expandPoints(t,i);return[a[2],a[3]].concat(s).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],a[0],a[1],t[0],t[1]])}},y.Util.extend(y.Line,y.Shape),y.Factory.addGetterSetter(y.Line,"closed",!1),y.Factory.addGetterSetter(y.Line,"tension",0),y.Factory.addGetterSetter(y.Line,"points",[]),y.Collection.mapMethods(y.Line),y.Sprite=function(t){this.___init(t)},y.Sprite.prototype={___init:function(t){y.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new y.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameIndexChange.kinetic",function(){this._updated=!0}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),i=this.frameIndex(),n=4*i,a=this.getAnimations()[e],r=this.frameOffsets(),s=a[n+0],o=a[n+1],h=a[n+2],c=a[n+3],l=this.getImage();if(l)if(r){var d=r[e],u=2*i;t.drawImage(l,s,o,h,c,d[u+0],d[u+1],h,c)}else t.drawImage(l,s,o,h,c,0,0,h,c)},_hitFunc:function(t){var e=this.getAnimation(),i=this.frameIndex(),n=4*i,a=this.getAnimations()[e],r=this.frameOffsets(),s=a[n+2],o=a[n+3];if(t.beginPath(),r){var h=r[e],c=2*i;t.rect(h[c+0],h[c+1],s,o)}else t.rect(0,0,s,o);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation();t<this.getAnimations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}},y.Util.extend(y.Sprite,y.Shape),y.Factory.addGetterSetter(y.Sprite,"animation"),y.Factory.addGetterSetter(y.Sprite,"animations"),y.Factory.addGetterSetter(y.Sprite,"frameOffsets"),y.Factory.addGetterSetter(y.Sprite,"image"),y.Factory.addGetterSetter(y.Sprite,"frameIndex",0),y.Factory.addGetterSetter(y.Sprite,"frameRate",17),y.Factory.backCompat(y.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),y.Collection.mapMethods(y.Sprite),y.Path=function(t){this.___init(t)},y.Path.prototype={___init:function(t){this.dataArray=[];var e=this;y.Shape.call(this,t),this.className="Path",this.dataArray=y.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=y.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,i=!1;t.beginPath();for(var n=0;n<e.length;n++){var a=e[n].command,r=e[n].points;switch(a){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var s=r[0],o=r[1],h=r[2],c=r[3],l=r[4],d=r[5],u=r[6],f=r[7],g=h>c?h:c,p=h>c?1:h/c,v=h>c?c/h:1;t.translate(s,o),t.rotate(u),t.scale(p,v),t.arc(0,0,g,l,l+d,1-f),t.scale(1/p,1/v),t.rotate(-u),t.translate(-s,-o);break;case"z":t.closePath(),i=!0}}i?t.fillStrokeShape(this):t.strokeShape(this)}},y.Util.extend(y.Path,y.Shape),y.Path.getLineLength=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},y.Path.getPointOnLine=function(t,e,i,n,a,r,s){void 0===r&&(r=e),void 0===s&&(s=i);var o=(a-i)/(n-e+1e-8),h=Math.sqrt(t*t/(1+o*o));n<e&&(h*=-1);var c,l=o*h;if(n===e)c={x:r,y:s+l};else if((s-i)/(r-e+1e-8)===o)c={x:r+h,y:s+l};else{var d,u,f=this.getLineLength(e,i,n,a);if(f<1e-8)return;var g=(r-e)*(n-e)+(s-i)*(a-i);d=e+(g/=f*f)*(n-e),u=i+g*(a-i);var p=this.getLineLength(r,s,d,u),v=Math.sqrt(t*t-p*p);h=Math.sqrt(v*v/(1+o*o)),n<e&&(h*=-1),c={x:d+h,y:u+(l=o*h)}}return c},y.Path.getPointOnCubicBezier=function(t,e,i,n,a,r,s,o,h){function c(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:o*c(t)+r*l(t)+n*d(t)+e*u(t),y:h*c(t)+s*l(t)+a*d(t)+i*u(t)}},y.Path.getPointOnQuadraticBezier=function(t,e,i,n,a,r,s){function o(t){return t*t}function h(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:r*o(t)+n*h(t)+e*c(t),y:s*o(t)+a*h(t)+i*c(t)}},y.Path.getPointOnEllipticalArc=function(t,e,i,n,a,r){var s=Math.cos(r),o=Math.sin(r),h=i*Math.cos(a),c=n*Math.sin(a);return{x:t+(h*s-c*o),y:e+(h*o+c*s)}},y.Path.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var n=0;n<i.length;n++)e=e.replace(new RegExp(i[n],"g"),"|"+i[n]);var a=e.split("|"),r=[],s=0,o=0;for(n=1;n<a.length;n++){var h=a[n],c=h.charAt(0),l=(h=(h=(h=(h=h.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");l.length>0&&""===l[0]&&l.shift();for(var d=0;d<l.length;d++)l[d]=parseFloat(l[d]);for(;l.length>0&&!isNaN(l[0]);){var u,f,g,p,v,m,y,_,S,C,x=null,w=[],b=s,F=o;switch(c){case"l":s+=l.shift(),o+=l.shift(),x="L",w.push(s,o);break;case"L":s=l.shift(),o=l.shift(),w.push(s,o);break;case"m":var k=l.shift(),T=l.shift();if(s+=k,o+=T,x="M",r.length>2&&"z"===r[r.length-1].command)for(var P=r.length-2;P>=0;P--)if("M"===r[P].command){s=r[P].points[0]+k,o=r[P].points[1]+T;break}w.push(s,o),c="l";break;case"M":s=l.shift(),o=l.shift(),x="M",w.push(s,o),c="L";break;case"h":s+=l.shift(),x="L",w.push(s,o);break;case"H":s=l.shift(),x="L",w.push(s,o);break;case"v":o+=l.shift(),x="L",w.push(s,o);break;case"V":o=l.shift(),x="L",w.push(s,o);break;case"C":w.push(l.shift(),l.shift(),l.shift(),l.shift()),s=l.shift(),o=l.shift(),w.push(s,o);break;case"c":w.push(s+l.shift(),o+l.shift(),s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="C",w.push(s,o);break;case"S":f=s,g=o,"C"===(u=r[r.length-1]).command&&(f=s+(s-u.points[2]),g=o+(o-u.points[3])),w.push(f,g,l.shift(),l.shift()),s=l.shift(),o=l.shift(),x="C",w.push(s,o);break;case"s":f=s,g=o,"C"===(u=r[r.length-1]).command&&(f=s+(s-u.points[2]),g=o+(o-u.points[3])),w.push(f,g,s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="C",w.push(s,o);break;case"Q":w.push(l.shift(),l.shift()),s=l.shift(),o=l.shift(),w.push(s,o);break;case"q":w.push(s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="Q",w.push(s,o);break;case"T":f=s,g=o,"Q"===(u=r[r.length-1]).command&&(f=s+(s-u.points[0]),g=o+(o-u.points[1])),s=l.shift(),o=l.shift(),x="Q",w.push(f,g,s,o);break;case"t":f=s,g=o,"Q"===(u=r[r.length-1]).command&&(f=s+(s-u.points[0]),g=o+(o-u.points[1])),s+=l.shift(),o+=l.shift(),x="Q",w.push(f,g,s,o);break;case"A":p=l.shift(),v=l.shift(),m=l.shift(),y=l.shift(),_=l.shift(),S=s,C=o,s=l.shift(),o=l.shift(),x="A",w=this.convertEndpointToCenterParameterization(S,C,s,o,y,_,p,v,m);break;case"a":p=l.shift(),v=l.shift(),m=l.shift(),y=l.shift(),_=l.shift(),S=s,C=o,s+=l.shift(),o+=l.shift(),x="A",w=this.convertEndpointToCenterParameterization(S,C,s,o,y,_,p,v,m)}r.push({command:x||c,points:w,start:{x:b,y:F},pathLength:this.calcLength(b,F,x||c,w)})}"z"!==c&&"Z"!==c||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},y.Path.calcLength=function(t,e,i,n){var a,r,s,o,h=y.Path;switch(i){case"L":return h.getLineLength(t,e,n[0],n[1]);case"C":for(a=0,r=h.getPointOnCubicBezier(0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),o=.01;o<=1;o+=.01)s=h.getPointOnCubicBezier(o,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),a+=h.getLineLength(r.x,r.y,s.x,s.y),r=s;return a;case"Q":for(a=0,r=h.getPointOnQuadraticBezier(0,t,e,n[0],n[1],n[2],n[3]),o=.01;o<=1;o+=.01)s=h.getPointOnQuadraticBezier(o,t,e,n[0],n[1],n[2],n[3]),a+=h.getLineLength(r.x,r.y,s.x,s.y),r=s;return a;case"A":a=0;var c=n[4],l=n[5],d=n[4]+l,u=Math.PI/180;if(Math.abs(c-d)<u&&(u=Math.abs(c-d)),r=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),l<0)for(o=c-u;o>d;o-=u)s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),a+=h.getLineLength(r.x,r.y,s.x,s.y),r=s;else for(o=c+u;o<d;o+=u)s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),a+=h.getLineLength(r.x,r.y,s.x,s.y),r=s;return s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),a+=h.getLineLength(r.x,r.y,s.x,s.y)}return 0},y.Path.convertEndpointToCenterParameterization=function(t,e,i,n,a,r,s,o,h){var c=h*(Math.PI/180),l=Math.cos(c)*(t-i)/2+Math.sin(c)*(e-n)/2,d=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(e-n)/2,u=l*l/(s*s)+d*d/(o*o);u>1&&(s*=Math.sqrt(u),o*=Math.sqrt(u));var f=Math.sqrt((s*s*(o*o)-s*s*(d*d)-o*o*(l*l))/(s*s*(d*d)+o*o*(l*l)));a===r&&(f*=-1),isNaN(f)&&(f=0);var g=f*s*d/o,p=f*-o*l/s,v=(t+i)/2+Math.cos(c)*g-Math.sin(c)*p,m=(e+n)/2+Math.sin(c)*g+Math.cos(c)*p,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},S=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},C=S([1,0],[(l-g)/s,(d-p)/o]),x=[(l-g)/s,(d-p)/o],w=[(-1*l-g)/s,(-1*d-p)/o],b=S(x,w);return _(x,w)<=-1&&(b=Math.PI),_(x,w)>=1&&(b=0),0===r&&b>0&&(b-=2*Math.PI),1===r&&b<0&&(b+=2*Math.PI),[v,m,s,o,C,b,c,r]},y.Factory.addGetterSetter(y.Path,"data"),y.Collection.mapMethods(y.Path),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}y.TextPath=function(t){this.___init(t)},y.TextPath.prototype={___init:function(i){var n=this;this.dummyCanvas=y.Util.createCanvasElement(),this.dataArray=[],y.Shape.call(this,i),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=y.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){n.dataArray=y.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",n._setTextData),n._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,i=0;i<e.length;i++){t.save();var n=e[i].p0;t.translate(n.x,n.y),t.rotate(e[i].rotation),this.partialText=e[i].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){y.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var i=e.measureText(t);return e.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text);this.textWidth=e.width,this.textHeight=e.height,this.glyphInfo=[];for(var i,n,a,r=this.attrs.text.split(""),s=-1,o=0,h=function(){o=0;for(var e=t.dataArray,n=s+1;n<e.length;n++){if(e[n].pathLength>0)return s=n,e[n];"M"==e[n].command&&(i={x:e[n].points[0],y:e[n].points[1]})}return{}},c=function(e){var r=t._getTextSize(e).width,s=0,c=0;for(n=void 0;Math.abs(r-s)/r>.01&&c<25;){c++;for(var l=s;void 0===a;)(a=h())&&l+a.pathLength<r&&(l+=a.pathLength,a=void 0);if(a==={}||void 0===i)return;var d=!1;switch(a.command){case"L":y.Path.getLineLength(i.x,i.y,a.points[0],a.points[1])>r?n=y.Path.getPointOnLine(r,i.x,i.y,a.points[0],a.points[1],i.x,i.y):a=void 0;break;case"A":var u=a.points[4],f=a.points[5],g=a.points[4]+f;0===o?o=u+1e-8:r>s?o+=Math.PI/180*f/Math.abs(f):o-=Math.PI/360*f/Math.abs(f),(f<0&&o<g||f>=0&&o>g)&&(o=g,d=!0),n=y.Path.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],o,a.points[6]);break;case"C":0===o?o=r>a.pathLength?1e-8:r/a.pathLength:r>s?o+=(r-s)/a.pathLength:o-=(s-r)/a.pathLength,o>1&&(o=1,d=!0),n=y.Path.getPointOnCubicBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case"Q":0===o?o=r/a.pathLength:r>s?o+=(r-s)/a.pathLength:o-=(s-r)/a.pathLength,o>1&&(o=1,d=!0),n=y.Path.getPointOnQuadraticBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}void 0!==n&&(s=y.Path.getLineLength(i.x,i.y,n.x,n.y)),d&&(d=!1,a=void 0)}},l=0;l<r.length&&(c(r[l]),void 0!==i&&void 0!==n);l++){var d=y.Path.getLineLength(i.x,i.y,n.x,n.y),u=y.Path.getPointOnLine(0+d/2,i.x,i.y,n.x,n.y),f=Math.atan2(n.y-i.y,n.x-i.x);this.glyphInfo.push({transposeX:u.x,transposeY:u.y,text:r[l],rotation:f,p0:i,p1:n}),i=n}}},y.TextPath.prototype._getContextFont=y.Text.prototype._getContextFont,y.Util.extend(y.TextPath,y.Shape),y.Factory.addGetterSetter(y.TextPath,"fontFamily","Arial"),y.Factory.addGetterSetter(y.TextPath,"fontSize",12),y.Factory.addGetterSetter(y.TextPath,"fontStyle","normal"),y.Factory.addGetterSetter(y.TextPath,"fontVariant","normal"),y.Factory.addGetter(y.TextPath,"text",""),y.Collection.mapMethods(y.TextPath)}(),y.RegularPolygon=function(t){this.___init(t)},y.RegularPolygon.prototype={___init:function(t){y.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,a=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<a;e++)i=r*Math.sin(2*e*Math.PI/a),n=-1*r*Math.cos(2*e*Math.PI/a),t.lineTo(i,n);t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.RegularPolygon,y.Shape),y.Factory.addGetterSetter(y.RegularPolygon,"radius",0),y.Factory.addGetterSetter(y.RegularPolygon,"sides",0),y.Collection.mapMethods(y.RegularPolygon),y.Star=function(t){this.___init(t)},y.Star.prototype={___init:function(t){y.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var a=1;a<2*n;a++){var r=a%2==0?i:e,s=r*Math.sin(a*Math.PI/n),o=-1*r*Math.cos(a*Math.PI/n);t.lineTo(s,o)}t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.Star,y.Shape),y.Factory.addGetterSetter(y.Star,"numPoints",5),y.Factory.addGetterSetter(y.Star,"innerRadius",0),y.Factory.addGetterSetter(y.Star,"outerRadius",0),y.Collection.mapMethods(y.Star),m=(v=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"]).length,y.Label=function(t){this.____init(t)},y.Label.prototype={____init:function(t){var e=this;y.Group.call(this,t),this.className="Label",this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(t){var e,i=this,n=function(){i._sync()};for(e=0;e<m;e++)t.on(v[e]+"Change.kinetic",n)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,i,n,a,r,s,o=this.getText(),h=this.getTag();if(o&&h){switch(t=o.getWidth(),e=o.getHeight(),i=h.getPointerDirection(),n=h.getPointerWidth(),s=h.getPointerHeight(),a=0,r=0,i){case"up":a=t/2,r=-1*s;break;case"right":a=t+n,r=e/2;break;case"down":a=t/2,r=e+s;break;case"left":a=-1*n,r=e/2}h.setAttrs({x:-1*a,y:-1*r,width:t,height:e}),o.setAttrs({x:-1*a,y:-1*r})}}},y.Util.extend(y.Label,y.Group),y.Collection.mapMethods(y.Label),y.Tag=function(t){this.___init(t)},y.Tag.prototype={___init:function(t){y.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),i=this.getHeight(),n=this.getPointerDirection(),a=this.getPointerWidth(),r=this.getPointerHeight(),s=this.getCornerRadius();t.beginPath(),t.moveTo(0,0),"up"===n&&(t.lineTo((e-a)/2,0),t.lineTo(e/2,-1*r),t.lineTo((e+a)/2,0)),s?(t.lineTo(e-s,0),t.arc(e-s,s,s,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===n&&(t.lineTo(e,(i-r)/2),t.lineTo(e+a,i/2),t.lineTo(e,(i+r)/2)),s?(t.lineTo(e,i-s),t.arc(e-s,i-s,s,0,Math.PI/2,!1)):t.lineTo(e,i),"down"===n&&(t.lineTo((e+a)/2,i),t.lineTo(e/2,i+r),t.lineTo((e-a)/2,i)),s?(t.lineTo(s,i),t.arc(s,i-s,s,Math.PI/2,Math.PI,!1)):t.lineTo(0,i),"left"===n&&(t.lineTo(0,(i+r)/2),t.lineTo(-1*a,i/2),t.lineTo(0,(i-r)/2)),s&&(t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)}},y.Util.extend(y.Tag,y.Shape),y.Factory.addGetterSetter(y.Tag,"pointerDirection","none"),y.Factory.addGetterSetter(y.Tag,"pointerWidth",0),y.Factory.addGetterSetter(y.Tag,"pointerHeight",0),y.Factory.addGetterSetter(y.Tag,"cornerRadius",0),y.Collection.mapMethods(y.Tag),y.Arrow=function(t){this.____init(t)},y.Arrow.prototype={____init:function(t){y.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){var e=2*Math.PI,i=this.points(),n=i.length,a=i[n-2]-i[n-4],r=i[n-1]-i[n-3],s=(Math.atan2(r,a)+e)%e,o=this.pointerLength(),h=this.pointerWidth();t.save(),t.beginPath(),t.translate(i[n-2],i[n-1]),t.rotate(s),t.moveTo(0,0),t.lineTo(-o,h/2),t.lineTo(-o,-h/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(i[0],i[1]),a=i[2]-i[0],r=i[3]-i[1],t.rotate((Math.atan2(-r,-a)+e)%e),t.moveTo(0,0),t.lineTo(-10,6),t.lineTo(-10,-6),t.closePath(),t.restore()),t.fillStrokeShape(this),y.Line.prototype._sceneFunc.apply(this,arguments)}},y.Util.extend(y.Arrow,y.Line),y.Factory.addGetterSetter(y.Arrow,"pointerLength",10),y.Factory.addGetterSetter(y.Arrow,"pointerWidth",10),y.Factory.addGetterSetter(y.Arrow,"pointerAtBeginning",!1),y.Collection.mapMethods(y.Arrow)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{canvas:1,jsdom:1}],3:[function(t,e,i){"use strict";const n=t("kinetic");e.exports=class{constructor(t,e,i,n,a){this.row=t,this.column=e,this.generateKey=i,this.space=n,this.blockSize=a,this.x=this.row*(2*this.space+this.blockSize)+this.space,this.y=this.column*(2*this.space+this.blockSize)+this.space,this.up=!1,this.left=!1,this.down=!1,this.right=!1,this.key=this.generateKey,this.connected=!1,this.rotation=0,this.animationIsRunning=!1}init(t,e,i,a){this.box=new n.Group({x:this.x+this.blockSize/2+(i-this.blockSize*a)/2-this.blockSize/2,y:this.y+this.blockSize/2,width:this.blockSize,height:this.blockSize,offset:{x:this.blockSize/2,y:this.blockSize/2}}),this.pipes=new n.Group({x:0,y:0}),this.shape=new n.Rect({x:0,y:0,width:this.blockSize,height:this.blockSize,name:this.x+"-"+this.y,fill:"grey",stroke:"black",strokeWidth:this.space});var r=new n.Line({points:[this.blockSize/2,0,this.blockSize/2,this.blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeUp"}),s=new n.Line({points:[0,this.blockSize/2,this.blockSize/2,this.blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeLeft"}),o=new n.Line({points:[this.blockSize/2,this.blockSize,this.blockSize/2,this.blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeDown"}),h=new n.Line({points:[this.blockSize,this.blockSize/2,this.blockSize/2,this.blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeRight"});this.up&&this.pipes.add(r),this.left&&this.pipes.add(s),this.down&&this.pipes.add(o),this.right&&this.pipes.add(h),this.box.on("click",()=>t(this)),this.mouseClick=e(this),this.box.add(this.shape),this.box.add(this.pipes)}connectionHandler(t){t?(this.pipes.find(".pipeUp").stroke("green"),this.pipes.find(".pipeLeft").stroke("green"),this.pipes.find(".pipeDown").stroke("green"),this.pipes.find(".pipeRight").stroke("green")):(this.pipes.find(".pipeUp").stroke("red"),this.pipes.find(".pipeLeft").stroke("red"),this.pipes.find(".pipeDown").stroke("red"),this.pipes.find(".pipeRight").stroke("red"))}shuffleIt(){for(var t=0;t<Math.floor(3*Math.random());t++)Math.random()<.5?this.rotateRight():this.rotateLeft()}rotateRight(){let t=this.up;this.up=this.left,this.left=this.down,this.down=this.right,this.right=t}rotateLeft(){let t=this.up;this.up=this.right,this.right=this.down,this.down=this.left,this.left=t}}},{kinetic:2}],4:[function(t,e,i){"use strict";const n=";",a="=",r="expires",s="path";e.exports={get:function(t,e=null){let i=t+a,n=decodeURIComponent(document.cookie).split(";");for(let t of n)if(0===(t=t.trim()).indexOf(i))return t.substring(i.length,t.length);return e},set:function(t,e,i=365,o="/"){let h=new Date;h.setTime(h.getTime()+24*i*60*60*1e3);let c=t+a+e,l=r+a+h.toUTCString(),d=s+a+o;document.cookie=c+n+l+n+d}}},{}],5:[function(t,e,i){"use strict";const n=t("kinetic"),a=t("./module/cookie"),r=t("./model/block");let s,o,h,c,l,d,u,f,g,p,v,m,y,_,S,C=1280,x=720,w=10,b=10,F=5,k=5,T=0,P=Math.min(C,x)/Math.max(w,b)-2*F,A=Math.floor(w/2),M=Math.floor(b/2);function D(){switch(s.hasChildren()&&s.destroyChildren(),o="classic",h){case"easy":w=5,b=5;break;case"medium":w=10,b=10;break;case"hard":w=15,b=15}A=Math.floor(w/2),M=Math.floor(b/2),c=Math.floor(w/k)+1,l=Math.floor(b/k)+1,P=Math.min(C,x)/Math.max(w,b)-2*F,(d=new I).generateFields(),d.shuffle(),d.drawGame(),u=new L,f=new N,u.setInc(!0),u.start(),f.initPanel(),f.updateScore(a.get("classic_high_score_"+h,"--/--")),f.hideLevel()}function G(){s.hasChildren()&&s.destroyChildren(),o="time-trial",w=4+ ++T,b=4+T,A=Math.floor(w/2),M=Math.floor(b/2),c=Math.floor(w/k)+1,l=Math.floor(b/k)+1,P=Math.min(C,x)/Math.max(w,b)-2*F,(d=new I).generateFields(),d.shuffle(),d.drawGame(),void 0===u&&(u=new L),u.setInc(!1),u.setCurrentTime((0===u.getCurrentTime()?80:u.getCurrentTime())+30+10*T),u.start(),(f=new N).initPanel(),f.updateScore(a.get("time_trial_score","-")),f.updateTimer(u.getMin()+":"+u.getSec()),f.updateLevel(T)}function L(){var t=!0,e=null,i=0,n=0,r=0;function s(){i++,h(),f.updateTimer(r+":"+n)}function o(){i--,h(),f.updateTimer(r+":"+n),0===i&&(u.stop(),setTimeout(function(){var t=!1;null===a.get("time_trial_score")?t=!0:a.get("time_trial_score")<T&&(t=!0),alert("Congratulation! \nYour level: "+T+(t?"\nNew record!":"")),t&&a.set("time_trial_score",T),R()},300))}function h(){r=(r=Math.floor(i/60))<10?"0"+r:r,n=(n=i%60)<10?"0"+n:n}this.setInc=function(e){t=e},this.getCurrentTime=function(){return i},this.setCurrentTime=function(t){i=t,h()},this.start=function(){e=t?setInterval(s,1e3):setInterval(o,1e3)},this.stop=function(){clearInterval(e)},this.reset=function(){i=0,n=0,r=0},this.getSec=function(){return n},this.getMin=function(){return r}}function R(){s.hasChildren()&&s.destroyChildren();var t=new n.Text({x:C/2,y:x/3-100,text:"Classic game",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var e=new n.Text({x:C/2,y:x/3,text:"Time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2});var i=new n.Text({x:C/2,y:x/3+100,text:"Scoreboard",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var r=new n.Text({x:C/2,y:x/3+200,text:"Information",fontSize:32,fontFamily:"Calibri",fill:"grey"});r.setOffset({x:r.getWidth()/2}),(g=new n.Layer).name="gameMenu",g.add(t),g.add(e),g.add(i),g.add(r),s.add(g);var o=new n.Animation(function(){t.fill("black"),this.stop()},g),c=new n.Animation(function(){t.fill("grey"),this.stop()},g);t.on("mouseover",function(){o.start()}),t.on("mouseout",function(){c.start()}),t.on("click",function(){!function(){s.hasChildren()&&s.destroyChildren();var t=new n.Text({x:C/2,y:x/3-100,text:"Easy (5x5)",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var e=new n.Text({x:C/2,y:x/3,text:"Medium (10x10)",fontSize:32,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2});var i=new n.Text({x:C/2,y:x/3+100,text:"Hard (15x15)",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var a=new n.Text({x:C/2,y:x/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});a.setOffset({x:a.getWidth()/2}),(p=new n.Layer).name="difficultySelectMenu",p.add(t),p.add(e),p.add(i),p.add(a),s.add(p);var r=new n.Animation(function(){t.fill("black"),this.stop()},p),o=new n.Animation(function(){t.fill("grey"),this.stop()},p);t.on("mouseover",function(){r.start()}),t.on("mouseout",function(){o.start()}),t.on("click",function(){h="easy",D()});var c=new n.Animation(function(){e.fill("black"),this.stop()},p),l=new n.Animation(function(){e.fill("grey"),this.stop()},p);e.on("mouseover",function(){c.start()}),e.on("mouseout",function(){l.start()}),e.on("click",function(){h="medium",D()});var d=new n.Animation(function(){i.fill("black"),this.stop()},p),u=new n.Animation(function(){i.fill("grey"),this.stop()},p);i.on("mouseover",function(){d.start()}),i.on("mouseout",function(){u.start()}),i.on("click",function(){h="hard",D()});var f=new n.Animation(function(){a.fill("black"),this.stop()},p),g=new n.Animation(function(){a.fill("grey"),this.stop()},p);a.on("mouseover",function(){f.start()}),a.on("mouseout",function(){g.start()}),a.on("click",function(){R()})}()});var l=new n.Animation(function(){e.fill("black"),this.stop()},g),d=new n.Animation(function(){e.fill("grey"),this.stop()},g);e.on("mouseover",function(){l.start()}),e.on("mouseout",function(){d.start()}),e.on("click",function(){!function(){s.hasChildren()&&s.destroyChildren();var t=new n.Text({x:C/2,y:x/3,text:"Starting time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var e=new n.Text({x:C/2,y:x/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2}),(v=new n.Layer).name="timeTrialGameLayer",v.add(t),v.add(e),s.add(v);var i=new n.Animation(function(){t.fill("black"),this.stop()},v),a=new n.Animation(function(){t.fill("grey"),this.stop()},v);t.on("mouseover",function(){i.start()}),t.on("mouseout",function(){a.start()}),t.on("click",function(){G()});var r=new n.Animation(function(){e.fill("black"),this.stop()},v),o=new n.Animation(function(){e.fill("grey"),this.stop()},v);e.on("mouseover",function(){r.start()}),e.on("mouseout",function(){o.start()}),e.on("click",function(){R()})}()});var u=new n.Animation(function(){i.fill("black"),this.stop()},g),f=new n.Animation(function(){i.fill("grey"),this.stop()},g);i.on("mouseover",function(){u.start()}),i.on("mouseout",function(){f.start()}),i.on("click",function(){!function(){s.hasChildren()&&s.destroyChildren();var t=new n.Text({x:C/2,y:x/3-100,text:"Classic game",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var e=new n.Text({x:C/2-120,y:x/3-40,text:"Easy\n"+a.get("classic_high_score_easy","99:99"),fontSize:18,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2});var i=new n.Text({x:C/2,y:x/3-40,text:"Medium\n"+a.get("classic_high_score_medium","99:99"),fontSize:18,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var r=new n.Text({x:C/2+120,y:x/3-40,text:"Hard\n"+a.get("classic_high_score_hard","99:99"),fontSize:18,fontFamily:"Calibri",fill:"grey"});r.setOffset({x:r.getWidth()/2});var o=new n.Text({x:C/2,y:x/3+40,text:"Time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2});var h=new n.Text({x:C/2,y:x/3+100,text:a.get("time_trial_score","0")+". level",fontSize:18,fontFamily:"Calibri",fill:"grey"});h.setOffset({x:h.getWidth()/2});var c=new n.Text({x:C/2,y:x/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});c.setOffset({x:c.getWidth()/2}),(m=new n.Layer).name="scoreBoardMenuLayer",m.add(t),m.add(e),m.add(i),m.add(r),m.add(o),m.add(h),m.add(c),s.add(m);var l=new n.Animation(function(){c.fill("black"),this.stop()},m),d=new n.Animation(function(){c.fill("grey"),this.stop()},m);c.on("mouseover",function(){l.start()}),c.on("mouseout",function(){d.start()}),c.on("click",function(){R()})}()});var _=new n.Animation(function(){r.fill("black"),this.stop()},g),S=new n.Animation(function(){r.fill("grey"),this.stop()},g);r.on("mouseover",function(){_.start()}),r.on("mouseout",function(){S.start()}),r.on("click",function(){!function(){s.hasChildren()&&s.destroyChildren();var t=new n.Text({x:C/2,y:x/3-100,text:"",fontSize:18,fontFamily:"Calibri",fill:"grey"});let e="Game goal:\nTurn all the pipes into the correct position, so every pipe connected to each other!\n";e+="In classic game you can choose between three different difficulty, while in time trial the difficulty is incrementaly increasing.\n",e+="Time is key, so don't hesitate too much!\n",e+="You can check your rank at the scoreboard!\n\nMade by: White Rabbit (Tams Ruszka) (C) 2014,\nMail: ruszka dot tamas at gmail dot com",t.setText(e),t.setOffset({x:t.getWidth()/2>0?t.getWidth()/2:0});var i=new n.Text({x:C/2,y:x/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2}),(y=new n.Layer).name="informationMenuLayer",y.add(t),y.add(i),s.add(y);var a=new n.Animation(function(){i.fill("black"),this.stop()},y),r=new n.Animation(function(){i.fill("grey"),this.stop()},y);i.on("mouseover",function(){a.start()}),i.on("mouseout",function(){r.start()}),i.on("click",function(){R()})}()})}function I(){_=[];for(let t=0;t<c;t++){_[t]=new Array(l);for(let e=0;e<l;e++)_[t][e]=new n.Layer}S=[],this.generateFields=function(){var t=0,e=0,i=!0;for(let t=0;t<w;t++){S[t]=new Array(b);for(let e=0;e<b;e++)S[t][e]=new r(t,e,t*b+e,F,P)}for(;i;){let n=Math.floor(Math.random()*w),a=Math.floor(Math.random()*b),r=S[n][a];if(i=!1,0!==r.key)switch(Math.floor(4*Math.random()+0)){case 0:if(0!==n){let i=S[n-1][a];if(void 0!==i&&r.key!==i.key){r.left=!0,i.right=!0,t=r.key>i.key?r.key:i.key,e=r.key<i.key?r.key:i.key;for(let i=0;i<w;i++)for(let i=0;i<b;i++)r.key===t&&(r.key=e)}}break;case 1:if(0!==a){let i=S[n][a-1];if(void 0!==i&&r.key!==i.key){r.up=!0,i.down=!0,t=r.key>i.key?r.key:i.key,e=r.key<i.key?r.key:i.key;for(let i=0;i<w;i++)for(let n=0;n<b;n++)S[i][n].key===t&&(S[i][n].key=e)}}break;case 2:if(n!==b-1){let i=S[n+1][a];if(void 0!==i&&r.key!==i.key){r.right=!0,i.left=!0,t=r.key>i.key?r.key:i.key,e=r.key<i.key?r.key:i.key;for(let i=0;i<w;i++)for(let n=0;n<b;n++)S[i][n].key===t&&(S[i][n].key=e)}}break;case 3:if(a!==w-1){let i=S[n][a+1];if(void 0!==i&&r.key!==i.key){r.down=!0,i.up=!0,t=r.key>i.key?r.key:i.key,e=r.key<i.key?r.key:i.key;for(let i=0;i<w;i++)for(let n=0;n<b;n++)S[i][n].key===t&&(S[i][n].key=e)}}}for(let t=0;t<w;t++)for(let e=0;e<b;e++)S[t][e].key>0&&(i=!0)}},this.shuffle=function(){for(var t=0;t<w;t++)for(var e=0;e<b;e++)S[t][e].shuffleIt()},this.drawGame=function(){for(let t=0;t<w;t++)for(let e=0;e<b;e++)S[t][e].init(B,z,C,w),_[Math.floor(t/k)][Math.floor(e/k)].add(S[t][e].box);S[A][M].connected=!0,S[A][M].connectionHandler(!0),this.checkPipeConnections();for(let t=0;t<c;t++)for(let e=0;e<l;e++)s.add(_[t][e])},this.checkPipeConnections=function(){var t=0,e=0;for(t=0;t<w;t++)for(e=0;e<b;e++)S[t][e].connected=!1,S[t][e].connectionHandler(!1);for(S[A][M].connected=!0,S[A][M].connectionHandler(!0),t=0;t<w;t++)for(e=0;e<b;e++)if(S[t][e].connected){var i=!1;0===t||i||S[t][e].left&&S[t-1][e].right&&(S[t-1][e].connected||(S[t-1][e].connected=!0,S[t-1][e].connectionHandler(!0),t=0,e=-1,i=!0)),t===w-1||i||S[t][e].right&&S[t+1][e].left&&(S[t+1][e].connected||(S[t+1][e].connected=!0,S[t+1][e].connectionHandler(!0),t=0,e=-1,i=!0)),0===e||i||S[t][e].up&&S[t][e-1].down&&(S[t][e-1].connected||(S[t][e-1].connected=!0,S[t][e-1].connectionHandler(!0),t=0,e=-1,i=!0)),e===b-1||i||S[t][e].down&&S[t][e+1].up&&(S[t][e+1].connected||(S[t][e+1].connected=!0,S[t][e+1].connectionHandler(!0),t=0,e=-1,i=!0))}}}function N(){var t=C/2+w*P/2+w*(2*F),e=C-(t+w*F*2),i=x,a=new n.Layer,r=new n.Group({x:t,y:0,width:e,height:i}),o=new n.Group({x:0,y:0,width:t-C,height:x}),h=new n.Group({x:0,y:0,width:t-C,height:x}),c=new n.Group({x:0,y:0,width:t-C,height:x}),l=new n.Text({x:200,y:200,text:"Back",fontSize:48,fontFamily:"Calibri",fill:"grey"}),d=new n.Text({x:30,y:50,text:"Time:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),u=new n.Text({x:30,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),f=new n.Text({x:200,y:50,text:"Previous record:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),g=new n.Text({x:200,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),p=new n.Text({x:30,y:200,text:"Actual level:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),v=new n.Text({x:30,y:250,text:"1",fontSize:64,fontFamily:"Calibri",fill:"grey"});this.initPanel=function(){o.add(d),o.add(u),h.add(f),h.add(g),h.add(l),c.add(p),c.add(v),r.add(o),r.add(h),r.add(c),a.add(r),s.add(a)},this.showTimer=function(){o.show(),a.draw()},this.hideTimer=function(){o.hide(),a.draw()},this.showScore=function(){h.show(),a.draw()},this.scoreTimer=function(){h.hide(),a.draw()},this.showLevel=function(){c.show(),a.draw()},this.hideLevel=function(){c.hide(),a.draw()},this.updateTimer=function(t){u.setText(t),a.draw()},this.updateScore=function(t){g.setText(t),a.draw()},this.updateLevel=function(t){v.setText(t),a.draw()};var m=new n.Animation(function(){l.fill("black"),this.stop()},a),y=new n.Animation(function(){l.fill("grey"),this.stop()},a);l.on("mouseover",function(){m.start()}),l.on("mouseout",function(){y.start()}),l.on("click",function(){R()})}function O(){u.stop(),setTimeout(function(){var t=!1;null===a.get("classic_high_score_"+h)?t=!0:a.get("classic_high_score_"+h)>u.getMin()+" : "+u.getSec()&&(t=!0),alert("Congratulation, you solved the level! \nYour time: "+u.getMin()+" : "+u.getSec()+(t?"\nNew record!":"")),t&&a.set("classic_high_score_"+h,u.getMin()+" : "+u.getSec()),R()},300)}function U(){u.stop(),setTimeout(function(){G()},300)}function B(t){t.mouseClick.isRunning()||t.animationIsRunning||(t.rotateRight(),t.mouseClick.start(),setTimeout(function(){d.checkPipeConnections(),function(){var t=!0;for(let e=0;e<w;e++)for(let i=0;i<b;i++)S[e][i].connected||(t=!1);if(t)"classic"===o?O():"time-trial"===o&&U();else for(let t=0;t<c;t++)for(let e=0;e<l;e++)_[t][e].draw()}()},100))}function z(t){return new n.Animation(function(){if(t.animationIsRunning=!0,t.box.rotate(5),t.box.rotation()>=t.rotation+90){t.box.rotation(t.rotation+90),t.rotation=t.box.rotation();var e=!0;for(let t=0;t<w;t++)for(let i=0;i<b;i++)S[t][i].connected||(e=!1);if(this.stop(),t.animationIsRunning=!1,e)"classic"===o?O():"time-trial"===o&&U();else for(let t=0;t<c;t++)for(let e=0;e<l;e++)_[t][e].draw()}},_[Math.floor(t.row/k)][Math.floor(t.column/k)])}e.exports={loadApplication:function(){C=window.innerWidth,x=window.innerHeight-200,s=new n.Stage({container:"table",width:C,height:x}),R()}}},{"./model/block":3,"./module/cookie":4,kinetic:2}],6:[function(t,e,i){"use strict";var n=t("./js/pipe");window.onload=function(){n.loadApplication()}},{"./js/pipe":5}]},{},[6]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMva2luZXRpYy9raW5ldGljLmpzIiwic3JjL2pzL21vZGVsL2Jsb2NrLmpzIiwic3JjL2pzL21vZHVsZS9jb29raWUuanMiLCJzcmMvanMvcGlwZS5qcyIsInNyYy9tYWluLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsInJvb3QiLCJQSV9PVkVSXzE4MCIsImNvbnRleHQiLCJfcGl4ZWxSYXRpbyIsIkNPTlRFWFRfTUVUSE9EUyIsIlNIQVBFIiwiQ0xPTkVfQkxBQ0tfTElTVCIsIlRSQU5TRk9STV9DSEFOR0VfU1RSIiwidGVtcENhbnZhcyIsIklOVEVSU0VDVElPTl9PRkZTRVRTIiwiSU5URVJTRUNUSU9OX09GRlNFVFNfTEVOIiwiUEl4MiIsIkFUVFJfQ0hBTkdFX0xJU1QiLCJhdHRyQ2hhbmdlTGlzdExlbiIsIktpbmV0aWMiLCJ0aGlzIiwiTWF0aCIsIlBJIiwidmVyc2lvbiIsInN0YWdlcyIsImlkQ291bnRlciIsImlkcyIsIm5hbWVzIiwic2hhcGVzIiwibGlzdGVuQ2xpY2tUYXAiLCJpbkRibENsaWNrV2luZG93IiwiZW5hYmxlVHJhY2UiLCJ0cmFjZUFyck1heCIsImRibENsaWNrV2luZG93IiwicGl4ZWxSYXRpbyIsInVuZGVmaW5lZCIsImRyYWdEaXN0YW5jZSIsImFuZ2xlRGVnIiwic2hvd1dhcm5pbmdzIiwiRmlsdGVycyIsIk5vZGUiLCJjb25maWciLCJfaW5pdCIsIlNoYXBlIiwiX19pbml0IiwiQ29udGFpbmVyIiwiU3RhZ2UiLCJfX19pbml0IiwiQmFzZUxheWVyIiwiTGF5ZXIiLCJfX19faW5pdCIsIkZhc3RMYXllciIsIkdyb3VwIiwiaXNEcmFnZ2luZyIsImRkIiwiREQiLCJpc0RyYWdSZWFkeSIsIm5vZGUiLCJfYWRkSWQiLCJpZCIsIl9yZW1vdmVJZCIsIl9hZGROYW1lIiwibmFtZSIsInNwbGl0Iiwic3VibmFtZSIsInB1c2giLCJfcmVtb3ZlTmFtZSIsIl9pZCIsIm5vZGVzIiwic3BsaWNlIiwiZ2V0QW5nbGUiLCJhbmdsZSIsIl9wYXJzZVVBIiwidXNlckFnZW50IiwidWEiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwiZXhlYyIsImluZGV4T2YiLCJtb2JpbGUiLCJpZU1vYmlsZSIsImJyb3dzZXIiLCJVQSIsIm5hdmlnYXRvciIsImZhY3RvcnkiLCJLaW5ldGljSlMiLCJnbG9iYWwiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIkNhbnZhcyIsImpzZG9tIiwiY3JlYXRlV2luZG93IiwiSW1hZ2UiLCJfbm9kZUNhbnZhcyIsImRlZmluZSIsImFtZCIsIkNvbGxlY3Rpb24iLCJhcmdzIiwic2xpY2UiLCJhcmd1bWVudHMiLCJwcm90b3R5cGUiLCJlYWNoIiwiZnVuYyIsInRvQXJyYXkiLCJhcnIiLCJsZW4iLCJ0b0NvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiX21hcE1ldGhvZCIsIm1ldGhvZE5hbWUiLCJhcHBseSIsIm1hcE1ldGhvZHMiLCJjb25zdHJ1Y3RvciIsInByb3QiLCJUcmFuc2Zvcm0iLCJtIiwiY29weSIsInBvaW50IiwieCIsInkiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInN4Iiwic3kiLCJyb3RhdGUiLCJyYWQiLCJjb3MiLCJzIiwic2luIiwibTExIiwibTEyIiwibTIxIiwibTIyIiwiZ2V0VHJhbnNsYXRpb24iLCJza2V3IiwibXVsdGlwbHkiLCJtYXRyaXgiLCJkeCIsImR5IiwiaW52ZXJ0IiwiZCIsIm0wIiwibTEiLCJtMiIsIm0zIiwibTQiLCJtNSIsImdldE1hdHJpeCIsInNldEFic29sdXRlUG9zaXRpb24iLCJ5dCIsInh0IiwiUElfT1ZFUl9ERUcxODAiLCJERUcxODBfT1ZFUl9QSSIsIkNPTE9SUyIsImFxdWEiLCJsaW1lIiwic2lsdmVyIiwiYmxhY2siLCJtYXJvb24iLCJ0ZWFsIiwiYmx1ZSIsIm5hdnkiLCJ3aGl0ZSIsImZ1Y2hzaWEiLCJvbGl2ZSIsInllbGxvdyIsIm9yYW5nZSIsImdyYXkiLCJwdXJwbGUiLCJncmVlbiIsInJlZCIsInBpbmsiLCJjeWFuIiwidHJhbnNwYXJlbnQiLCJSR0JfUkVHRVgiLCJVdGlsIiwiX2lzRWxlbWVudCIsIm9iaiIsIm5vZGVUeXBlIiwiX2lzRnVuY3Rpb24iLCJfaXNPYmplY3QiLCJPYmplY3QiLCJfaXNBcnJheSIsInRvU3RyaW5nIiwiX2lzTnVtYmVyIiwiX2lzU3RyaW5nIiwiX3Rocm90dGxlIiwid2FpdCIsIm9wdHMiLCJyZXN1bHQiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJvcHRpb25zIiwibGF0ZXIiLCJsZWFkaW5nIiwiRGF0ZSIsImdldFRpbWUiLCJub3ciLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsInNldFRpbWVvdXQiLCJfaGFzTWV0aG9kcyIsImtleSIsImNyZWF0ZUNhbnZhc0VsZW1lbnQiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJpc0Jyb3dzZXIiLCJfaXNJbkRvY3VtZW50IiwiZWwiLCJwYXJlbnROb2RlIiwiX3NpbXBsaWZ5QXJyYXkiLCJ2YWwiLCJyZXRBcnIiLCJ1dGlsIiwicm91bmQiLCJfZ2V0SW1hZ2UiLCJhcmciLCJjYWxsYmFjayIsImltYWdlT2JqIiwib25sb2FkIiwic3JjIiwiZGF0YSIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29udGV4dCIsInB1dEltYWdlRGF0YSIsInRvRGF0YVVSTCIsIl9nZXRSR0JBU3RyaW5nIiwiYWxwaGEiLCJqb2luIiwiX3JnYlRvSGV4IiwiZyIsImIiLCJfaGV4VG9SZ2IiLCJoZXgiLCJyZXBsYWNlIiwiYmlnaW50IiwicGFyc2VJbnQiLCJnZXRSYW5kb21Db2xvciIsInJhbmRDb2xvciIsInJhbmRvbSIsImdldCIsImRlZiIsImdldFJHQiIsImNvbG9yIiwicmdiIiwic3Vic3RyaW5nIiwic3Vic3RyIiwiX21lcmdlIiwibzEiLCJvMiIsInJldE9iaiIsIl9jbG9uZSIsImNsb25lT2JqZWN0IiwiY2xvbmVBcnJheSIsIl9kZWdUb1JhZCIsImRlZyIsIl9yYWRUb0RlZyIsIl9jYXBpdGFsaXplIiwic3RyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJlcnJvciIsIndhcm4iLCJjb25zb2xlIiwiZXh0ZW5kIiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwib2xkX3Byb3RvIiwiaGFzT3duUHJvcGVydHkiLCJfX3N1cGVyX18iLCJhZGRNZXRob2RzIiwibWV0aG9kcyIsIl9nZXRDb250cm9sUG9pbnRzIiwieDAiLCJ5MCIsIngxIiwieTEiLCJ4MiIsInkyIiwiZDAxIiwic3FydCIsInBvdyIsImQxMiIsImZhIiwiZmIiLCJfZXhwYW5kUG9pbnRzIiwidGVuc2lvbiIsImNwIiwiYWxsUG9pbnRzIiwiX3JlbW92ZUxhc3RMZXR0ZXIiLCJkZXZpY2VQaXhlbFJhdGlvIiwid2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJpbml0IiwiX2NhbnZhcyIsInBhZGRpbmciLCJtYXJnaW4iLCJib3JkZXIiLCJiYWNrZ3JvdW5kIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiZ2V0UGl4ZWxSYXRpbyIsInNldFBpeGVsUmF0aW8iLCJzZXRTaXplIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJzZXRXaWR0aCIsInNldEhlaWdodCIsIm1pbWVUeXBlIiwicXVhbGl0eSIsImVyciIsIm1lc3NhZ2UiLCJTY2VuZUNhbnZhcyIsImNvbmYiLCJTY2VuZUNvbnRleHQiLCJfY29udGV4dCIsIkhpdENhbnZhcyIsIkhpdENvbnRleHQiLCJoaXRDYW52YXMiLCJDb250ZXh0IiwidHJhY2VBcnIiLCJfZW5hYmxlVHJhY2UiLCJmaWxsU2hhcGUiLCJzaGFwZSIsImdldEZpbGxFbmFibGVkIiwiX2ZpbGwiLCJzdHJva2VTaGFwZSIsImdldFN0cm9rZUVuYWJsZWQiLCJfc3Ryb2tlIiwiZmlsbFN0cm9rZVNoYXBlIiwiZ2V0VHJhY2UiLCJyZWxheGVkIiwidHJhY2UiLCJtZXRob2QiLCJwcm9wZXJ0eSIsImNsZWFyVHJhY2UiLCJfdHJhY2UiLCJzaGlmdCIsInJlc2V0IiwiZ2V0Q2FudmFzIiwic2V0VHJhbnNmb3JtIiwiY2xlYXIiLCJib3VuZHMiLCJjbGVhclJlY3QiLCJfYXBwbHlMaW5lQ2FwIiwibGluZUNhcCIsImdldExpbmVDYXAiLCJzZXRBdHRyIiwiX2FwcGx5T3BhY2l0eSIsImFic09wYWNpdHkiLCJnZXRBYnNvbHV0ZU9wYWNpdHkiLCJfYXBwbHlMaW5lSm9pbiIsImxpbmVKb2luIiwiZ2V0TGluZUpvaW4iLCJhdHRyIiwiYXJjIiwiYmVnaW5QYXRoIiwiYmV6aWVyQ3VydmVUbyIsImNsaXAiLCJjbG9zZVBhdGgiLCJjcmVhdGVJbWFnZURhdGEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImNyZWF0ZVBhdHRlcm4iLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImRyYXdJbWFnZSIsImZpbGwiLCJmaWxsVGV4dCIsImdldEltYWdlRGF0YSIsImxpbmVUbyIsIm1vdmVUbyIsInJlY3QiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwicmVzdG9yZSIsInNhdmUiLCJzZXRMaW5lRGFzaCIsIm1vekRhc2giLCJ3ZWJraXRMaW5lRGFzaCIsInN0cm9rZSIsInN0cm9rZVRleHQiLCJ0cmFuc2Zvcm0iLCJ0aGF0Iiwib3JpZ1NldHRlciIsInJldCIsIm9yaWdNZXRob2QiLCJBcnJheSIsIl9maWxsQ29sb3IiLCJmaWxsUmVkIiwiZmlsbEdyZWVuIiwiZmlsbEJsdWUiLCJmaWxsQWxwaGEiLCJfZmlsbEZ1bmMiLCJfZmlsbFBhdHRlcm4iLCJmaWxsUGF0dGVybkltYWdlIiwiZ2V0RmlsbFBhdHRlcm5JbWFnZSIsImZpbGxQYXR0ZXJuWCIsImdldEZpbGxQYXR0ZXJuWCIsImZpbGxQYXR0ZXJuWSIsImdldEZpbGxQYXR0ZXJuWSIsImZpbGxQYXR0ZXJuU2NhbGUiLCJnZXRGaWxsUGF0dGVyblNjYWxlIiwiZmlsbFBhdHRlcm5Sb3RhdGlvbiIsImdldEZpbGxQYXR0ZXJuUm90YXRpb24iLCJmaWxsUGF0dGVybk9mZnNldCIsImdldEZpbGxQYXR0ZXJuT2Zmc2V0IiwiZmlsbFBhdHRlcm5SZXBlYXQiLCJnZXRGaWxsUGF0dGVyblJlcGVhdCIsIl9maWxsTGluZWFyR3JhZGllbnQiLCJzdGFydCIsImdldEZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnQiLCJlbmQiLCJnZXRGaWxsTGluZWFyR3JhZGllbnRFbmRQb2ludCIsImNvbG9yU3RvcHMiLCJnZXRGaWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzIiwiZ3JkIiwiYWRkQ29sb3JTdG9wIiwiX2ZpbGxSYWRpYWxHcmFkaWVudCIsImdldEZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnQiLCJnZXRGaWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludCIsInN0YXJ0UmFkaXVzIiwiZ2V0RmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXMiLCJlbmRSYWRpdXMiLCJnZXRGaWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXMiLCJnZXRGaWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzIiwiaGFzQ29sb3IiLCJoYXNQYXR0ZXJuIiwiaGFzTGluZWFyR3JhZGllbnQiLCJoYXNSYWRpYWxHcmFkaWVudCIsImZpbGxQcmlvcml0eSIsImdldEZpbGxQcmlvcml0eSIsImRhc2giLCJzdHJva2VTY2FsZUVuYWJsZWQiLCJnZXRTdHJva2VTY2FsZUVuYWJsZWQiLCJoYXNTdHJva2UiLCJkYXNoRW5hYmxlZCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlUmVkIiwic3Ryb2tlR3JlZW4iLCJzdHJva2VCbHVlIiwic3Ryb2tlQWxwaGEiLCJfc3Ryb2tlRnVuYyIsIl9hcHBseVNoYWRvdyIsImdldFNoYWRvd0NvbG9yIiwiYmx1ciIsImdldFNoYWRvd0JsdXIiLCJzaGFkb3dPcGFjaXR5IiwiZ2V0U2hhZG93T3BhY2l0eSIsIm9mZnNldCIsImdldFNoYWRvd09mZnNldCIsImNvbG9yS2V5IiwiX2ZpbGxGdW5jSGl0IiwiX3N0cm9rZUZ1bmNIaXQiLCJGYWN0b3J5IiwiYWRkR2V0dGVyU2V0dGVyIiwidmFsaWRhdG9yIiwiYWZ0ZXIiLCJhZGRHZXR0ZXIiLCJhZGRTZXR0ZXIiLCJhZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyIiwiYXR0cnMiLCJfc2V0QXR0ciIsImFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIiLCJjb21wb25lbnRzIiwiY29tcG9uZW50IiwiY2FwaXRhbGl6ZSIsImdldHRlciIsInNldHRlciIsImdldEF0dHIiLCJvbGRWYWwiLCJfZmlyZUNoYW5nZUV2ZW50IiwiY2FwaXRhbGl6ZWRBdHRyIiwiYmFja0NvbXBhdCIsImFmdGVyU2V0RmlsdGVyIiwiX2ZpbHRlclVwVG9EYXRlIiwiVmFsaWRhdG9ycyIsIlJHQkNvbXBvbmVudCIsImFscGhhQ29tcG9uZW50IiwiZXZlbnRMaXN0ZW5lcnMiLCJfY2FjaGUiLCJzZXRBdHRycyIsIm9uIiwiX2NsZWFyQ2FjaGUiLCJfY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlIiwiX2dldENhY2hlIiwicHJpdmF0ZUdldHRlciIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRyZW4iLCJjbGVhckNhY2hlIiwiY2FjaGUiLCJkcmF3Qm9yZGVyIiwiY2FjaGVkU2NlbmVDYW52YXMiLCJjYWNoZWRGaWx0ZXJDYW52YXMiLCJjYWNoZWRIaXRDYW52YXMiLCJzY2VuZUNvbnRleHQiLCJoaXRDb250ZXh0IiwiaXNDYWNoZSIsImRyYXdTY2VuZSIsImRyYXdIaXQiLCJzY2VuZSIsImZpbHRlciIsImhpdCIsIl9kcmF3Q2FjaGVkU2NlbmVDYW52YXMiLCJnZXRMYXllciIsIl9hcHBseVRyYW5zZm9ybSIsIl9nZXRDYWNoZWRTY2VuZUNhbnZhcyIsImltYWdlRGF0YSIsImZpbHRlcnMiLCJjYWNoZWRDYW52YXMiLCJzY2VuZUNhbnZhcyIsImZpbHRlckNhbnZhcyIsImZpbHRlckNvbnRleHQiLCJfZHJhd0NhY2hlZEhpdENhbnZhcyIsImV2dFN0ciIsImhhbmRsZXIiLCJwYXJ0cyIsImJhc2VFdmVudCIsImV2ZW50cyIsIm9mZiIsIl9vZmYiLCJkaXNwYXRjaEV2ZW50IiwiZXZ0IiwidGFyZ2V0IiwidHlwZSIsImZpcmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImdldFBhcmVudCIsImluZGV4IiwiX3NldENoaWxkcmVuSW5kaWNlcyIsImRlc3Ryb3kiLCJnZXRJZCIsImdldE5hbWUiLCJnZXRBbmNlc3RvcnMiLCJhbmNlc3RvcnMiLCJnZXRBdHRycyIsImlzTGlzdGVuaW5nIiwiX2lzTGlzdGVuaW5nIiwibGlzdGVuaW5nIiwiZ2V0TGlzdGVuaW5nIiwiaXNWaXNpYmxlIiwiX2lzVmlzaWJsZSIsInZpc2libGUiLCJnZXRWaXNpYmxlIiwic2hvdWxkRHJhd0hpdCIsImxheWVyIiwiaGl0R3JhcGhFbmFibGVkIiwic2hvdyIsInNldFZpc2libGUiLCJoaWRlIiwiZ2V0WkluZGV4IiwiZ2V0QWJzb2x1dGVaSW5kZXgiLCJkZXB0aCIsImdldERlcHRoIiwiYWRkQ2hpbGRyZW4iLCJjb25jYXQiLCJnZXRTdGFnZSIsInNldFBvc2l0aW9uIiwicG9zIiwic2V0WCIsInNldFkiLCJnZXRQb3NpdGlvbiIsImdldFgiLCJnZXRZIiwiZ2V0QWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlTWF0cml4IiwiZ2V0QWJzb2x1dGVUcmFuc2Zvcm0iLCJhYnNvbHV0ZVRyYW5zZm9ybSIsIml0Iiwib3JpZ1RyYW5zIiwiX2NsZWFyVHJhbnNmb3JtIiwiX3NldFRyYW5zZm9ybSIsInRyYW5zIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsInNjYWxlWCIsImdldFNjYWxlWCIsInNjYWxlWSIsImdldFNjYWxlWSIsIm9mZnNldFgiLCJnZXRPZmZzZXRYIiwib2Zmc2V0WSIsImdldE9mZnNldFkiLCJza2V3WCIsImdldFNrZXdYIiwic2tld1kiLCJnZXRTa2V3WSIsIm1vdmUiLCJjaGFuZ2UiLCJjaGFuZ2VYIiwiY2hhbmdlWSIsIl9lYWNoQW5jZXN0b3JSZXZlcnNlIiwiZmFtaWx5IiwidW5zaGlmdCIsInRoZXRhIiwic2V0Um90YXRpb24iLCJtb3ZlVG9Ub3AiLCJtb3ZlVXAiLCJtb3ZlRG93biIsIm1vdmVUb0JvdHRvbSIsInNldFpJbmRleCIsInpJbmRleCIsIl9nZXRBYnNvbHV0ZU9wYWNpdHkiLCJnZXRPcGFjaXR5IiwibmV3Q29udGFpbmVyIiwiYWRkIiwidG9PYmplY3QiLCJkZWZhdWx0VmFsdWUiLCJjbGFzc05hbWUiLCJnZXRDbGFzc05hbWUiLCJ0b0pTT04iLCJKU09OIiwic3RyaW5naWZ5IiwiX2dldFN0YWdlIiwiZXZlbnRUeXBlIiwiYnViYmxlIiwiX2ZpcmVBbmRCdWJibGUiLCJfZmlyZSIsIl9nZXRBYnNvbHV0ZVRyYW5zZm9ybSIsInRyYW5zZm9ybXNFbmFibGVkIiwiYXQiLCJnZXRUcmFuc2Zvcm0iLCJfZ2V0VHJhbnNmb3JtIiwiY2xvbmUiLCJhbGxMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsInN0YWdlIiwidG9JbWFnZSIsImltZyIsInNpemUiLCJnZXRTaXplIiwiZ2V0VHlwZSIsImdldERyYWdEaXN0YW5jZSIsIl9nZXQiLCJzZWxlY3RvciIsImV2dE5hbWUiLCJldnRMaXN0ZW5lcnMiLCJuZXdWYWwiLCJzZXRJZCIsIm9sZElkIiwic2V0TmFtZSIsIm9sZE5hbWUiLCJfc2V0Q29tcG9uZW50QXR0ciIsImNvbXBhcmVTaGFwZSIsIm9rYXlUb1J1biIsImlzQW5jZXN0b3JPZiIsInN0b3BCdWJibGUiLCJjYW5jZWxCdWJibGUiLCJkcmF3IiwiY3JlYXRlIiwianNvbiIsImNvbnRhaW5lciIsIl9jcmVhdGVOb2RlIiwicGFyc2UiLCJubyIsInJvdGF0ZURlZyIsInNldFJvdGF0aW9uRGVnIiwiZ2V0Um90YXRpb25EZWciLCJHcmF5c2NhbGUiLCJicmlnaHRuZXNzIiwiQnJpZ2h0ZW4iLCJJbnZlcnQiLCJCbHVyU3RhY2siLCJuZXh0IiwibXVsX3RhYmxlIiwic2hnX3RhYmxlIiwiQmx1ciIsInJhZGl1cyIsImJsdXJSYWRpdXMiLCJ5cCIsInlpIiwieXciLCJyX3N1bSIsImdfc3VtIiwiYl9zdW0iLCJhX3N1bSIsInJfb3V0X3N1bSIsImdfb3V0X3N1bSIsImJfb3V0X3N1bSIsImFfb3V0X3N1bSIsInJfaW5fc3VtIiwiZ19pbl9zdW0iLCJiX2luX3N1bSIsImFfaW5fc3VtIiwicHIiLCJwZyIsInBiIiwicGEiLCJyYnMiLCJwaXhlbHMiLCJkaXYiLCJ3aWR0aE1pbnVzMSIsImhlaWdodE1pbnVzMSIsInJhZGl1c1BsdXMxIiwic3VtRmFjdG9yIiwic3RhY2tTdGFydCIsInN0YWNrRW5kIiwic3RhY2siLCJzdGFja0luIiwic3RhY2tPdXQiLCJtdWxfc3VtIiwic2hnX3N1bSIsImZpbHRlckdhdXNzQmx1clJHQkEiLCJwaXhlbEF0IiwiaWRhdGEiLCJpZHgiLCJyZ2JEaXN0YW5jZSIsInAxIiwicDIiLCJNYXNrIiwibWFzayIsInRocmVzaG9sZCIsInJnYnZfbm8iLCJyZ2J2X25lIiwicmdidl9zbyIsInJnYnZfc2UiLCJ0aHJlcyIsIm1lYW4iLCJwVGFiIiwicmdiTWVhbiIsImJhY2tncm91bmRNYXNrIiwiYXBwbHlNYXNrIiwic3ciLCJzaCIsIndlaWdodHMiLCJzaWRlIiwiaGFsZlNpZGUiLCJmbG9vciIsIm1hc2tSZXN1bHQiLCJzbyIsImN5IiwiY3giLCJzY3kiLCJzY3giLCJ3dCIsInNtb290aEVkZ2VNYXNrIiwiZGlsYXRlTWFzayIsImVyb2RlTWFzayIsIlJHQiIsIm5QaXhlbHMiLCJIU1YiLCJ2IiwidmFsdWUiLCJzYXR1cmF0aW9uIiwiaCIsImFicyIsImh1ZSIsInZzdSIsInZzdyIsInJyIiwicmciLCJyYiIsImdyIiwiZ2ciLCJnYiIsImJyIiwiYmciLCJiYiIsIkhTTCIsImwiLCJsdW1pbmFuY2UiLCJFbWJvc3MiLCJzdHJlbmd0aCIsImVtYm9zc1N0cmVuZ3RoIiwiZ3JleUxldmVsIiwiZW1ib3NzV2hpdGVMZXZlbCIsImRpcmVjdGlvbiIsImVtYm9zc0RpcmVjdGlvbiIsImJsZW5kIiwiZW1ib3NzQmxlbmQiLCJkaXJZIiwiZGlyWCIsInciLCJ3NCIsIm90aGVyWSIsIm9mZnNldFlPdGhlciIsIm90aGVyWCIsIm9mZnNldE90aGVyIiwiZFIiLCJkRyIsImRCIiwiZGlmIiwiYWJzRGlmIiwiZ3JleSIsInJlbWFwIiwiZnJvbVZhbHVlIiwiZnJvbU1pbiIsImZyb21NYXgiLCJ0b01pbiIsInRvTWF4IiwiZnJvbVJhbmdlIiwidG9SYW5nZSIsIkVuaGFuY2UiLCJuU3ViUGl4ZWxzIiwick1pbiIsInJNYXgiLCJnTWluIiwiZ01heCIsImJNaW4iLCJiTWF4IiwiZW5oYW5jZUFtb3VudCIsImVuaGFuY2UiLCJyTWlkIiwickdvYWxNYXgiLCJyR29hbE1pbiIsImdNaWQiLCJnR29hbE1heCIsImdHb2FsTWluIiwiYk1pZCIsImJHb2FsTWF4IiwiYkdvYWxNaW4iLCJQb3N0ZXJpemUiLCJsZXZlbHMiLCJOb2lzZSIsImFtb3VudCIsIm5vaXNlIiwiaGFsZiIsIlBpeGVsYXRlIiwieEJpblN0YXJ0IiwieEJpbkVuZCIsInlCaW5TdGFydCIsInlCaW5FbmQiLCJ4QmluIiwieUJpbiIsInBpeGVsc0luQmluIiwicGl4ZWxTaXplIiwiY2VpbCIsIm5CaW5zWCIsIm5CaW5zWSIsIlRocmVzaG9sZCIsImxldmVsIiwiU2VwaWEiLCJvciIsIm9nIiwib2IiLCJTb2xhcml6ZSIsIkthbGVpZG9zY29wZSIsInNyY1BvcyIsImRzdFBvcyIsInhTaXplIiwieVNpemUiLCJwb3dlciIsImthbGVpZG9zY29wZVBvd2VyIiwia2FsZWlkb3Njb3BlQW5nbGUiLCJzY3JhdGNoRGF0YSIsImRzdCIsIm9wdCIsInNyY1BpeGVscyIsImRzdFBpeGVscyIsInhNaWQiLCJwb2xhckNlbnRlclgiLCJ5TWlkIiwicG9sYXJDZW50ZXJZIiwiclNpemUiLCJ0U2l6ZSIsImNvbnZlcnNpb24iLCJUb1BvbGFyIiwibWluU2VjdGlvblNpemUiLCJzZWN0aW9uU2l6ZSIsInhTdGFydCIsInhFbmQiLCJ4RGVsdGEiLCJwaGFzZVNoaWZ0IiwicG9sYXJSb3RhdGlvbiIsImF0YW4yIiwiRnJvbVBvbGFyIiwicGVyZm9ybWFuY2UiLCJSQUYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJGUkFGIiwiQW5pbWF0aW9uIiwibGF5ZXJzIiwiQW5pbSIsInNldExheWVycyIsImFuaW1JZENvdW50ZXIiLCJmcmFtZSIsInRpbWUiLCJ0aW1lRGlmZiIsImxhc3RUaW1lIiwibGF5cyIsImdldExheWVycyIsImFkZExheWVyIiwiaXNSdW5uaW5nIiwiYW5pbWF0aW9ucyIsInN0b3AiLCJfYWRkQW5pbWF0aW9uIiwiX3JlbW92ZUFuaW1hdGlvbiIsIl91cGRhdGVGcmFtZU9iamVjdCIsImZyYW1lUmF0ZSIsImFuaW1SdW5uaW5nIiwiYW5pbSIsIl9oYW5kbGVBbmltYXRpb24iLCJfcnVuRnJhbWVzIiwibGF5ZXJzTGVuIiwibGF5ZXJIYXNoIiwiX2FuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbUZyYW1lIiwiYmF0Y2hEcmF3IiwiYmF0Y2hBbmltIiwibGFzdEJhdGNoRHJhd1RpbWUiLCJibGFja2xpc3QiLCJkdXJhdGlvbiIsImVhc2luZyIsIm9uRmluaXNoIiwieW95byIsIlR3ZWVuIiwibm9kZUlkIiwiRWFzaW5ncyIsIkxpbmVhciIsInR3ZWVuIiwib25FbnRlckZyYW1lIiwiX3R3ZWVuRnVuYyIsIl9hZGRMaXN0ZW5lcnMiLCJ0d2VlbnMiLCJfYWRkQXR0ciIsIm9uUmVzZXQiLCJkaWZmIiwidHdlZW5JZCIsIm9uUGxheSIsIm9uUmV2ZXJzZSIsIm9uUGF1c2UiLCJwbGF5IiwicmV2ZXJzZSIsInNlZWsiLCJwYXVzZSIsImZpbmlzaCIsInRoaXNJZCIsInByb3AiLCJwcm9wRnVuYyIsImJlZ2luIiwiX3BvcyIsIl9jaGFuZ2UiLCJwcmV2UG9zIiwiX3RpbWUiLCJfcG9zaXRpb24iLCJfc3RhcnRUaW1lIiwiX2ZpbmlzaCIsInNldFRpbWUiLCJ1cGRhdGUiLCJzdGF0ZSIsImdldFRpbWVyIiwiQmFja0Vhc2VJbiIsIkJhY2tFYXNlT3V0IiwiQmFja0Vhc2VJbk91dCIsIkVsYXN0aWNFYXNlSW4iLCJhc2luIiwiRWxhc3RpY0Vhc2VPdXQiLCJFbGFzdGljRWFzZUluT3V0IiwiQm91bmNlRWFzZU91dCIsIkJvdW5jZUVhc2VJbiIsIkJvdW5jZUVhc2VJbk91dCIsIkVhc2VJbiIsIkVhc2VPdXQiLCJFYXNlSW5PdXQiLCJTdHJvbmdFYXNlSW4iLCJTdHJvbmdFYXNlT3V0IiwiU3Ryb25nRWFzZUluT3V0IiwiZGlydHkiLCJqdXN0RHJhZ2dlZCIsIl9kcmFnIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwibWF4Iiwic3RhcnRQb2ludGVyUG9zIiwiX3NldERyYWdQb3NpdGlvbiIsIl9lbmREcmFnQmVmb3JlIiwiZHJhZ0VuZE5vZGUiLCJfZW5kRHJhZ0FmdGVyIiwic3RhcnREcmFnIiwiYXAiLCJzdG9wRHJhZyIsImRiZiIsImdldERyYWdCb3VuZEZ1bmMiLCJuZXdOb2RlUG9zIiwiX2xhc3RQb3MiLCJzZXREcmFnZ2FibGUiLCJkcmFnZ2FibGUiLCJfZHJhZ0NoYW5nZSIsIm9yaWdEZXN0cm95IiwiX2xpc3RlbkRyYWciLCJfZHJhZ0NsZWFudXAiLCJidXR0b24iLCJodG1sIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlsdGVyRnVuYyIsInJlc3VsdHMiLCJoYXNDaGlsZHJlbiIsInJlbW92ZUNoaWxkcmVuIiwiZGVzdHJveUNoaWxkcmVuIiwiX3ZhbGlkYXRlQWRkIiwiZmluZCIsInNlbCIsImNsZW4iLCJzZWxlY3RvckFyciIsIl9nZXROb2RlQnlJZCIsIl9nZXROb2Rlc0J5TmFtZSIsIl9nZXREZXNjZW5kYW50cyIsImdldEFsbEludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3RzIiwiY2FuIiwiX2RyYXdDaGlsZHJlbiIsImNsZWFySGl0Q2FjaGUiLCJkcmF3TWV0aG9kIiwiY2xpcFgiLCJjbGlwWSIsImNsaXBXaWR0aCIsImdldENsaXBXaWR0aCIsImNsaXBIZWlnaHQiLCJnZXRDbGlwSGVpZ2h0IiwiaGFzQ2xpcCIsImdldENsaXBYIiwiZ2V0Q2xpcFkiLCJsYXllclVuZGVyRHJhZyIsIkhBU19TSEFET1ciLCJfY2xlYXJIYXNTaGFkb3dDYWNoZSIsImhhc1NoYWRvdyIsIl9oYXNTaGFkb3ciLCJnZXRTaGFkb3dFbmFibGVkIiwiZ2V0U2hhZG93T2Zmc2V0WCIsImdldFNoYWRvd09mZnNldFkiLCJoYXNGaWxsIiwiZ2V0RmlsbCIsImJ1ZmZlckhpdENhbnZhcyIsIl91c2VCdWZmZXJDYW52YXMiLCJidWZmZXJDYW52YXMiLCJidWZmZXJDb250ZXh0IiwiZHJhd0Z1bmMiLCJzY2VuZUZ1bmMiLCJoaXRGdW5jIiwiZHJhd0hpdEZyb21DYWNoZSIsImFscGhhVGhyZXNob2xkIiwic2NlbmVEYXRhIiwiaGl0SW1hZ2VEYXRhIiwiaGl0RGF0YSIsInJnYkNvbG9yS2V5IiwiZGFzaEFycmF5IiwiZ2V0RGFzaEFycmF5Iiwic2V0RGFzaEFycmF5IiwiZ2V0RHJhd0Z1bmMiLCJzZXREcmF3RnVuYyIsImRyYXdIaXRGdW5jIiwiZ2V0RHJhd0hpdEZ1bmMiLCJzZXREcmF3SGl0RnVuYyIsIlVOREVSU0NPUkUiLCJFVkVOVFMiLCJldmVudHNMZW5ndGgiLCJhZGRFdmVudCIsImN0eCIsImV2ZW50TmFtZSIsImNvbnRlbnQiLCJfYnVpbGRET00iLCJfYmluZENvbnRlbnRFdmVudHMiLCJfZW5hYmxlTmVzdGVkVHJhbnNmb3JtcyIsInNldENvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiX3Jlc2l6ZURPTSIsImdldENvbnRhaW5lciIsInJlbW92ZUNoaWxkIiwicG9pbnRlclBvcyIsImdldENvbnRlbnQiLCJkcmF3TGF5ZXIiLCJsYXllclVybCIsImNiIiwiZGF0YVVybCIsImdldEludGVyc2VjdGlvbiIsIl9zZXRDYW52YXNTaXplIiwiYXBwZW5kQ2hpbGQiLCJfbW91c2VvdmVyIiwiX3NldFBvaW50ZXJQb3NpdGlvbiIsIl9tb3VzZW91dCIsInRhcmdldFNoYXBlIiwiX21vdXNlbW92ZSIsIl90b3VjaG1vdmUiLCJ3ZWJraXRNb3ZlbWVudFgiLCJ3ZWJraXRNb3ZlbWVudFkiLCJwcmV2ZW50RGVmYXVsdCIsIl9tb3VzZWRvd24iLCJfdG91Y2hzdGFydCIsImNsaWNrU3RhcnRTaGFwZSIsIl9tb3VzZXVwIiwiX3RvdWNoZW5kIiwiZmlyZURibENsaWNrIiwidGFwU3RhcnRTaGFwZSIsIl9ET01Nb3VzZVNjcm9sbCIsIl9tb3VzZXdoZWVsIiwiX3doZWVsIiwidG91Y2giLCJjb250ZW50UG9zaXRpb24iLCJfZ2V0Q29udGVudFBvc2l0aW9uIiwiY2xpZW50WCIsImV2ZW50IiwidG91Y2hlcyIsImNsaWVudFkiLCJsYXllclgiLCJsYXllclkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpbm5lckhUTUwiLCJkaXNwbGF5Iiwic2V0QXR0cmlidXRlIiwiX29uQ29udGVudCIsInR5cGVzU3RyIiwidHlwZXMiLCJjcmVhdGVQTkdTdHJlYW0iLCJnZXRIaXRDYW52YXMiLCJfaGl0SW1hZ2VEYXRhIiwiaW5zZXJ0QmVmb3JlIiwiaW50ZXJzZWN0aW9uT2Zmc2V0Iiwic3BpcmFsU2VhcmNoRGlzdGFuY2UiLCJjb250aW51ZVNlYXJjaCIsIl9nZXRJbnRlcnNlY3Rpb24iLCJhbnRpYWxpYXNlZCIsIl9nZXRJbWFnZURhdGEiLCJwMyIsImdldENsZWFyQmVmb3JlRHJhdyIsImVuYWJsZUhpdEdyYXBoIiwic2V0SGl0R3JhcGhFbmFibGVkIiwiZGlzYWJsZUhpdEdyYXBoIiwiUmVjdCIsIl9zY2VuZUZ1bmMiLCJjb3JuZXJSYWRpdXMiLCJnZXRDb3JuZXJSYWRpdXMiLCJDaXJjbGUiLCJnZXRSYWRpdXMiLCJzZXRSYWRpdXMiLCJFbGxpcHNlIiwicngiLCJnZXRSYWRpdXNYIiwicnkiLCJnZXRSYWRpdXNZIiwiUmluZyIsImdldElubmVyUmFkaXVzIiwiZ2V0T3V0ZXJSYWRpdXMiLCJvdXRlclJhZGl1cyIsInNldE91dGVyUmFkaXVzIiwiV2VkZ2UiLCJnZXRDbG9ja3dpc2UiLCJnZXRBbmdsZURlZyIsInNldEFuZ2xlRGVnIiwiQXJjIiwiY2xvY2t3aXNlIiwiX2hpdEZ1bmMiLCJjcm9wV2lkdGgiLCJjcm9wSGVpZ2h0IiwicGFyYW1zIiwiaW1hZ2UiLCJnZXRJbWFnZSIsImdldENyb3BXaWR0aCIsImdldENyb3BIZWlnaHQiLCJnZXRDcm9wWCIsImdldENyb3BZIiwiZHVtbXlDb250ZXh0IiwicGFydGlhbFRleHQiLCJUZXh0IiwiX3NldFRleHREYXRhIiwiZ2V0UGFkZGluZyIsInRleHRIZWlnaHQiLCJnZXRUZXh0SGVpZ2h0IiwibGluZUhlaWdodFB4IiwiZ2V0TGluZUhlaWdodCIsInRleHRBcnIiLCJ0ZXh0QXJyTGVuIiwidG90YWxXaWR0aCIsIl9nZXRDb250ZXh0Rm9udCIsInRleHQiLCJnZXRBbGlnbiIsInNldFRleHQiLCJnZXRUZXh0V2lkdGgiLCJ0ZXh0V2lkdGgiLCJfZ2V0VGV4dFNpemUiLCJtZXRyaWNzIiwiZm9udFNpemUiLCJnZXRGb250U2l6ZSIsImZvbnQiLCJtZWFzdXJlVGV4dCIsImdldEZvbnRTdHlsZSIsImdldEZvbnRWYXJpYW50IiwiZ2V0Rm9udEZhbWlseSIsIl9hZGRUZXh0TGluZSIsImxpbmUiLCJfZ2V0VGV4dFdpZHRoIiwibGluZXMiLCJnZXRUZXh0IiwiZml4ZWRXaWR0aCIsImZpeGVkSGVpZ2h0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHRQeCIsImN1cnJlbnRIZWlnaHRQeCIsIndyYXAiLCJnZXRXcmFwIiwic2hvdWxkV3JhcCIsIndyYXBBdFdvcmQiLCJsaW5lV2lkdGgiLCJsb3ciLCJoaWdoIiwibWF0Y2hXaWR0aCIsIm1pZCIsInN1YnN0cldpZHRoIiwid3JhcEluZGV4IiwibGFzdEluZGV4T2YiLCJMaW5lIiwidHAiLCJwb2ludHMiLCJnZXRQb2ludHMiLCJnZXRUZW5zaW9uIiwiY2xvc2VkIiwiZ2V0Q2xvc2VkIiwiZ2V0VGVuc2lvblBvaW50cyIsIl9nZXRUZW5zaW9uUG9pbnRzIiwiX2dldFRlbnNpb25Qb2ludHNDbG9zZWQiLCJmaXJzdENvbnRyb2xQb2ludHMiLCJsYXN0Q29udHJvbFBvaW50cyIsIm1pZGRsZSIsIlNwcml0ZSIsIl91cGRhdGVkIiwidXBkYXRlZCIsImZyYW1lSW5kZXgiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJfc2V0SW50ZXJ2YWwiLCJnZXRBbmltYXRpb24iLCJpeDQiLCJzZXQiLCJnZXRBbmltYXRpb25zIiwib2Zmc2V0cyIsImZyYW1lT2Zmc2V0cyIsIml4MiIsInNldEludGVydmFsIiwiX3VwZGF0ZUluZGV4IiwiZ2V0RnJhbWVSYXRlIiwiYW5pbWF0aW9uIiwiZ2V0SW5kZXgiLCJzZXRJbmRleCIsIlBhdGgiLCJkYXRhQXJyYXkiLCJwYXJzZVBhdGhEYXRhIiwiZ2V0RGF0YSIsImNhIiwiY2xvc2VkUGF0aCIsImNvbW1hbmQiLCJkVGhldGEiLCJwc2kiLCJmcyIsImdldExpbmVMZW5ndGgiLCJnZXRQb2ludE9uTGluZSIsImRpc3QiLCJQMXgiLCJQMXkiLCJQMngiLCJQMnkiLCJmcm9tWCIsImZyb21ZIiwicnVuIiwicHQiLCJyaXNlIiwiaXgiLCJpeSIsInBSaXNlIiwicFJ1biIsImdldFBvaW50T25DdWJpY0JlemllciIsInBjdCIsIlAzeCIsIlAzeSIsIlA0eCIsIlA0eSIsIkNCMSIsIkNCMiIsIkNCMyIsIkNCNCIsImdldFBvaW50T25RdWFkcmF0aWNCZXppZXIiLCJRQjEiLCJRQjIiLCJRQjMiLCJnZXRQb2ludE9uRWxsaXB0aWNhbEFyYyIsImNvc1BzaSIsInNpblBzaSIsImNzIiwiY2MiLCJSZWdFeHAiLCJjcHgiLCJjcHkiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJwcmV2Q21kIiwiY3RsUHR4IiwiY3RsUHR5IiwiY21kIiwic3RhcnRYIiwic3RhcnRZIiwiY29udmVydEVuZHBvaW50VG9DZW50ZXJQYXJhbWV0ZXJpemF0aW9uIiwicGF0aExlbmd0aCIsImNhbGNMZW5ndGgiLCJwYXRoIiwiaW5jIiwicHNpRGVnIiwieHAiLCJsYW1iZGEiLCJjeHAiLCJjeXAiLCJ2TWFnIiwidlJhdGlvIiwidkFuZ2xlIiwiYWNvcyIsIlRleHRQYXRoIiwiZHVtbXlDYW52YXMiLCJnbHlwaEluZm8iLCJwMCIsInBhdGhDbWQiLCJjaGFyQXJyIiwicEluZGV4IiwiY3VycmVudFQiLCJnZXROZXh0UGF0aFNlZ21lbnQiLCJwYXRoRGF0YSIsImZpbmRTZWdtZW50VG9GaXRDaGFyYWN0ZXIiLCJnbHlwaFdpZHRoIiwiY3VyckxlbiIsImF0dGVtcHRzIiwiY3VtdWxhdGl2ZVBhdGhMZW5ndGgiLCJuZWVkTmV3U2VnbWVudCIsIm1pZHBvaW50IiwidHJhbnNwb3NlWCIsInRyYW5zcG9zZVkiLCJSZWd1bGFyUG9seWdvbiIsInNpZGVzIiwiU3RhciIsImlubmVyUmFkaXVzIiwibnVtUG9pbnRzIiwiTGFiZWwiLCJfc3luYyIsImdldFRhZyIsInBvaW50ZXJEaXJlY3Rpb24iLCJwb2ludGVyV2lkdGgiLCJwb2ludGVySGVpZ2h0IiwidGFnIiwiZ2V0UG9pbnRlckRpcmVjdGlvbiIsImdldFBvaW50ZXJXaWR0aCIsImdldFBvaW50ZXJIZWlnaHQiLCJUYWciLCJBcnJvdyIsIlBJMiIsInJhZGlhbnMiLCJwb2ludGVyTGVuZ3RoIiwicG9pbnRlckF0QmVnaW5uaW5nIiwia2luZXRpYyIsIltvYmplY3QgT2JqZWN0XSIsInJvdyIsImNvbHVtbiIsImdlbmVyYXRlS2V5Iiwic3BhY2UiLCJibG9ja1NpemUiLCJ1cCIsImRvd24iLCJyaWdodCIsImNvbm5lY3RlZCIsImFuaW1hdGlvbklzUnVubmluZyIsIm9uQ2xpY2tFdmVudCIsImJveEFuaW1hdGlvbiIsInJvd3MiLCJib3giLCJwaXBlcyIsInBpcGVVcCIsInBpcGVMZWZ0IiwicGlwZURvd24iLCJwaXBlUmlnaHQiLCJtb3VzZUNsaWNrIiwiayIsInJvdGF0ZVJpZ2h0Iiwicm90YXRlTGVmdCIsInRlbXAiLCJhdHRyU2VwYXJhdG9yIiwia2V5VmFsdWVTZXBhcmF0b3IiLCJleHBpcmVzS2V5IiwicGF0aEtleSIsImNvb2tpZXMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJ0cmltIiwiZXhwaXJlcyIsImNvb2tpZUF0dHIiLCJleHBpcmVzQXR0ciIsInRvVVRDU3RyaW5nIiwicGF0aEF0dHIiLCJCbG9jayIsImdhbWVUeXBlIiwiZ2FtZURpZmZpY3VsdHkiLCJsYXllclJvd3MiLCJsYXllckNvbHVtbnMiLCJ0YWJsZSIsInRpbWVyIiwiaW5mb3JtYXRpb24iLCJtZW51TGF5ZXIiLCJkaWZmaWN1bHR5TGF5ZXIiLCJ0aW1lVHJpYWxHYW1lTGF5ZXIiLCJzY29yZUJvYXJkTWVudUxheWVyIiwiaW5mb3JtYXRpb25NZW51TGF5ZXIiLCJnYW1lTGF5ZXJzIiwiYmxvY2tzIiwiY29sdW1ucyIsImxheWVyU2l6ZSIsIm1pbiIsInN0YXJ0aW5nUG9pbnRYIiwic3RhcnRpbmdQb2ludFkiLCJzdGFydE5ld0NsYXNzaWNHYW1lIiwiR2FtZVRhYmxlIiwiZ2VuZXJhdGVGaWVsZHMiLCJzaHVmZmxlIiwiZHJhd0dhbWUiLCJHYW1lVGltZXIiLCJJbmZvcm1hdGlvblBhbmVsIiwic2V0SW5jIiwiaW5pdFBhbmVsIiwidXBkYXRlU2NvcmUiLCJoaWRlTGV2ZWwiLCJzdGFydE5ld1RpbWVUcmlhbEdhbWUiLCJzZXRDdXJyZW50VGltZSIsImdldEN1cnJlbnRUaW1lIiwidXBkYXRlVGltZXIiLCJnZXRNaW4iLCJnZXRTZWMiLCJ1cGRhdGVMZXZlbCIsInRpbWVyT2JqIiwiY3VycmVudFRpbWUiLCJjdXJyZW50U2VjIiwiY3VycmVudE1pbiIsInJlZnJlc2hJbmNUaW1lciIsInVwZGF0ZU1pbkFuZFNlYyIsInJlZnJlc2hEZWNUaW1lciIsIm5ld1JlY29yZCIsImFsZXJ0IiwibWFpbk1lbnUiLCJjbGFzc2ljR2FtZVRleHQiLCJmb250RmFtaWx5Iiwic2V0T2Zmc2V0IiwidGltZVRyaWFsR2FtZVRleHQiLCJzY29yZUJvYXJkVGV4dCIsImluZm9ybWF0aW9uVGV4dCIsImNsYXNzaWNHYW1lVGV4dE1vdXNlT3ZlciIsImNsYXNzaWNHYW1lVGV4dE1vdXNlT3V0IiwiZWFzeVRleHQiLCJtZWRpdW1UZXh0IiwiaGFyZFRleHQiLCJiYWNrVGV4dCIsImVhc3lUZXh0TW91c2VPdmVyIiwiZWFzeVRleHRNb3VzZU91dCIsIm1lZGl1bVRleHRNb3VzZU92ZXIiLCJtZWRpdW1UZXh0TW91c2VPdXQiLCJoYXJkVGV4dE1vdXNlT3ZlciIsImhhcmRUZXh0TW91c2VPdXQiLCJiYWNrVGV4dE1vdXNlT3ZlciIsImJhY2tUZXh0TW91c2VPdXQiLCJjbGFzc2ljRGlmZmljdWx0eVNlbGVjdE1lbnUiLCJ0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbEdhbWVUZXh0TW91c2VPdXQiLCJ0aW1lVHJpYWxUZXh0IiwidGltZVRyaWFsVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbFRleHRNb3VzZU91dCIsInRpbWVUcmlhbEdhbWVNZW51Iiwic2NvcmVCb2FyZFRleHRNb3VzZU92ZXIiLCJzY29yZUJvYXJkVGV4dE1vdXNlT3V0IiwiY2xhc3NpY1RleHQiLCJsZXZlbFRleHQiLCJzY29yZUJvYXJkTWVudSIsImluZm9ybWF0aW9uVGV4dE1vdXNlT3ZlciIsImluZm9ybWF0aW9uVGV4dE1vdXNlT3V0IiwiaW5mb1RleHQiLCJpbmZvcm1hdGlvbk1lbnUiLCJqIiwiZ3JlYXRlciIsInNtYWxsZXIiLCJnZW5lcmF0ZUl0IiwiY3VycmVudEJsb2NrIiwibGVmdEJsb2NrIiwidXBCbG9jayIsInJpZ2h0QmxvY2siLCJkb3duQmxvY2siLCJzaHVmZmxlSXQiLCJvbkNsaWNrQmxvY2siLCJjb25uZWN0aW9uSGFuZGxlciIsImNoZWNrUGlwZUNvbm5lY3Rpb25zIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwiaW5mb3JtYXRpb25MYXllciIsInBhbmVsIiwidGltZXJHcm91cCIsInNjb3JlIiwibGV2ZWxHcm91cCIsInRpbWVyVGl0bGVUZXh0IiwidGltZXJUZXh0Iiwic2NvcmVUaXRsZVRleHQiLCJzY29yZVRleHQiLCJsZXZlbFRpdGxlVGV4dCIsInNob3dUaW1lciIsImhpZGVUaW1lciIsInNob3dTY29yZSIsInNjb3JlVGltZXIiLCJzaG93TGV2ZWwiLCJjbGFzc2ljR2FtZUZpbmlzaGVkIiwidGltZVRyaWFsR2FtZUZpbmlzaGVkIiwiaW5zdGFuY2UiLCJmaW5pc2hlZCIsImNoZWNrR2FtZVN0YXR1cyIsImxvYWRBcHBsaWNhdGlvbiIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInBpcGUiXSwibWFwcGluZ3MiOiJDQUFBLFdBQUEsT0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsSUFBQVMsWUFBQWIsRUFBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsT0FBQUksRUFBQUgsRUFBQUksR0FBQSxHQUFBTCxJQUFBQSxJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFELEVBQUFHLEdBQUFTLFFBQUEsSUFBQSxJQUFBTCxFQUFBLG1CQUFBRCxTQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLElBQUEsT0FBQUQsR0FBQSxFQUFBLEVBQUFhLEdBQUEsU0FBQVQsRUFBQVUsRUFBQUoseUNDZ0NBLElBQ0FLLEVBQ0FDLEVBaXhDQUMsRUFNQUMsRUFvTkFDLEVBNHRCQUMsRUFNQUMsRUFFQUMsRUFpbUhBQyxFQTJrSUFDLEVBV0FDLEVBa2ZBQyxFQTQySEFDLEVBVUFDLEVBaHZjQUMsS0FDQWQsRUE0aEJBZSxLQTNoQkFkLEVBQUFlLEtBQUFDLEdBQUEsS0FFQUgsR0FFQUksUUFBQSxRQUdBQyxVQUNBQyxVQUFBLEVBQ0FDLE9BQ0FDLFNBQ0FDLFVBQ0FDLGdCQUFBLEVBQ0FDLGtCQUFBLEVBR0FDLGFBQUEsRUFDQUMsWUFBQSxJQUNBQyxlQUFBLElBVUFDLGdCQUFBQyxFQVVBQyxhQUFBLEVBV0FDLFVBQUEsRUFTQUMsY0FBQSxFQVFBQyxXQThCQUMsS0FBQSxTQUFBQyxHQUNBckIsS0FBQXNCLE1BQUFELElBMEdBRSxNQUFBLFNBQUFGLEdBQ0FyQixLQUFBd0IsT0FBQUgsSUFxQ0FJLFVBQUEsU0FBQUosR0FDQXJCLEtBQUF3QixPQUFBSCxJQXFDQUssTUFBQSxTQUFBTCxHQUNBckIsS0FBQTJCLFFBQUFOLElBd0NBTyxVQUFBLFNBQUFQLEdBQ0FyQixLQUFBMkIsUUFBQU4sSUF5Q0FRLE1BQUEsU0FBQVIsR0FDQXJCLEtBQUE4QixTQUFBVCxJQTJCQVUsVUFBQSxTQUFBVixHQUNBckIsS0FBQThCLFNBQUFULElBc0NBVyxNQUFBLFNBQUFYLEdBQ0FyQixLQUFBMkIsUUFBQU4sSUFRQVksV0FBQSxXQUNBLElBQUFDLEVBQUFuQyxFQUFBb0MsR0FJQSxRQUFBRCxHQUNBQSxFQUFBRCxZQVdBRyxZQUFBLFdBQ0EsSUFBQUYsRUFBQW5DLEVBQUFvQyxHQUlBLFFBQUFELEtBQ0FBLEVBQUFHLE1BS0FDLE9BQUEsU0FBQUQsRUFBQUUsUUFDQXhCLElBQUF3QixJQUNBdkMsS0FBQU0sSUFBQWlDLEdBQUFGLElBR0FHLFVBQUEsU0FBQUQsUUFDQXhCLElBQUF3QixVQUNBdkMsS0FBQU0sSUFBQWlDLElBR0FFLFNBQUEsU0FBQUosRUFBQUssR0FDQSxRQUFBM0IsSUFBQTJCLEVBR0EsSUFEQSxJQUFBbkMsRUFBQW1DLEVBQUFDLE1BQUEsT0FDQTNFLEVBQUEsRUFBQUEsRUFBQXVDLEVBQUF6QixPQUFBZCxJQUFBLENBQ0EsSUFBQTRFLEVBQUFyQyxFQUFBdkMsR0FDQTRFLFNBQ0E3QixJQUFBZixLQUFBTyxNQUFBcUMsS0FDQTVDLEtBQUFPLE1BQUFxQyxPQUVBNUMsS0FBQU8sTUFBQXFDLEdBQUFDLEtBQUFSLE1BS0FTLFlBQUEsU0FBQUosRUFBQUssR0FDQSxRQUFBaEMsSUFBQTJCLEVBQUEsQ0FDQSxJQUFBTSxFQUFBaEQsS0FBQU8sTUFBQW1DLEdBQ0EsUUFBQTNCLElBQUFpQyxFQUFBLENBQ0EsSUFBQSxJQUFBaEYsRUFBQSxFQUFBQSxFQUFBZ0YsRUFBQWxFLE9BQUFkLElBQ0FnRixFQUFBaEYsR0FDQStFLE1BQUFBLEdBQ0FDLEVBQUFDLE9BQUFqRixFQUFBLEdBR0EsSUFBQWdGLEVBQUFsRSxlQUNBa0IsS0FBQU8sTUFBQW1DLE1BS0FRLFNBQUEsU0FBQUMsR0FDQSxPQUFBbkQsS0FBQWlCLFNBQUFrQyxFQUFBakUsRUFBQWlFLEdBRUFDLFNBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBRCxFQUFBRSxjQUVBQyxFQUFBLHdCQUFBQyxLQUFBSCxJQUNBLHdCQUFBRyxLQUFBSCxJQUNBLHFDQUFBRyxLQUFBSCxJQUNBLGtCQUFBRyxLQUFBSCxJQUNBQSxFQUFBSSxRQUFBLGNBQUEsR0FBQSxnQ0FBQUQsS0FBQUgsT0FJQUssSUFBQU4sRUFBQUcsTUFBQSw0REFDQUksSUFBQVAsRUFBQUcsTUFBQSxhQUVBLE9BQ0FLLFFBQUFMLEVBQUEsSUFBQSxHQUNBckQsUUFBQXFELEVBQUEsSUFBQSxJQUdBRyxPQUFBQSxFQUNBQyxTQUFBQSxJQUlBRSxRQUFBL0MsSUFHQStDLEdBQUEvRCxFQUFBcUQsU0FBQW5FLEVBQUE4RSxXQUFBOUUsRUFBQThFLFVBQUFWLFdBQUEsSUFxQkEsU0FBQXBFLEVBQUErRSxHQUNBLEdBQUEsaUJBQUFwRixFQUFBLENBQ0EsSUFBQXFGLEVBQUFELElBRUEsR0FBQUUsRUFBQUMsU0FBQUQsRUFDQW5FLEVBQUFxRSxTQUFBRixFQUFBRSxTQUNBckUsRUFBQW9FLE9BQUFELE1BQ0EsQ0FJQSxJQUFBRyxFQUFBL0YsRUFBQSxVQUNBZ0csRUFBQWhHLEVBQUEsU0FBQWdHLE1BRUF2RSxFQUFBcUUsU0FBQUUsRUFBQSwwREFDQXZFLEVBQUFvRSxPQUFBcEUsRUFBQXFFLFNBQUFHLGVBQ0F4RSxFQUFBb0UsT0FBQUssTUFBQUgsRUFBQUcsTUFDQXpFLEVBQUEwRSxZQUFBSixFQUtBLE9BRkF0RSxFQUFBZCxLQUFBQSxPQUNBRCxFQUFBSixRQUFBcUYsR0FHQSxtQkFBQVMsUUFBQUEsT0FBQUMsS0FFQUQsT0FBQVYsR0FFQWpFLEVBQUFxRSxTQUFBQSxTQUNBckUsRUFBQW9FLE9BQUFBLE9BQ0FwRSxFQUFBZCxLQUFBQSxFQTlCQSxDQWdDQWUsS0FBQSxXQUtBLE9BQUFELElBRUEsV0FPQUEsRUFBQTZFLFdBQUEsV0FDQSxJQUFBQyxLQUFBQyxNQUFBakcsS0FBQWtHLFdBQUFqRyxFQUFBK0YsRUFBQS9GLE9BQUFYLEVBQUEsRUFHQSxJQURBNkIsS0FBQWxCLE9BQUFBLEVBQ0FYLEVBQUFXLEVBQUFYLElBQ0E2QixLQUFBN0IsR0FBQTBHLEVBQUExRyxHQUVBLE9BQUE2QixNQUVBRCxFQUFBNkUsV0FBQUksYUFhQWpGLEVBQUE2RSxXQUFBSSxVQUFBQyxLQUFBLFNBQUFDLEdBQ0EsSUFBQSxJQUFBbEgsRUFBQSxFQUFBQSxFQUFBZ0MsS0FBQWxCLE9BQUFkLElBQ0FrSCxFQUFBbEYsS0FBQWhDLEdBQUFBLElBUUErQixFQUFBNkUsV0FBQUksVUFBQUcsUUFBQSxXQUNBLElBRUFuSCxFQUZBb0gsS0FDQUMsRUFBQXJGLEtBQUFsQixPQUdBLElBQUFkLEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxJQUNBb0gsRUFBQXZDLEtBQUE3QyxLQUFBaEMsSUFFQSxPQUFBb0gsR0FRQXJGLEVBQUE2RSxXQUFBVSxhQUFBLFNBQUFGLEdBQ0EsSUFFQXBILEVBRkF1SCxFQUFBLElBQUF4RixFQUFBNkUsV0FDQVMsRUFBQUQsRUFBQXRHLE9BR0EsSUFBQWQsRUFBQSxFQUFBQSxFQUFBcUgsRUFBQXJILElBQ0F1SCxFQUFBMUMsS0FBQXVDLEVBQUFwSCxJQUVBLE9BQUF1SCxHQUlBeEYsRUFBQTZFLFdBQUFZLFdBQUEsU0FBQUMsR0FDQTFGLEVBQUE2RSxXQUFBSSxVQUFBUyxHQUFBLFdBQ0EsSUFDQXRILEVBREFrSCxFQUFBckYsS0FBQWxCLE9BR0ErRixLQUFBQyxNQUFBakcsS0FBQWtHLFdBQ0EsSUFBQTVHLEVBQUEsRUFBQUEsRUFBQWtILEVBQUFsSCxJQUNBNkIsS0FBQTdCLEdBQUFzSCxHQUFBQyxNQUFBMUYsS0FBQTdCLEdBQUEwRyxHQUdBLE9BQUE3RSxPQUlBRCxFQUFBNkUsV0FBQWUsV0FBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFaLFVBQ0EsSUFBQSxJQUFBUyxLQUFBSSxFQUNBOUYsRUFBQTZFLFdBQUFZLFdBQUFDLElBMEJBMUYsRUFBQStGLFVBQUEsU0FBQUMsR0FDQS9GLEtBQUErRixFQUFBQSxHQUFBQSxFQUFBakIsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQS9FLEVBQUErRixVQUFBZCxXQU9BZ0IsS0FBQSxXQUNBLE9BQUEsSUFBQWpHLEVBQUErRixVQUFBOUYsS0FBQStGLElBU0FFLE1BQUEsU0FBQUEsR0FDQSxJQUFBRixFQUFBL0YsS0FBQStGLEVBQ0EsT0FDQUcsRUFBQUgsRUFBQSxHQUFBRSxFQUFBQyxFQUFBSCxFQUFBLEdBQUFFLEVBQUFFLEVBQUFKLEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUFBRSxFQUFBQyxFQUFBSCxFQUFBLEdBQUFFLEVBQUFFLEVBQUFKLEVBQUEsS0FXQUssVUFBQSxTQUFBRixFQUFBQyxHQUdBLE9BRkFuRyxLQUFBK0YsRUFBQSxJQUFBL0YsS0FBQStGLEVBQUEsR0FBQUcsRUFBQWxHLEtBQUErRixFQUFBLEdBQUFJLEVBQ0FuRyxLQUFBK0YsRUFBQSxJQUFBL0YsS0FBQStGLEVBQUEsR0FBQUcsRUFBQWxHLEtBQUErRixFQUFBLEdBQUFJLEVBQ0FuRyxNQVVBcUcsTUFBQSxTQUFBQyxFQUFBQyxHQUtBLE9BSkF2RyxLQUFBK0YsRUFBQSxJQUFBTyxFQUNBdEcsS0FBQStGLEVBQUEsSUFBQU8sRUFDQXRHLEtBQUErRixFQUFBLElBQUFRLEVBQ0F2RyxLQUFBK0YsRUFBQSxJQUFBUSxFQUNBdkcsTUFTQXdHLE9BQUEsU0FBQUMsR0FDQSxJQUFBcEksRUFBQTRCLEtBQUF5RyxJQUFBRCxHQUNBRSxFQUFBMUcsS0FBQTJHLElBQUFILEdBQ0FJLEVBQUE3RyxLQUFBK0YsRUFBQSxHQUFBMUgsRUFBQTJCLEtBQUErRixFQUFBLEdBQUFZLEVBQ0FHLEVBQUE5RyxLQUFBK0YsRUFBQSxHQUFBMUgsRUFBQTJCLEtBQUErRixFQUFBLEdBQUFZLEVBQ0FJLEVBQUEvRyxLQUFBK0YsRUFBQSxJQUFBWSxFQUFBM0csS0FBQStGLEVBQUEsR0FBQTFILEVBQ0EySSxFQUFBaEgsS0FBQStGLEVBQUEsSUFBQVksRUFBQTNHLEtBQUErRixFQUFBLEdBQUExSCxFQUtBLE9BSkEyQixLQUFBK0YsRUFBQSxHQUFBYyxFQUNBN0csS0FBQStGLEVBQUEsR0FBQWUsRUFDQTlHLEtBQUErRixFQUFBLEdBQUFnQixFQUNBL0csS0FBQStGLEVBQUEsR0FBQWlCLEVBQ0FoSCxNQVFBaUgsZUFBQSxXQUNBLE9BQ0FmLEVBQUFsRyxLQUFBK0YsRUFBQSxHQUNBSSxFQUFBbkcsS0FBQStGLEVBQUEsS0FXQW1CLEtBQUEsU0FBQVosRUFBQUMsR0FDQSxJQUFBTSxFQUFBN0csS0FBQStGLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUFRLEVBQ0FPLEVBQUE5RyxLQUFBK0YsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FBQVEsRUFDQVEsRUFBQS9HLEtBQUErRixFQUFBLEdBQUEvRixLQUFBK0YsRUFBQSxHQUFBTyxFQUNBVSxFQUFBaEgsS0FBQStGLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUFPLEVBS0EsT0FKQXRHLEtBQUErRixFQUFBLEdBQUFjLEVBQ0E3RyxLQUFBK0YsRUFBQSxHQUFBZSxFQUNBOUcsS0FBQStGLEVBQUEsR0FBQWdCLEVBQ0EvRyxLQUFBK0YsRUFBQSxHQUFBaUIsRUFDQWhILE1BU0FtSCxTQUFBLFNBQUFDLEdBQ0EsSUFBQVAsRUFBQTdHLEtBQUErRixFQUFBLEdBQUFxQixFQUFBckIsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FBQXFCLEVBQUFyQixFQUFBLEdBQ0FlLEVBQUE5RyxLQUFBK0YsRUFBQSxHQUFBcUIsRUFBQXJCLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUFxQixFQUFBckIsRUFBQSxHQUVBZ0IsRUFBQS9HLEtBQUErRixFQUFBLEdBQUFxQixFQUFBckIsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FBQXFCLEVBQUFyQixFQUFBLEdBQ0FpQixFQUFBaEgsS0FBQStGLEVBQUEsR0FBQXFCLEVBQUFyQixFQUFBLEdBQUEvRixLQUFBK0YsRUFBQSxHQUFBcUIsRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFySCxLQUFBK0YsRUFBQSxHQUFBcUIsRUFBQXJCLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUFxQixFQUFBckIsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FDQXVCLEVBQUF0SCxLQUFBK0YsRUFBQSxHQUFBcUIsRUFBQXJCLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUFxQixFQUFBckIsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FRQSxPQU5BL0YsS0FBQStGLEVBQUEsR0FBQWMsRUFDQTdHLEtBQUErRixFQUFBLEdBQUFlLEVBQ0E5RyxLQUFBK0YsRUFBQSxHQUFBZ0IsRUFDQS9HLEtBQUErRixFQUFBLEdBQUFpQixFQUNBaEgsS0FBQStGLEVBQUEsR0FBQXNCLEVBQ0FySCxLQUFBK0YsRUFBQSxHQUFBdUIsRUFDQXRILE1BUUF1SCxPQUFBLFdBQ0EsSUFBQUMsRUFBQSxHQUFBeEgsS0FBQStGLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUEvRixLQUFBK0YsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsSUFDQTBCLEVBQUF6SCxLQUFBK0YsRUFBQSxHQUFBeUIsRUFDQUUsR0FBQTFILEtBQUErRixFQUFBLEdBQUF5QixFQUNBRyxHQUFBM0gsS0FBQStGLEVBQUEsR0FBQXlCLEVBQ0FJLEVBQUE1SCxLQUFBK0YsRUFBQSxHQUFBeUIsRUFDQUssRUFBQUwsR0FBQXhILEtBQUErRixFQUFBLEdBQUEvRixLQUFBK0YsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLElBQ0ErQixFQUFBTixHQUFBeEgsS0FBQStGLEVBQUEsR0FBQS9GLEtBQUErRixFQUFBLEdBQUEvRixLQUFBK0YsRUFBQSxHQUFBL0YsS0FBQStGLEVBQUEsSUFPQSxPQU5BL0YsS0FBQStGLEVBQUEsR0FBQTBCLEVBQ0F6SCxLQUFBK0YsRUFBQSxHQUFBMkIsRUFDQTFILEtBQUErRixFQUFBLEdBQUE0QixFQUNBM0gsS0FBQStGLEVBQUEsR0FBQTZCLEVBQ0E1SCxLQUFBK0YsRUFBQSxHQUFBOEIsRUFDQTdILEtBQUErRixFQUFBLEdBQUErQixFQUNBOUgsTUFPQStILFVBQUEsV0FDQSxPQUFBL0gsS0FBQStGLEdBU0FpQyxvQkFBQSxTQUFBOUIsRUFBQUMsR0FDQSxJQUFBc0IsRUFBQXpILEtBQUErRixFQUFBLEdBQ0EyQixFQUFBMUgsS0FBQStGLEVBQUEsR0FDQTRCLEVBQUEzSCxLQUFBK0YsRUFBQSxHQUNBNkIsRUFBQTVILEtBQUErRixFQUFBLEdBQ0E4QixFQUFBN0gsS0FBQStGLEVBQUEsR0FFQWtDLEdBQUFSLEdBQUF0QixFQURBbkcsS0FBQStGLEVBQUEsSUFDQTJCLEdBQUF4QixFQUFBMkIsS0FBQUosRUFBQUcsRUFBQUYsRUFBQUMsR0FDQU8sR0FBQWhDLEVBQUEyQixFQUFBRixFQUFBTSxHQUFBUixFQUVBLE9BQUF6SCxLQUFBb0csVUFBQThCLEVBQUFELEtBS0EsSUFJQUUsRUFBQWxJLEtBQUFDLEdBQUEsSUFDQWtJLEVBQUEsSUFBQW5JLEtBQUFDLEdBT0FtSSxHQUNBQyxNQUFBLEVBQUEsSUFBQSxLQUNBQyxNQUFBLEVBQUEsSUFBQSxHQUNBQyxRQUFBLElBQUEsSUFBQSxLQUNBQyxPQUFBLEVBQUEsRUFBQSxHQUNBQyxRQUFBLElBQUEsRUFBQSxHQUNBQyxNQUFBLEVBQUEsSUFBQSxLQUNBQyxNQUFBLEVBQUEsRUFBQSxLQUNBQyxNQUFBLEVBQUEsRUFBQSxLQUNBQyxPQUFBLElBQUEsSUFBQSxLQUNBQyxTQUFBLElBQUEsRUFBQSxLQUNBQyxPQUFBLElBQUEsSUFBQSxHQUNBQyxRQUFBLElBQUEsSUFBQSxHQUNBQyxRQUFBLElBQUEsSUFBQSxHQUNBQyxNQUFBLElBQUEsSUFBQSxLQUNBQyxRQUFBLElBQUEsRUFBQSxLQUNBQyxPQUFBLEVBQUEsSUFBQSxHQUNBQyxLQUFBLElBQUEsRUFBQSxHQUNBQyxNQUFBLElBQUEsSUFBQSxLQUNBQyxNQUFBLEVBQUEsSUFBQSxLQUNBQyxhQUFBLElBQUEsSUFBQSxJQUFBLElBR0FDLEVBQUEsdUNBTUEzSixFQUFBNEosTUFJQUMsV0FBQSxTQUFBQyxHQUNBLFNBQUFBLEdBQUEsR0FBQUEsRUFBQUMsV0FFQUMsWUFBQSxTQUFBRixHQUNBLFNBQUFBLEdBQUFBLEVBQUFqRSxhQUFBaUUsRUFBQWhMLE1BQUFnTCxFQUFBbkUsUUFFQXNFLFVBQUEsU0FBQUgsR0FDQSxRQUFBQSxHQUFBQSxFQUFBakUsYUFBQXFFLFFBRUFDLFNBQUEsU0FBQUwsR0FDQSxNQXREQSxrQkFzREFJLE9BQUFqRixVQUFBbUYsU0FBQXRMLEtBQUFnTCxJQUVBTyxVQUFBLFNBQUFQLEdBQ0EsTUF4REEsbUJBd0RBSSxPQUFBakYsVUFBQW1GLFNBQUF0TCxLQUFBZ0wsSUFFQVEsVUFBQSxTQUFBUixHQUNBLE1BMURBLG1CQTBEQUksT0FBQWpGLFVBQUFtRixTQUFBdEwsS0FBQWdMLElBT0FTLFVBQUEsU0FBQXBGLEVBQUFxRixFQUFBQyxHQUNBLElBQUFyTCxFQUFBMEYsRUFBQTRGLEVBQ0FDLEVBQUEsS0FDQUMsRUFBQSxFQUNBQyxFQUFBSixNQUNBSyxFQUFBLFdBQ0FGLEdBQUEsSUFBQUMsRUFBQUUsUUFBQSxHQUFBLElBQUFDLE1BQUFDLFVBQ0FOLEVBQUEsS0FDQUQsRUFBQXZGLEVBQUFRLE1BQUF2RyxFQUFBMEYsR0FDQTFGLEVBQUEwRixFQUFBLE1BRUEsT0FBQSxXQUNBLElBQUFvRyxHQUFBLElBQUFGLE1BQUFDLFVBQ0FMLElBQUEsSUFBQUMsRUFBQUUsVUFDQUgsRUFBQU0sR0FFQSxJQUFBQyxFQUFBWCxHQUFBVSxFQUFBTixHQVlBLE9BWEF4TCxFQUFBYSxLQUNBNkUsRUFBQUUsVUFDQW1HLEdBQUEsR0FDQUMsYUFBQVQsR0FDQUEsRUFBQSxLQUNBQyxFQUFBTSxFQUNBUixFQUFBdkYsRUFBQVEsTUFBQXZHLEVBQUEwRixHQUNBMUYsRUFBQTBGLEVBQUEsTUFDQTZGLElBQUEsSUFBQUUsRUFBQVEsV0FDQVYsRUFBQVcsV0FBQVIsRUFBQUssSUFFQVQsSUFNQWEsWUFBQSxTQUFBekIsR0FDQSxJQUNBMEIsRUFEQWhMLEtBR0EsSUFBQWdMLEtBQUExQixFQUNBN0osS0FBQStKLFlBQUFGLEVBQUEwQixLQUNBaEwsRUFBQXNDLEtBQUEwSSxHQUdBLE9BQUFoTCxFQUFBekIsT0FBQSxHQUVBME0sb0JBQUEsV0FDQSxJQUFBQyxFQUFBMUwsRUFBQXFFLFNBQUFzSCxjQUFBLFVBRUEsSUFDQUQsRUFBQUUsTUFBQUYsRUFBQUUsVUFDQSxNQUFBNU4sSUFFQSxPQUFBME4sR0FFQUcsVUFBQSxXQUNBLE1BQUEsaUJBQUFoTixHQUVBaU4sY0FBQSxTQUFBQyxHQUNBLEtBQUFBLEVBQUFBLEVBQUFDLFlBQ0EsR0FBQUQsR0FBQS9MLEVBQUFxRSxTQUNBLE9BQUEsRUFHQSxPQUFBLEdBRUE0SCxlQUFBLFNBQUE1RyxHQUNBLElBR0FwSCxFQUFBaU8sRUFIQUMsS0FDQTdHLEVBQUFELEVBQUF0RyxPQUNBcU4sRUFBQXBNLEVBQUE0SixLQUdBLElBQUEzTCxFQUFBLEVBQUFBLEVBQUFxSCxFQUFBckgsSUFDQWlPLEVBQUE3RyxFQUFBcEgsR0FDQW1PLEVBQUEvQixVQUFBNkIsR0FDQUEsRUFBQWhNLEtBQUFtTSxNQUFBLElBQUFILEdBQUEsSUFFQUUsRUFBQTlCLFVBQUE0QixLQUNBQSxFQUFBQSxFQUFBOUIsWUFHQStCLEVBQUFySixLQUFBb0osR0FHQSxPQUFBQyxHQUtBRyxVQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQWYsRUFHQSxHQUFBYSxFQUtBLEdBQUF0TSxLQUFBNEosV0FBQTBDLEdBQ0FDLEVBQUFELFFBSUEsR0FBQXRNLEtBQUFxSyxVQUFBaUMsSUFDQUUsRUFBQSxJQUFBek0sRUFBQW9FLE9BQUFLLE9BQ0FpSSxPQUFBLFdBQ0FGLEVBQUFDLElBRUFBLEVBQUFFLElBQUFKLE9BSUEsR0FBQUEsRUFBQUssS0FBQSxFQUNBbEIsRUFBQTFMLEVBQUE0SixLQUFBNkIsdUJBQ0FvQixNQUFBTixFQUFBTSxNQUNBbkIsRUFBQW9CLE9BQUFQLEVBQUFPLE9BQ0FwQixFQUFBcUIsV0F2TEEsTUF3TEFDLGFBQUFULEVBQUEsRUFBQSxHQUNBdE0sS0FBQXFNLFVBQUFaLEVBQUF1QixZQUFBVCxRQUdBQSxFQUFBLFdBM0JBQSxFQUFBLE9BOEJBVSxlQUFBLFNBQUFwRCxHQU1BLE9BQ0EsUUFOQUEsRUFBQVAsS0FBQSxFQVFBLElBUEFPLEVBQUFSLE9BQUEsRUFTQSxJQVJBUSxFQUFBakIsTUFBQSxFQVVBLElBVEFpQixFQUFBcUQsT0FBQSxFQVdBLEtBQ0FDLEtBeE1BLEtBME1BQyxVQUFBLFNBQUF0UCxFQUFBdVAsRUFBQUMsR0FDQSxRQUFBLEdBQUEsS0FBQXhQLEdBQUEsS0FBQXVQLEdBQUEsR0FBQUMsR0FBQW5ELFNBQUEsSUFBQXJGLE1BQUEsSUFFQXlJLFVBQUEsU0FBQUMsR0FDQUEsRUFBQUEsRUFBQUMsUUEvTUEsSUFDQSxJQStNQSxJQUFBQyxFQUFBQyxTQUFBSCxFQUFBLElBQ0EsT0FDQTFQLEVBQUE0UCxHQUFBLEdBQUEsSUFDQUwsRUFBQUssR0FBQSxFQUFBLElBQ0FKLEVBQUEsSUFBQUksSUFRQUUsZUFBQSxXQUVBLElBREEsSUFBQUMsR0FBQSxTQUFBNU4sS0FBQTZOLFVBQUEsR0FBQTNELFNBQUEsSUFDQTBELEVBQUEvTyxPQUFBLEdBQ0ErTyxFQTdOQSxJQTZOQUEsRUFFQSxNQWpPQSxJQWlPQUEsR0FPQUUsSUFBQSxTQUFBOUIsRUFBQStCLEdBQ0EsWUFBQWpOLElBQUFrTCxFQUNBK0IsRUFHQS9CLEdBY0FnQyxPQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFFQSxPQUFBRCxLQUFBN0YsR0FHQXZLLEdBRkFxUSxFQUFBOUYsRUFBQTZGLElBRUEsR0FDQWIsRUFBQWMsRUFBQSxHQUNBYixFQUFBYSxFQUFBLElBblFBLE1BdVFBRCxFQUFBLEdBQ0FsTyxLQUFBdU4sVUFBQVcsRUFBQUUsVUFBQSxJQW5RQSxTQXNRQUYsRUFBQUcsT0FBQSxFQUFBLElBQ0FGLEVBQUF6RSxFQUFBakcsS0FBQXlLLEVBQUFULFFBQUEsS0FBQSxNQUVBM1AsRUFBQTZQLFNBQUFRLEVBQUEsR0FBQSxJQUNBZCxFQUFBTSxTQUFBUSxFQUFBLEdBQUEsSUFDQWIsRUFBQUssU0FBQVEsRUFBQSxHQUFBLE9BTUFyUSxFQUFBLEVBQ0F1UCxFQUFBLEVBQ0FDLEVBQUEsSUFLQWdCLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBek8sS0FBQTBPLE9BQUFGLEdBQ0EsSUFBQSxJQUFBakQsS0FBQWdELEVBQ0F2TyxLQUFBZ0ssVUFBQXVFLEVBQUFoRCxJQUNBa0QsRUFBQWxELEdBQUF2TCxLQUFBc08sT0FBQUMsRUFBQWhELEdBQUFrRCxFQUFBbEQsSUFHQWtELEVBQUFsRCxHQUFBZ0QsRUFBQWhELEdBR0EsT0FBQWtELEdBRUFFLFlBQUEsU0FBQTlFLEdBQ0EsSUFBQTRFLEtBQ0EsSUFBQSxJQUFBbEQsS0FBQTFCLEVBQ0E3SixLQUFBZ0ssVUFBQUgsRUFBQTBCLElBQ0FrRCxFQUFBbEQsR0FBQXZMLEtBQUEyTyxZQUFBOUUsRUFBQTBCLElBRUF2TCxLQUFBa0ssU0FBQUwsRUFBQTBCLElBQ0FrRCxFQUFBbEQsR0FBQXZMLEtBQUE0TyxXQUFBL0UsRUFBQTBCLElBRUFrRCxFQUFBbEQsR0FBQTFCLEVBQUEwQixHQUdBLE9BQUFrRCxHQUVBRyxXQUFBLFNBQUF4SixHQUNBLE9BQUFBLEVBQUFOLE1BQUEsSUFFQStKLFVBQUEsU0FBQUMsR0FDQSxPQUFBQSxFQUFBM0csR0FFQTRHLFVBQUEsU0FBQXRJLEdBQ0EsT0FBQUEsRUFBQTJCLEdBRUE0RyxZQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQUMsT0FBQSxHQUFBQyxjQUFBRixFQUFBbkssTUFBQSxJQUVBc0ssTUFBQSxTQUFBSCxHQUNBLE1BQUEsSUFBQXhRLE1BaFVBLGtCQWdVQXdRLElBRUFJLEtBQUEsU0FBQUosR0FLQWxQLEVBQUFkLEtBQUFxUSxTQUFBQSxRQUFBRCxNQUFBdFAsRUFBQW1CLGNBQ0FvTyxRQUFBRCxLQXpVQSxvQkF5VUFKLElBR0FNLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxTQUFBQyxJQUNBMVAsS0FBQTRGLFlBQUE0SixFQUVBRSxFQUFBMUssVUFBQXlLLEVBQUF6SyxVQUNBLElBQUEySyxFQUFBSCxFQUFBeEssVUFFQSxJQUFBLElBQUF1RyxLQURBaUUsRUFBQXhLLFVBQUEsSUFBQTBLLEVBQ0FDLEVBQ0FBLEVBQUFDLGVBQUFyRSxLQUNBaUUsRUFBQXhLLFVBQUF1RyxHQUFBb0UsRUFBQXBFLElBR0FpRSxFQUFBSyxVQUFBSixFQUFBekssV0FTQThLLFdBQUEsU0FBQWxLLEVBQUFtSyxHQUNBLElBQUF4RSxFQUVBLElBQUFBLEtBQUF3RSxFQUNBbkssRUFBQVosVUFBQXVHLEdBQUF3RSxFQUFBeEUsSUFHQXlFLGtCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFyUyxHQUNBLElBQUFzUyxFQUFBdFEsS0FBQXVRLEtBQUF2USxLQUFBd1EsSUFBQU4sRUFBQUYsRUFBQSxHQUFBaFEsS0FBQXdRLElBQUFMLEVBQUFGLEVBQUEsSUFDQVEsRUFBQXpRLEtBQUF1USxLQUFBdlEsS0FBQXdRLElBQUFKLEVBQUFGLEVBQUEsR0FBQWxRLEtBQUF3USxJQUFBSCxFQUFBRixFQUFBLElBQ0FPLEVBQUExUyxFQUFBc1MsR0FBQUEsRUFBQUcsR0FDQUUsRUFBQTNTLEVBQUF5UyxHQUFBSCxFQUFBRyxHQU1BLE9BTEFQLEVBQUFRLEdBQUFOLEVBQUFKLEdBQ0FHLEVBQUFPLEdBQUFMLEVBQUFKLEdBQ0FDLEVBQUFTLEdBQUFQLEVBQUFKLEdBQ0FHLEVBQUFRLEdBQUFOLEVBQUFKLEtBSUFXLGNBQUEsU0FBQWxTLEVBQUFtUyxHQUNBLElBRUE5UyxFQUFBK1MsRUFGQTFMLEVBQUExRyxFQUFBRyxPQUNBa1MsS0FHQSxJQUFBaFQsRUFBQSxFQUFBQSxFQUFBcUgsRUFBQSxFQUFBckgsR0FBQSxFQUNBK1MsRUFBQWhSLEVBQUE0SixLQUFBcUcsa0JBQUFyUixFQUFBWCxFQUFBLEdBQUFXLEVBQUFYLEVBQUEsR0FBQVcsRUFBQVgsR0FBQVcsRUFBQVgsRUFBQSxHQUFBVyxFQUFBWCxFQUFBLEdBQUFXLEVBQUFYLEVBQUEsR0FBQThTLEdBQ0FFLEVBQUFuTyxLQUFBa08sRUFBQSxJQUNBQyxFQUFBbk8sS0FBQWtPLEVBQUEsSUFDQUMsRUFBQW5PLEtBQUFsRSxFQUFBWCxJQUNBZ1QsRUFBQW5PLEtBQUFsRSxFQUFBWCxFQUFBLElBQ0FnVCxFQUFBbk8sS0FBQWtPLEVBQUEsSUFDQUMsRUFBQW5PLEtBQUFrTyxFQUFBLElBR0EsT0FBQUMsR0FFQUMsa0JBQUEsU0FBQWhDLEdBQ0EsT0FBQUEsRUFBQWIsVUFBQSxFQUFBYSxFQUFBblEsT0FBQSxLQXJyQkEsR0E0ckJBSyxFQURBWSxFQUFBNEosS0FBQTZCLHNCQUNBc0IsV0FBQSxNQU1BMU4sRUFBQVcsRUFBQStELEdBQUFILFFBQ0FRLE9BQUErTSxrQkFBQSxJQUNBL1IsRUFBQWdTLDhCQUNBaFMsRUFBQWlTLDJCQUNBalMsRUFBQWtTLDBCQUNBbFMsRUFBQW1TLHlCQUNBblMsRUFBQW9TLHdCQUNBLEdBRUEsRUFrQkF4UixFQUFBc0UsT0FBQSxTQUFBaEQsR0FDQXJCLEtBQUF3UixLQUFBblEsSUFHQXRCLEVBQUFzRSxPQUFBVyxXQUNBd00sS0FBQSxTQUFBblEsR0FDQSxJQUVBUCxHQUZBTyxPQUVBUCxZQUFBZixFQUFBZSxZQUFBMUIsRUFFQVksS0FBQWMsV0FBQUEsRUFDQWQsS0FBQXlSLFFBQUExUixFQUFBNEosS0FBQTZCLHNCQUdBeEwsS0FBQXlSLFFBQUE5RixNQUFBK0YsUUFBQSxFQUNBMVIsS0FBQXlSLFFBQUE5RixNQUFBZ0csT0FBQSxFQUNBM1IsS0FBQXlSLFFBQUE5RixNQUFBaUcsT0FBQSxFQUNBNVIsS0FBQXlSLFFBQUE5RixNQUFBa0csV0FBQSxjQUNBN1IsS0FBQXlSLFFBQUE5RixNQUFBbUcsU0FBQSxXQUNBOVIsS0FBQXlSLFFBQUE5RixNQUFBb0csSUFBQSxFQUNBL1IsS0FBQXlSLFFBQUE5RixNQUFBcUcsS0FBQSxHQVFBbEYsV0FBQSxXQUNBLE9BQUE5TSxLQUFBYixTQVFBOFMsY0FBQSxXQUNBLE9BQUFqUyxLQUFBYyxZQWNBb1IsY0FBQSxTQUFBcFIsR0FDQWQsS0FBQWMsV0FBQUEsRUFDQWQsS0FBQW1TLFFBQUFuUyxLQUFBb1MsV0FBQXBTLEtBQUFxUyxjQVFBQyxTQUFBLFNBQUExRixHQUVBNU0sS0FBQTRNLE1BQUE1TSxLQUFBeVIsUUFBQTdFLE1BQUFBLEVBQUE1TSxLQUFBYyxXQUNBZCxLQUFBeVIsUUFBQTlGLE1BQUFpQixNQUFBQSxFQUFBLE1BUUEyRixVQUFBLFNBQUExRixHQUVBN00sS0FBQTZNLE9BQUE3TSxLQUFBeVIsUUFBQTVFLE9BQUFBLEVBQUE3TSxLQUFBYyxXQUNBZCxLQUFBeVIsUUFBQTlGLE1BQUFrQixPQUFBQSxFQUFBLE1BUUF1RixTQUFBLFdBQ0EsT0FBQXBTLEtBQUE0TSxPQVFBeUYsVUFBQSxXQUNBLE9BQUFyUyxLQUFBNk0sUUFTQXNGLFFBQUEsU0FBQXZGLEVBQUFDLEdBQ0E3TSxLQUFBc1MsU0FBQTFGLEdBQ0E1TSxLQUFBdVMsVUFBQTFGLElBVUFHLFVBQUEsU0FBQXdGLEVBQUFDLEdBQ0EsSUFHQSxPQUFBelMsS0FBQXlSLFFBQUF6RSxVQUFBd0YsRUFBQUMsR0FFQSxNQUFBMVUsR0FDQSxJQUNBLE9BQUFpQyxLQUFBeVIsUUFBQXpFLFlBRUEsTUFBQTBGLEdBRUEsT0FEQTNTLEVBQUE0SixLQUFBMEYsS0FBQSwyQkFBQXFELEVBQUFDLFNBQ0EsT0FNQTVTLEVBQUE2UyxZQUFBLFNBQUF2UixHQUNBLElBQUF3UixFQUFBeFIsTUFDQXVMLEVBQUFpRyxFQUFBakcsT0FBQSxFQUNBQyxFQUFBZ0csRUFBQWhHLFFBQUEsRUFFQTlNLEVBQUFzRSxPQUFBeEYsS0FBQW1CLEtBQUE2UyxHQUNBN1MsS0FBQWIsUUFBQSxJQUFBWSxFQUFBK1MsYUFBQTlTLE1BQ0FBLEtBQUFtUyxRQUFBdkYsRUFBQUMsSUFHQTlNLEVBQUE2UyxZQUFBNU4sV0FDQXNOLFNBQUEsU0FBQTFGLEdBQ0EsSUFBQTlMLEVBQUFkLEtBQUFjLFdBQ0FpUyxFQUFBL1MsS0FBQThNLGFBQUFpRyxTQUVBaFQsRUFBQXNFLE9BQUFXLFVBQUFzTixTQUFBelQsS0FBQW1CLEtBQUE0TSxHQUNBbUcsRUFBQTFNLE1BQUF2RixFQUFBQSxJQUVBeVIsVUFBQSxTQUFBMUYsR0FDQSxJQUFBL0wsRUFBQWQsS0FBQWMsV0FDQWlTLEVBQUEvUyxLQUFBOE0sYUFBQWlHLFNBRUFoVCxFQUFBc0UsT0FBQVcsVUFBQXVOLFVBQUExVCxLQUFBbUIsS0FBQTZNLEdBQ0FrRyxFQUFBMU0sTUFBQXZGLEVBQUFBLEtBR0FmLEVBQUE0SixLQUFBNEYsT0FBQXhQLEVBQUE2UyxZQUFBN1MsRUFBQXNFLFFBRUF0RSxFQUFBaVQsVUFBQSxTQUFBM1IsR0FDQSxJQUFBd1IsRUFBQXhSLE1BQ0F1TCxFQUFBaUcsRUFBQWpHLE9BQUEsRUFDQUMsRUFBQWdHLEVBQUFoRyxRQUFBLEVBRUE5TSxFQUFBc0UsT0FBQXhGLEtBQUFtQixLQUFBNlMsR0FDQTdTLEtBQUFiLFFBQUEsSUFBQVksRUFBQWtULFdBQUFqVCxNQUNBQSxLQUFBbVMsUUFBQXZGLEVBQUFDLEdBQ0E3TSxLQUFBa1QsV0FBQSxHQUVBblQsRUFBQTRKLEtBQUE0RixPQUFBeFAsRUFBQWlULFVBQUFqVCxFQUFBc0UsUUFjQWhGLEdBQ0EsTUFDQSxRQUNBLFlBQ0EsZ0JBQ0EsWUFDQSxPQUNBLFlBQ0EsdUJBQ0EsZ0JBQ0EsdUJBQ0EsWUFDQSxPQUNBLFdBQ0EsZUFDQSxrQkFDQSxTQUNBLFNBQ0EsZUFDQSxtQkFDQSxPQUNBLFVBQ0EsU0FDQSxPQUNBLFFBQ0EsY0FDQSxlQUNBLFNBQ0EsYUFDQSxZQUNBLGFBU0FVLEVBQUFvVCxRQUFBLFNBQUExSCxHQUNBekwsS0FBQXdSLEtBQUEvRixJQUdBMUwsRUFBQW9ULFFBQUFuTyxXQUNBd00sS0FBQSxTQUFBL0YsR0FDQXpMLEtBQUF5TCxPQUFBQSxFQUNBekwsS0FBQStTLFNBQUF0SCxFQUFBZ0csUUFBQTNFLFdBQUEsTUFFQS9NLEVBQUFZLGNBQ0FYLEtBQUFvVCxZQUNBcFQsS0FBQXFULGlCQVNBQyxVQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGtCQUNBeFQsS0FBQXlULE1BQUFGLElBU0FHLFlBQUEsU0FBQUgsR0FDQUEsRUFBQUksb0JBQ0EzVCxLQUFBNFQsUUFBQUwsSUFTQU0sZ0JBQUEsU0FBQU4sR0FDQUEsRUFBQUMsa0JBRUF4VCxLQUFBeVQsTUFBQUYsR0FFQUEsRUFBQUksb0JBQ0EzVCxLQUFBNFQsUUFBQUwsSUFZQU8sU0FBQSxTQUFBQyxHQUNBLElBR0EvVixFQUFBZ1csRUFBQUMsRUFBQXBQLEVBSEF1TyxFQUFBcFQsS0FBQW9ULFNBQ0EvTixFQUFBK04sRUFBQXRVLE9BQ0FtUSxFQUFBLEdBR0EsSUFBQWpSLEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxLQUVBaVcsR0FEQUQsRUFBQVosRUFBQXBWLElBQ0FpVyxTQUlBcFAsRUFBQW1QLEVBQUFuUCxLQUNBb0ssR0FBQWdGLEVBQ0FGLEVBQ0E5RSxHQXRIQSxLQXlIQWxQLEVBQUE0SixLQUFBTyxTQUFBckYsRUFBQSxJQUNBb0ssR0E3SEEsS0E2SEFwSyxFQUFBc0ksS0FoSUEsS0FJQSxLQStIQThCLEdBbElBLElBa0lBcEssRUFBQXNJLEtBbklBLEtBRUEsTUF1SUE4QixHQUFBK0UsRUFBQUUsU0FDQUgsSUFDQTlFLEdBbklBLElBbUlBK0UsRUFBQS9ILE1BSUFnRCxHQTFJQSxJQTZJQSxPQUFBQSxHQU9Ba0YsV0FBQSxXQUNBblUsS0FBQW9ULGFBRUFnQixPQUFBLFNBQUFuRixHQUNBLElBQUFtRSxFQUFBcFQsS0FBQW9ULFNBR0FBLEVBQUF2USxLQUFBb00sR0FDQW1FLEVBQUF0VSxRQUVBaUIsRUFBQWEsYUFDQXdTLEVBQUFpQixTQVFBQyxNQUFBLFdBQ0EsSUFBQXhULEVBQUFkLEtBQUF1VSxZQUFBdEMsZ0JBQ0FqUyxLQUFBd1UsYUFBQSxFQUFBMVQsRUFBQSxFQUFBLEVBQUEsRUFBQUEsRUFBQSxFQUFBLElBUUF5VCxVQUFBLFdBQ0EsT0FBQXZVLEtBQUF5TCxRQVlBZ0osTUFBQSxTQUFBQyxHQUNBLElBQUFqSixFQUFBekwsS0FBQXVVLFlBRUFHLEVBQ0ExVSxLQUFBMlUsVUFBQUQsRUFBQXhPLEdBQUEsRUFBQXdPLEVBQUF2TyxHQUFBLEVBQUF1TyxFQUFBOUgsT0FBQSxFQUFBOEgsRUFBQTdILFFBQUEsR0FHQTdNLEtBQUEyVSxVQUFBLEVBQUEsRUFBQWxKLEVBQUEyRyxXQUFBM0csRUFBQTRHLGNBR0F1QyxjQUFBLFNBQUFyQixHQUNBLElBQUFzQixFQUFBdEIsRUFBQXVCLGFBQ0FELEdBQ0E3VSxLQUFBK1UsUUFBQSxVQUFBRixJQUdBRyxjQUFBLFNBQUF6QixHQUNBLElBQUEwQixFQUFBMUIsRUFBQTJCLHFCQUNBLElBQUFELEdBQ0FqVixLQUFBK1UsUUFBQSxjQUFBRSxJQUdBRSxlQUFBLFNBQUE1QixHQUNBLElBQUE2QixFQUFBN0IsRUFBQThCLGNBQ0FELEdBQ0FwVixLQUFBK1UsUUFBQSxXQUFBSyxJQUdBTCxRQUFBLFNBQUFPLEVBQUFySixHQUNBak0sS0FBQStTLFNBQUF1QyxHQUFBckosR0FJQXNKLElBQUEsV0FDQSxJQUFBL1csRUFBQXVHLFVBQ0EvRSxLQUFBK1MsU0FBQXdDLElBQUEvVyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUVBZ1gsVUFBQSxXQUNBeFYsS0FBQStTLFNBQUF5QyxhQUVBQyxjQUFBLFdBQ0EsSUFBQWpYLEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUEwQyxjQUFBalgsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsS0FFQW1XLFVBQUEsV0FDQSxJQUFBblcsRUFBQXVHLFVBQ0EvRSxLQUFBK1MsU0FBQTRCLFVBQUFuVyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUFrWCxLQUFBLFdBQ0ExVixLQUFBK1MsU0FBQTJDLFFBRUFDLFVBQUEsV0FDQTNWLEtBQUErUyxTQUFBNEMsYUFFQUMsZ0JBQUEsV0FDQSxJQUFBcFgsRUFBQXVHLFVBQ0EsT0FBQSxJQUFBdkcsRUFBQU0sT0FDQWtCLEtBQUErUyxTQUFBNkMsZ0JBQUFwWCxFQUFBLEdBQUFBLEVBQUEsSUFFQSxJQUFBQSxFQUFBTSxPQUNBa0IsS0FBQStTLFNBQUE2QyxnQkFBQXBYLEVBQUEsU0FEQSxHQUlBcVgscUJBQUEsV0FDQSxJQUFBclgsRUFBQXVHLFVBQ0EsT0FBQS9FLEtBQUErUyxTQUFBOEMscUJBQUFyWCxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUFzWCxjQUFBLFdBQ0EsSUFBQXRYLEVBQUF1RyxVQUNBLE9BQUEvRSxLQUFBK1MsU0FBQStDLGNBQUF0WCxFQUFBLEdBQUFBLEVBQUEsS0FFQXVYLHFCQUFBLFdBQ0EsSUFBQXZYLEVBQUF1RyxVQUNBLE9BQUEvRSxLQUFBK1MsU0FBQWdELHFCQUFBdlgsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsS0FFQXdYLFVBQUEsV0FDQSxJQUFBeFgsRUFBQXVHLFVBQ0FnTyxFQUFBL1MsS0FBQStTLFNBRUEsSUFBQXZVLEVBQUFNLE9BQ0FpVSxFQUFBaUQsVUFBQXhYLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBRUEsSUFBQUEsRUFBQU0sT0FDQWlVLEVBQUFpRCxVQUFBeFgsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBRUEsSUFBQUEsRUFBQU0sUUFDQWlVLEVBQUFpRCxVQUFBeFgsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsS0FHQXlYLEtBQUEsV0FDQWpXLEtBQUErUyxTQUFBa0QsUUFFQUMsU0FBQSxXQUNBLElBQUExWCxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBbUQsU0FBQTFYLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUEyWCxhQUFBLFdBQ0EsSUFBQTNYLEVBQUF1RyxVQUNBLE9BQUEvRSxLQUFBK1MsU0FBQW9ELGFBQUEzWCxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUE0WCxPQUFBLFdBQ0EsSUFBQTVYLEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUFxRCxPQUFBNVgsRUFBQSxHQUFBQSxFQUFBLEtBRUE2WCxPQUFBLFdBQ0EsSUFBQTdYLEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUFzRCxPQUFBN1gsRUFBQSxHQUFBQSxFQUFBLEtBRUE4WCxLQUFBLFdBQ0EsSUFBQTlYLEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUF1RCxLQUFBOVgsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUVBdU8sYUFBQSxXQUNBLElBQUF2TyxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBaEcsYUFBQXZPLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUErWCxpQkFBQSxXQUNBLElBQUEvWCxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBd0QsaUJBQUEvWCxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUFnWSxRQUFBLFdBQ0F4VyxLQUFBK1MsU0FBQXlELFdBRUFoUSxPQUFBLFdBQ0EsSUFBQWhJLEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUF2TSxPQUFBaEksRUFBQSxLQUVBaVksS0FBQSxXQUNBelcsS0FBQStTLFNBQUEwRCxRQUVBcFEsTUFBQSxXQUNBLElBQUE3SCxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBMU0sTUFBQTdILEVBQUEsR0FBQUEsRUFBQSxLQUVBa1ksWUFBQSxXQUNBLElBQUFsWSxFQUFBdUcsVUFDQWdPLEVBQUEvUyxLQUFBK1MsU0FHQS9TLEtBQUErUyxTQUFBMkQsWUFDQTNELEVBQUEyRCxZQUFBbFksRUFBQSxJQUdBLFlBQUF1VSxFQUNBQSxFQUFBNEQsUUFBQW5ZLEVBQUEsR0FHQSxtQkFBQXVVLElBQ0FBLEVBQUE2RCxlQUFBcFksRUFBQSxLQUtBZ1csYUFBQSxXQUNBLElBQUFoVyxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBeUIsYUFBQWhXLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUFxWSxPQUFBLFdBQ0E3VyxLQUFBK1MsU0FBQThELFVBRUFDLFdBQUEsV0FDQSxJQUFBdFksRUFBQXVHLFVBQ0EvRSxLQUFBK1MsU0FBQStELFdBQUF0WSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxLQUVBdVksVUFBQSxXQUNBLElBQUF2WSxFQUFBdUcsVUFDQS9FLEtBQUErUyxTQUFBZ0UsVUFBQXZZLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEtBRUE0SCxVQUFBLFdBQ0EsSUFBQTVILEVBQUF1RyxVQUNBL0UsS0FBQStTLFNBQUEzTSxVQUFBNUgsRUFBQSxHQUFBQSxFQUFBLEtBRUE2VSxhQUFBLFdBQ0EsSUFJQXJWLEVBQUE2RyxFQUpBbVMsRUFBQWhYLEtBQ0FxRixFQUFBaEcsRUFBQVAsT0FDQWtOLEVBQUFqTSxFQUFBNEosS0FBQXFDLGVBQ0FpTCxFQUFBalgsS0FBQStVLFFBSUE3UCxFQUFBLFNBQUFPLEdBQ0EsSUFDQXlSLEVBREFDLEVBQUFILEVBQUF2UixHQUdBdVIsRUFBQXZSLEdBQUEsV0FTQSxPQVJBWixFQUFBbUgsRUFBQW9MLE1BQUFwUyxVQUFBRixNQUFBakcsS0FBQWtHLFVBQUEsSUFDQW1TLEVBQUFDLEVBQUF6UixNQUFBc1IsRUFBQWpTLFdBRUFpUyxFQUFBNUMsUUFDQUgsT0FBQXhPLEVBQ0FaLEtBQUFBLElBR0FxUyxJQUlBLElBQUFsWixFQUFBLEVBQUFBLEVBQUFxSCxFQUFBckgsSUFDQWtILEVBQUE3RixFQUFBckIsSUFJQWdaLEVBQUFqQyxRQUFBLFdBQ0FrQyxFQUFBdlIsTUFBQXNSLEVBQUFqUyxXQUNBaVMsRUFBQTVDLFFBQ0FGLFNBQUFuUCxVQUFBLEdBQ0FrSCxJQUFBbEgsVUFBQSxRQU1BaEYsRUFBQStTLGFBQUEsU0FBQXJILEdBQ0ExTCxFQUFBb1QsUUFBQXRVLEtBQUFtQixLQUFBeUwsSUFHQTFMLEVBQUErUyxhQUFBOU4sV0FDQXFTLFdBQUEsU0FBQTlELEdBQ0EsSUFBQTBDLEVBQUExQyxFQUFBMEMsUUFDQWxXLEVBQUE0SixLQUFBc0QsZ0JBQ0EzRCxJQUFBaUssRUFBQStELFVBQ0FqTyxNQUFBa0ssRUFBQWdFLFlBQ0EzTyxLQUFBMkssRUFBQWlFLFdBQ0F0SyxNQUFBcUcsRUFBQWtFLGNBR0F6WCxLQUFBK1UsUUFBQSxZQUFBa0IsR0FDQTFDLEVBQUFtRSxVQUFBMVgsT0FFQTJYLGFBQUEsU0FBQXBFLEdBQ0EsSUFBQXFFLEVBQUFyRSxFQUFBc0Usc0JBQ0FDLEVBQUF2RSxFQUFBd0Usa0JBQ0FDLEVBQUF6RSxFQUFBMEUsa0JBQ0FDLEVBQUEzRSxFQUFBNEUsc0JBQ0FDLEVBQUFyWSxFQUFBbUQsU0FBQXFRLEVBQUE4RSwwQkFDQUMsRUFBQS9FLEVBQUFnRix1QkFDQUMsRUFBQWpGLEVBQUFrRix3QkFFQVgsR0FBQUUsSUFDQWhZLEtBQUFvRyxVQUFBMFIsR0FBQSxFQUFBRSxHQUFBLEdBRUFJLEdBQ0FwWSxLQUFBd0csT0FBQTRSLEdBRUFGLEdBQ0FsWSxLQUFBcUcsTUFBQTZSLEVBQUFoUyxFQUFBZ1MsRUFBQS9SLEdBRUFtUyxHQUNBdFksS0FBQW9HLFdBQUEsRUFBQWtTLEVBQUFwUyxHQUFBLEVBQUFvUyxFQUFBblMsR0FHQW5HLEtBQUErVSxRQUFBLFlBQUEvVSxLQUFBOFYsY0FBQThCLEVBQUFZLEdBQUEsV0FDQXhZLEtBQUFpVyxRQUVBeUMsb0JBQUEsU0FBQW5GLEdBQ0EsSUFBQW9GLEVBQUFwRixFQUFBcUYsa0NBQ0FDLEVBQUF0RixFQUFBdUYsZ0NBQ0FDLEVBQUF4RixFQUFBeUYsa0NBQ0FDLEVBQUFqWixLQUFBNlYscUJBQUE4QyxFQUFBelMsRUFBQXlTLEVBQUF4UyxFQUFBMFMsRUFBQTNTLEVBQUEyUyxFQUFBMVMsR0FFQSxHQUFBNFMsRUFBQSxDQUVBLElBQUEsSUFBQS9hLEVBQUEsRUFBQUEsRUFBQSthLEVBQUFqYSxPQUFBZCxHQUFBLEVBQ0FpYixFQUFBQyxhQUFBSCxFQUFBL2EsR0FBQSthLEVBQUEvYSxFQUFBLElBRUFnQyxLQUFBK1UsUUFBQSxZQUFBa0UsR0FDQWpaLEtBQUFpVyxTQUdBa0Qsb0JBQUEsU0FBQTVGLEdBU0EsSUFSQSxJQUFBb0YsRUFBQXBGLEVBQUE2RixrQ0FDQVAsRUFBQXRGLEVBQUE4RixnQ0FDQUMsRUFBQS9GLEVBQUFnRyxtQ0FDQUMsRUFBQWpHLEVBQUFrRyxpQ0FDQVYsRUFBQXhGLEVBQUFtRyxrQ0FDQVQsRUFBQWpaLEtBQUErVixxQkFBQTRDLEVBQUF6UyxFQUFBeVMsRUFBQXhTLEVBQUFtVCxFQUFBVCxFQUFBM1MsRUFBQTJTLEVBQUExUyxFQUFBcVQsR0FHQXhiLEVBQUEsRUFBQUEsRUFBQSthLEVBQUFqYSxPQUFBZCxHQUFBLEVBQ0FpYixFQUFBQyxhQUFBSCxFQUFBL2EsR0FBQSthLEVBQUEvYSxFQUFBLElBRUFnQyxLQUFBK1UsUUFBQSxZQUFBa0UsR0FDQWpaLEtBQUFpVyxRQUVBeEMsTUFBQSxTQUFBRixHQUNBLElBQUFvRyxFQUFBcEcsRUFBQTBDLFFBQUExQyxFQUFBK0QsV0FBQS9ELEVBQUFnRSxhQUFBaEUsRUFBQWlFLFdBQ0FvQyxFQUFBckcsRUFBQXNFLHNCQUNBZ0MsRUFBQXRHLEVBQUF5RixrQ0FDQWMsRUFBQXZHLEVBQUFtRyxrQ0FDQUssRUFBQXhHLEVBQUF5RyxrQkFHQUwsR0FBQSxVQUFBSSxFQUNBL1osS0FBQXFYLFdBQUE5RCxHQUVBcUcsR0FBQSxZQUFBRyxFQUNBL1osS0FBQTJYLGFBQUFwRSxHQUVBc0csR0FBQSxvQkFBQUUsRUFDQS9aLEtBQUEwWSxvQkFBQW5GLEdBRUF1RyxHQUFBLG9CQUFBQyxFQUNBL1osS0FBQW1aLG9CQUFBNUYsR0FHQW9HLEVBQ0EzWixLQUFBcVgsV0FBQTlELEdBRUFxRyxFQUNBNVosS0FBQTJYLGFBQUFwRSxHQUVBc0csRUFDQTdaLEtBQUEwWSxvQkFBQW5GLEdBRUF1RyxHQUNBOVosS0FBQW1aLG9CQUFBNUYsSUFHQUssUUFBQSxTQUFBTCxHQUNBLElBQUEwRyxFQUFBMUcsRUFBQTBHLE9BQ0FDLEVBQUEzRyxFQUFBNEcsd0JBRUE1RyxFQUFBNkcsY0FDQUYsSUFDQWxhLEtBQUF5VyxPQUNBelcsS0FBQXdVLGFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0F4VSxLQUFBNFUsY0FBQXJCLEdBQ0EwRyxHQUFBMUcsRUFBQThHLGVBQ0FyYSxLQUFBMFcsWUFBQXVELEdBR0FqYSxLQUFBK1UsUUFBQSxZQUFBeEIsRUFBQStHLGVBQ0F0YSxLQUFBK1UsUUFBQSxjQUFBeEIsRUFBQXNELFVBQ0E5VyxFQUFBNEosS0FBQXNELGdCQUNBM0QsSUFBQWlLLEVBQUFnSCxZQUNBbFIsTUFBQWtLLEVBQUFpSCxjQUNBNVIsS0FBQTJLLEVBQUFrSCxhQUNBdk4sTUFBQXFHLEVBQUFtSCxpQkFHQW5ILEVBQUFvSCxZQUFBM2EsTUFFQWthLEdBQ0FsYSxLQUFBd1csWUFJQW9FLGFBQUEsU0FBQXJILEdBQ0EsSUFBQXBILEVBQUFwTSxFQUFBNEosS0FDQXNMLEVBQUExQixFQUFBMkIscUJBQ0FoSCxFQUFBL0IsRUFBQTRCLElBQUF3RixFQUFBc0gsaUJBQUEsU0FDQUMsRUFBQTNPLEVBQUE0QixJQUFBd0YsRUFBQXdILGdCQUFBLEdBQ0FDLEVBQUE3TyxFQUFBNEIsSUFBQXdGLEVBQUEwSCxtQkFBQSxHQUNBQyxFQUFBL08sRUFBQTRCLElBQUF3RixFQUFBNEgsbUJBQ0FqVixFQUFBLEVBQ0FDLEVBQUEsSUFHQTZVLEdBQ0FoYixLQUFBK1UsUUFBQSxjQUFBaUcsRUFBQS9GLEdBR0FqVixLQUFBK1UsUUFBQSxjQUFBN0csR0FDQWxPLEtBQUErVSxRQUFBLGFBQUErRixHQUNBOWEsS0FBQStVLFFBQUEsZ0JBQUFtRyxFQUFBaFYsR0FDQWxHLEtBQUErVSxRQUFBLGdCQUFBbUcsRUFBQS9VLEtBSUFwRyxFQUFBNEosS0FBQTRGLE9BQUF4UCxFQUFBK1MsYUFBQS9TLEVBQUFvVCxTQUVBcFQsRUFBQWtULFdBQUEsU0FBQXhILEdBQ0ExTCxFQUFBb1QsUUFBQXRVLEtBQUFtQixLQUFBeUwsSUFHQTFMLEVBQUFrVCxXQUFBak8sV0FDQXlPLE1BQUEsU0FBQUYsR0FDQXZULEtBQUF5VyxPQUNBelcsS0FBQStVLFFBQUEsWUFBQXhCLEVBQUE2SCxVQUNBN0gsRUFBQThILGFBQUFyYixNQUNBQSxLQUFBd1csV0FFQTVDLFFBQUEsU0FBQUwsR0FDQUEsRUFBQTZHLGNBQ0FwYSxLQUFBNFUsY0FBQXJCLEdBQ0F2VCxLQUFBK1UsUUFBQSxZQUFBeEIsRUFBQStHLGVBQ0F0YSxLQUFBK1UsUUFBQSxjQUFBeEIsRUFBQTZILFVBQ0E3SCxFQUFBK0gsZUFBQXRiLFNBSUFELEVBQUE0SixLQUFBNEYsT0FBQXhQLEVBQUFrVCxXQUFBbFQsRUFBQW9ULFNBU0FwVCxFQUFBd2IsU0FDQUMsZ0JBQUEsU0FBQTVWLEVBQUEwUCxFQUFBdEgsRUFBQXlOLEVBQUFDLEdBQ0ExYixLQUFBMmIsVUFBQS9WLEVBQUEwUCxFQUFBdEgsR0FDQWhPLEtBQUE0YixVQUFBaFcsRUFBQTBQLEVBQUFtRyxFQUFBQyxHQUNBMWIsS0FBQTZiLDBCQUFBalcsRUFBQTBQLElBRUFxRyxVQUFBLFNBQUEvVixFQUFBMFAsRUFBQXRILEdBQ0EsSUFBQWlHLEVBWEEsTUFXQWxVLEVBQUE0SixLQUFBcUYsWUFBQXNHLEdBRUExUCxFQUFBWixVQUFBaVAsR0FBQSxXQUNBLElBQUFoSSxFQUFBak0sS0FBQThiLE1BQUF4RyxHQUNBLFlBQUF2VSxJQUFBa0wsRUFBQStCLEVBQUEvQixJQUdBMlAsVUFBQSxTQUFBaFcsRUFBQTBQLEVBQUFtRyxFQUFBQyxHQUNBLElBQUF6SCxFQWpCQSxNQWlCQWxVLEVBQUE0SixLQUFBcUYsWUFBQXNHLEdBRUExUCxFQUFBWixVQUFBaVAsR0FBQSxTQUFBaEksR0FXQSxPQVZBd1AsSUFDQXhQLEVBQUF3UCxFQUFBNWMsS0FBQW1CLEtBQUFpTSxJQUdBak0sS0FBQStiLFNBQUF6RyxFQUFBckosR0FFQXlQLEdBQ0FBLEVBQUE3YyxLQUFBbUIsTUFHQUEsT0FHQWdjLDBCQUFBLFNBQUFwVyxFQUFBMFAsRUFBQTJHLEVBQUFSLEVBQUFDLEdBQ0EsSUFJQTFkLEVBQUFrZSxFQUpBN1csRUFBQTRXLEVBQUFuZCxPQUNBcWQsRUFBQXBjLEVBQUE0SixLQUFBcUYsWUFDQW9OLEVBdENBLE1Bc0NBRCxFQUFBN0csR0FDQStHLEVBckNBLE1BcUNBRixFQUFBN0csR0FJQTFQLEVBQUFaLFVBQUFvWCxHQUFBLFdBQ0EsSUFBQWxGLEtBRUEsSUFBQWxaLEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxJQUVBa1osRUFEQWdGLEVBQUFELEVBQUFqZSxJQUNBZ0MsS0FBQXNjLFFBQUFoSCxFQUFBNkcsRUFBQUQsSUFHQSxPQUFBaEYsR0FJQXRSLEVBQUFaLFVBQUFxWCxHQUFBLFNBQUFwUSxHQUNBLElBQ0FWLEVBREFnUixFQUFBdmMsS0FBQThiLE1BQUF4RyxHQU9BLElBQUEvSixLQUpBa1EsSUFDQXhQLEVBQUF3UCxFQUFBNWMsS0FBQW1CLEtBQUFpTSxJQUdBQSxFQUNBak0sS0FBQStiLFNBQUF6RyxFQUFBNkcsRUFBQTVRLEdBQUFVLEVBQUFWLElBU0EsT0FOQXZMLEtBQUF3YyxpQkFBQWxILEVBQUFpSCxFQUFBdFEsR0FFQXlQLEdBQ0FBLEVBQUE3YyxLQUFBbUIsTUFHQUEsTUFHQUEsS0FBQTZiLDBCQUFBalcsRUFBQTBQLElBRUF1RywwQkFBQSxTQUFBalcsRUFBQTBQLEdBQ0EsSUFBQW1ILEVBQUExYyxFQUFBNEosS0FBQXFGLFlBQUFzRyxHQUNBK0csRUE5RUEsTUE4RUFJLEVBQ0FMLEVBakZBLE1BaUZBSyxFQUVBN1csRUFBQVosVUFBQXNRLEdBQUEsV0FFQSxPQUFBdlEsVUFBQWpHLFFBQ0FrQixLQUFBcWMsR0FBQXRYLFVBQUEsSUFDQS9FLE1BSUFBLEtBQUFvYyxPQUlBTSxXQUFBLFNBQUE5VyxFQUFBbUssR0FDQSxJQUFBeEUsRUFFQSxJQUFBQSxLQUFBd0UsRUFDQW5LLEVBQUFaLFVBQUF1RyxHQUFBM0YsRUFBQVosVUFBQStLLEVBQUF4RSxLQUdBb1IsZUFBQSxXQUNBM2MsS0FBQTRjLGlCQUFBLElBSUE3YyxFQUFBOGMsWUFJQUMsYUFBQSxTQUFBN1EsR0FDQSxPQUFBQSxFQUFBLElBQ0EsSUFDQUEsRUFBQSxFQUNBLEVBRUFoTSxLQUFBbU0sTUFBQUgsSUFHQThRLGVBQUEsU0FBQTlRLEdBQ0EsT0FBQUEsRUFBQSxFQUNBLEVBR0FBLEVBQUEsS0FDQSxLQUdBQSxJQW9CQTNNLEVBQUEsUUFNQUMsR0FBQSxNQUVBQyxHQUNBLGtCQUNBLGtCQUNBLHVCQUNBLHVCQUNBLHNCQUNBLHNCQUNBLHlCQUNBLHdCQUNBLHdCQUNBLG1DQUNBMk4sS0FsQkEsS0FxQkFwTixFQUFBNEosS0FBQW1HLFdBQUEvUCxFQUFBcUIsTUFDQUUsTUFBQSxTQUFBRCxHQUNBLElBQUEyVixFQUFBaFgsS0FDQUEsS0FBQStDLElBQUFoRCxFQUFBTSxZQUNBTCxLQUFBZ2Qsa0JBQ0FoZCxLQUFBOGIsU0FDQTliLEtBQUFpZCxVQUNBamQsS0FBQTRjLGlCQUFBLEVBQ0E1YyxLQUFBa2QsU0FBQTdiLEdBR0FyQixLQUFBbWQsR0FBQTNkLEVBQUEsV0FDQVEsS0FBQW9kLFlBL0JBLGFBZ0NBcEcsRUFBQXFHLDZCQWhEQSx1QkFrREFyZCxLQUFBbWQsR0FBQSx3QkFBQSxXQUNBbkcsRUFBQXFHLDZCQWpDQSxhQW1DQXJkLEtBQUFtZCxHQUFBLDBCQUFBLFdBQ0FuRyxFQUFBcUcsNkJBOUNBLGVBZ0RBcmQsS0FBQW1kLEdBQUEsd0JBQUEsV0FDQW5HLEVBQUFxRyw2QkExREEsc0JBNkRBRCxZQUFBLFNBQUE5SCxHQUNBQSxTQUNBdFYsS0FBQWlkLE9BQUEzSCxHQUdBdFYsS0FBQWlkLFdBR0FLLFVBQUEsU0FBQWhJLEVBQUFpSSxHQVFBLFlBSkF4YyxJQUhBZixLQUFBaWQsT0FBQTNILEtBSUF0VixLQUFBaWQsT0FBQTNILEdBQUFpSSxFQUFBMWUsS0FBQW1CLE9BR0FBLEtBQUFpZCxPQUFBM0gsSUFNQStILDZCQUFBLFNBQUEvSCxHQUNBdFYsS0FBQW9kLFlBQUE5SCxHQUVBdFYsS0FBQXdkLFVBQ0F4ZCxLQUFBeWQsY0FBQXhZLEtBQUEsU0FBQTVDLEdBQ0FBLEVBQUFnYiw2QkFBQS9ILE1BWUFvSSxXQUFBLFdBR0EsY0FGQTFkLEtBQUFpZCxPQUFBeFIsT0FDQXpMLEtBQUE0YyxpQkFBQSxFQUNBNWMsTUF1Q0EyZCxNQUFBLFNBQUF0YyxHQUNBLElBQUF3UixFQUFBeFIsTUFDQTZFLEVBQUEyTSxFQUFBM00sR0FBQSxFQUNBQyxFQUFBME0sRUFBQTFNLEdBQUEsRUFDQXlHLEVBQUFpRyxFQUFBakcsT0FBQTVNLEtBQUE0TSxRQUNBQyxFQUFBZ0csRUFBQWhHLFFBQUE3TSxLQUFBNk0sU0FDQStRLEVBQUEvSyxFQUFBK0ssYUFBQSxFQUVBLEdBQUEsSUFBQWhSLEdBQUEsSUFBQUMsRUFBQSxDQUlBLElBQUFnUixFQUFBLElBQUE5ZCxFQUFBNlMsYUFDQTlSLFdBQUEsRUFDQThMLE1BQUFBLEVBQ0FDLE9BQUFBLElBRUFpUixFQUFBLElBQUEvZCxFQUFBNlMsYUFDQTlSLFdBQUEsRUFDQThMLE1BQUFBLEVBQ0FDLE9BQUFBLElBRUFrUixFQUFBLElBQUFoZSxFQUFBaVQsV0FDQXBHLE1BQUFBLEVBQ0FDLE9BQUFBLElBRUFtUixFQUFBSCxFQUFBL1EsYUFDQW1SLEVBQUFGLEVBQUFqUixhQTJDQSxPQXpDQWlSLEVBQUFHLFNBQUEsRUFFQWxlLEtBQUEwZCxhQUVBTSxFQUFBdkgsT0FDQXdILEVBQUF4SCxPQUlBbUgsSUFDQUksRUFBQXZILE9BQ0F1SCxFQUFBeEksWUFDQXdJLEVBQUExSCxLQUFBLEVBQUEsRUFBQTFKLEVBQUFDLEdBQ0FtUixFQUFBckksWUFDQXFJLEVBQUFqSixRQUFBLGNBQUEsT0FDQWlKLEVBQUFqSixRQUFBLFlBQUEsR0FDQWlKLEVBQUFuSCxTQUNBbUgsRUFBQXhILFdBR0F3SCxFQUFBNVgsV0FBQSxFQUFBRixHQUFBLEVBQUFDLEdBQ0E4WCxFQUFBN1gsV0FBQSxFQUFBRixHQUFBLEVBQUFDLEdBR0EsVUFBQW5HLEtBQUE4SixXQUNBa1UsRUFBQTVYLFdBQUEsRUFBQXBHLEtBQUFrRyxLQUFBLEVBQUFsRyxLQUFBbUcsS0FDQThYLEVBQUE3WCxXQUFBLEVBQUFwRyxLQUFBa0csS0FBQSxFQUFBbEcsS0FBQW1HLE1BR0FuRyxLQUFBbWUsVUFBQU4sRUFBQTdkLE1BQ0FBLEtBQUFvZSxRQUFBTCxFQUFBL2QsTUFFQWdlLEVBQUF4SCxVQUNBeUgsRUFBQXpILFVBRUF4VyxLQUFBaWQsT0FBQXhSLFFBQ0E0UyxNQUFBUixFQUNBUyxPQUFBUixFQUNBUyxJQUFBUixHQUdBL2QsS0E3REFELEVBQUE0SixLQUFBMEYsS0FBQSx5RUErREFtUCx1QkFBQSxTQUFBcmYsR0FDQUEsRUFBQXNYLE9BQ0F6VyxLQUFBeWUsV0FBQUMsZ0JBQUExZSxLQUFBYixHQUNBQSxFQUFBNlYsY0FBQWhWLE1BQ0FiLEVBQUE2VyxVQUFBaFcsS0FBQTJlLHdCQUFBbE4sUUFBQSxFQUFBLEdBQ0F0UyxFQUFBcVgsV0FFQW1JLHNCQUFBLFdBQ0EsSUFLQXRaLEVBQUF1WixFQUFBNWdCLEVBTEE2Z0IsRUFBQTdlLEtBQUE2ZSxVQUNBQyxFQUFBOWUsS0FBQWlkLE9BQUF4UixPQUNBc1QsRUFBQUQsRUFBQVQsTUFDQVcsRUFBQUYsRUFBQVIsT0FDQVcsRUFBQUQsRUFBQWxTLGFBR0EsR0FBQStSLEVBQUEsQ0FDQSxJQUFBN2UsS0FBQTRjLGdCQUFBLENBQ0EsSUFRQSxJQVBBdlgsRUFBQXdaLEVBQUEvZixPQUNBbWdCLEVBQUF4SyxRQUVBd0ssRUFBQWpKLFVBQUErSSxFQUFBdE4sUUFBQSxFQUFBLEdBQ0FtTixFQUFBSyxFQUFBOUksYUFBQSxFQUFBLEVBQUE2SSxFQUFBNU0sV0FBQTRNLEVBQUEzTSxhQUdBclUsRUFBQSxFQUFBQSxFQUFBcUgsRUFBQXJILElBQ0E2Z0IsRUFBQTdnQixHQUNBYSxLQUFBbUIsS0FBQTRlLEdBQ0FLLEVBQUFsUyxhQUFBNlIsRUFBQSxFQUFBLEdBR0EsTUFBQTdnQixHQUNBZ0MsRUFBQTRKLEtBQUEwRixLQUFBLDJCQUFBdFIsRUFBQTRVLFNBR0EzUyxLQUFBNGMsaUJBQUEsRUFHQSxPQUFBb0MsRUFHQSxPQUFBRCxHQUdBRyxxQkFBQSxTQUFBL2YsR0FDQSxJQUNBK1QsRUFEQWxULEtBQUFpZCxPQUFBeFIsT0FDQThTLElBRUFwZixFQUFBc1gsT0FDQXpXLEtBQUF5ZSxXQUFBQyxnQkFBQTFlLEtBQUFiLEdBQ0FBLEVBQUE2VyxVQUFBOUMsRUFBQXpCLFFBQUEsRUFBQSxHQUNBdFMsRUFBQXFYLFdBMERBMkcsR0FBQSxTQUFBZ0MsRUFBQUMsR0FDQSxJQUVBcGhCLEVBQUFxaEIsRUFBQUMsRUFBQTVjLEVBRkE2YyxFQUFBSixFQUFBeGMsTUFyVEEsS0FzVEEwQyxFQUFBa2EsRUFBQXpnQixPQVFBLElBQUFkLEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxJQUdBc2hCLEdBREFELEVBREFFLEVBQUF2aEIsR0FDQTJFLE1BM1VBLE1BNFVBLEdBQ0FELEVBQUEyYyxFQUFBLElBNVVBLEdBK1VBcmYsS0FBQWdkLGVBQUFzQyxLQUNBdGYsS0FBQWdkLGVBQUFzQyxPQUdBdGYsS0FBQWdkLGVBQUFzQyxHQUFBemMsTUFDQUgsS0FBQUEsRUFDQTBjLFFBQUFBLElBSUEsT0FBQXBmLE1BdUJBd2YsSUFBQSxTQUFBTCxHQUNBLElBRUFuaEIsRUFBQUMsRUFBQW9oQixFQUFBQyxFQUFBNWMsRUFGQTZjLEdBQUFKLEdBQUEsSUFBQXhjLE1BdldBLEtBd1dBMEMsRUFBQWthLEVBQUF6Z0IsT0FHQSxJQUFBcWdCLEVBRUEsSUFBQWxoQixLQUFBK0IsS0FBQWdkLGVBQ0FoZCxLQUFBeWYsS0FBQXhoQixHQUdBLElBQUFELEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxJQU1BLEdBSEFzaEIsR0FEQUQsRUFEQUUsRUFBQXZoQixHQUNBMkUsTUE5WEEsTUErWEEsR0FDQUQsRUFBQTJjLEVBQUEsR0FFQUMsRUFDQXRmLEtBQUFnZCxlQUFBc0MsSUFDQXRmLEtBQUF5ZixLQUFBSCxFQUFBNWMsUUFJQSxJQUFBekUsS0FBQStCLEtBQUFnZCxlQUNBaGQsS0FBQXlmLEtBQUF4aEIsRUFBQXlFLEdBSUEsT0FBQTFDLE1BR0EwZixjQUFBLFNBQUFDLEdBQ0EsSUFBQTVoQixHQUNBNmhCLE9BQUE1ZixLQUNBNmYsS0FBQUYsRUFBQUUsS0FDQUYsSUFBQUEsR0FFQTNmLEtBQUE4ZixLQUFBSCxFQUFBRSxLQUFBOWhCLElBRUFnaUIsaUJBQUEsU0FBQUYsRUFBQVQsR0FFQXBmLEtBQUFtZCxHQUFBMEMsRUFBQSxTQUFBRixHQUNBUCxFQUFBdmdCLEtBQUFtQixLQUFBMmYsRUFBQUEsUUFHQUssb0JBQUEsU0FBQUgsR0FDQTdmLEtBQUF3ZixJQUFBSyxJQVVBSSxPQUFBLFdBQ0EsSUFBQXhRLEVBQUF6UCxLQUFBa2dCLFlBZ0JBLE9BZEF6USxHQUFBQSxFQUFBK04sV0FDQS9OLEVBQUErTixTQUFBdmEsT0FBQWpELEtBQUFtZ0IsTUFBQSxHQUNBMVEsRUFBQTJRLDZCQUNBcGdCLEtBQUF5UCxRQUtBelAsS0FBQXFkLDZCQXhhQSxTQXlhQXJkLEtBQUFxZCw2QkF4YkEscUJBeWJBcmQsS0FBQXFkLDZCQXZhQSxXQXdhQXJkLEtBQUFxZCw2QkFsYkEsYUFtYkFyZCxLQUFBcWQsNkJBNWJBLG1CQThiQXJkLE1BU0FxZ0IsUUFBQSxXQUVBdGdCLEVBQUF5QyxVQUFBeEMsS0FBQXNnQixTQUNBdmdCLEVBQUErQyxZQUFBOUMsS0FBQXVnQixVQUFBdmdCLEtBQUErQyxLQUVBL0MsS0FBQWlnQixVQVdBM0QsUUFBQSxTQUFBaEgsR0FDQSxJQUFBckIsRUFsZEEsTUFrZEFsVSxFQUFBNEosS0FBQXFGLFlBQUFzRyxHQUNBLE9BQUF2VixFQUFBNEosS0FBQUksWUFBQS9KLEtBQUFpVSxJQUNBalUsS0FBQWlVLEtBSUFqVSxLQUFBOGIsTUFBQXhHLElBYUFrTCxhQUFBLFdBSUEsSUFIQSxJQUFBL1EsRUFBQXpQLEtBQUFrZ0IsWUFDQU8sRUFBQSxJQUFBMWdCLEVBQUE2RSxXQUVBNkssR0FDQWdSLEVBQUE1ZCxLQUFBNE0sR0FDQUEsRUFBQUEsRUFBQXlRLFlBR0EsT0FBQU8sR0FRQUMsU0FBQSxXQUNBLE9BQUExZ0IsS0FBQThiLFdBY0FvQixTQUFBLFNBQUE3YixHQUNBLElBQUFrSyxFQUFBMEksRUFFQSxHQUFBNVMsRUFDQSxJQUFBa0ssS0FBQWxLLEVBNWdCQSxhQTZnQkFrSyxHQUFBbEssRUFBQWtLLGFBQUF4TCxFQUFBcUIsT0FJQTZTLEVBdmdCQSxNQXVnQkFsVSxFQUFBNEosS0FBQXFGLFlBQUF6RCxHQUVBeEwsRUFBQTRKLEtBQUFJLFlBQUEvSixLQUFBaVUsSUFDQWpVLEtBQUFpVSxHQUFBNVMsRUFBQWtLLElBSUF2TCxLQUFBK2IsU0FBQXhRLEVBQUFsSyxFQUFBa0ssS0FLQSxPQUFBdkwsTUFxQkEyZ0IsWUFBQSxXQUNBLE9BQUEzZ0IsS0FBQXNkLFVBN2lCQSxZQTZpQkF0ZCxLQUFBNGdCLGVBRUFBLGFBQUEsV0FDQSxJQUFBQyxFQUFBN2dCLEtBQUE4Z0IsZUFDQXJSLEVBQUF6UCxLQUFBa2dCLFlBSUEsTUFBQSxZQUFBVyxHQUNBcFIsR0FDQUEsRUFBQWtSLGNBT0FFLEdBc0JBRSxVQUFBLFdBQ0EsT0FBQS9nQixLQUFBc2QsVUEza0JBLFVBMmtCQXRkLEtBQUFnaEIsYUFFQUEsV0FBQSxXQUNBLElBQUFDLEVBQUFqaEIsS0FBQWtoQixhQUNBelIsRUFBQXpQLEtBQUFrZ0IsWUFJQSxNQUFBLFlBQUFlLEdBQ0F4UixHQUNBQSxFQUFBc1IsWUFPQUUsR0FVQUUsY0FBQSxTQUFBMVYsR0FDQSxJQUFBMlYsRUFBQXBoQixLQUFBeWUsV0FDQSxPQUFBaFQsR0FBQUEsRUFBQXlTLFNBQUFrRCxHQUFBQSxFQUFBQyxtQkFDQXJoQixLQUFBMmdCLGVBQUEzZ0IsS0FBQStnQixhQVFBTyxLQUFBLFdBRUEsT0FEQXRoQixLQUFBdWhCLFlBQUEsR0FDQXZoQixNQVFBd2hCLEtBQUEsV0FFQSxPQURBeGhCLEtBQUF1aEIsWUFBQSxHQUNBdmhCLE1BUUF5aEIsVUFBQSxXQUNBLE9BQUF6aEIsS0FBQW1nQixPQUFBLEdBU0F1QixrQkFBQSxXQUNBLElBR0ExZSxFQUFBcUMsRUFBQXJILEVBQUF3UixFQUhBbVMsRUFBQTNoQixLQUFBNGhCLFdBQ0E1SyxFQUFBaFgsS0FDQW1nQixFQUFBLEVBMkJBLE1BOXFCQSxVQTBxQkFuSixFQUFBbE4sVUFwQkEsU0FBQStYLEVBQUFyRSxHQUdBLElBRkF4YSxLQUNBcUMsRUFBQW1ZLEVBQUExZSxPQUNBZCxFQUFBLEVBQUFBLEVBQUFxSCxFQUFBckgsSUFDQXdSLEVBQUFnTyxFQUFBeGYsR0FDQW1pQixJQUVBM1EsRUFBQTFGLFdBQUF4SyxJQUNBMEQsRUFBQUEsRUFBQThlLE9BQUF0UyxFQUFBaU8sY0FBQXRZLFlBR0FxSyxFQUFBek0sTUFBQWlVLEVBQUFqVSxNQUNBL0UsRUFBQXFILEdBSUFyQyxFQUFBbEUsT0FBQSxHQUFBa0UsRUFBQSxHQUFBNGUsWUFBQUQsR0FDQUUsRUFBQTdlLEdBSUE2ZSxDQUFBN0ssRUFBQStLLFdBQUF0RSxlQUdBMEMsR0FVQXlCLFNBQUEsV0FJQSxJQUhBLElBQUFELEVBQUEsRUFDQWxTLEVBQUF6UCxLQUFBeVAsT0FFQUEsR0FDQWtTLElBQ0FsUyxFQUFBQSxFQUFBQSxPQUVBLE9BQUFrUyxHQUVBSyxZQUFBLFNBQUFDLEdBR0EsT0FGQWppQixLQUFBa2lCLEtBQUFELEVBQUEvYixHQUNBbEcsS0FBQW1pQixLQUFBRixFQUFBOWIsR0FDQW5HLE1BRUFvaUIsWUFBQSxXQUNBLE9BQ0FsYyxFQUFBbEcsS0FBQXFpQixPQUNBbGMsRUFBQW5HLEtBQUFzaUIsU0FTQUMsb0JBQUEsV0FDQSxJQUFBQyxFQUFBeGlCLEtBQUF5aUIsdUJBQUExYSxZQUNBMmEsRUFBQSxJQUFBM2lCLEVBQUErRixVQUNBb1YsRUFBQWxiLEtBQUFrYixTQU1BLE9BSEF3SCxFQUFBM2MsRUFBQXljLEVBQUExZCxRQUNBNGQsRUFBQXRjLFVBQUE4VSxFQUFBaFYsRUFBQWdWLEVBQUEvVSxHQUVBdWMsRUFBQXpiLGtCQVdBZSxvQkFBQSxTQUFBaWEsR0FDQSxJQUNBVSxFQURBQyxFQUFBNWlCLEtBQUE2aUIsa0JBc0JBLE9BbEJBN2lCLEtBQUE4YixNQUFBNVYsRUFBQTBjLEVBQUExYyxFQUNBbEcsS0FBQThiLE1BQUEzVixFQUFBeWMsRUFBQXpjLFNBQ0F5YyxFQUFBMWMsU0FDQTBjLEVBQUF6YyxHQUdBd2MsRUFBQTNpQixLQUFBeWlCLHdCQUVBbGIsU0FDQW9iLEVBQUF2YyxVQUFBNmIsRUFBQS9iLEVBQUErYixFQUFBOWIsR0FDQThiLEdBQ0EvYixFQUFBbEcsS0FBQThiLE1BQUE1VixFQUFBeWMsRUFBQTFiLGlCQUFBZixFQUNBQyxFQUFBbkcsS0FBQThiLE1BQUEzVixFQUFBd2MsRUFBQTFiLGlCQUFBZCxHQUdBbkcsS0FBQWdpQixhQUFBOWIsRUFBQStiLEVBQUEvYixFQUFBQyxFQUFBOGIsRUFBQTliLElBQ0FuRyxLQUFBOGlCLGNBQUFGLEdBRUE1aUIsTUFFQThpQixjQUFBLFNBQUFDLEdBQ0EsSUFBQXhYLEVBRUEsSUFBQUEsS0FBQXdYLEVBQ0EvaUIsS0FBQThiLE1BQUF2USxHQUFBd1gsRUFBQXhYLEdBR0F2TCxLQUFBb2QsWUF4d0JBLGFBeXdCQXBkLEtBQUFxZCw2QkF6eEJBLHNCQTJ4QkF3RixnQkFBQSxXQUNBLElBQUFFLEdBQ0E3YyxFQUFBbEcsS0FBQXFpQixPQUNBbGMsRUFBQW5HLEtBQUFzaUIsT0FDQVUsU0FBQWhqQixLQUFBaWpCLGNBQ0FDLE9BQUFsakIsS0FBQW1qQixZQUNBQyxPQUFBcGpCLEtBQUFxakIsWUFDQUMsUUFBQXRqQixLQUFBdWpCLGFBQ0FDLFFBQUF4akIsS0FBQXlqQixhQUNBQyxNQUFBMWpCLEtBQUEyakIsV0FDQUMsTUFBQTVqQixLQUFBNmpCLFlBaUJBLE9BZEE3akIsS0FBQThiLE1BQUE1VixFQUFBLEVBQ0FsRyxLQUFBOGIsTUFBQTNWLEVBQUEsRUFDQW5HLEtBQUE4YixNQUFBa0gsU0FBQSxFQUNBaGpCLEtBQUE4YixNQUFBb0gsT0FBQSxFQUNBbGpCLEtBQUE4YixNQUFBc0gsT0FBQSxFQUNBcGpCLEtBQUE4YixNQUFBd0gsUUFBQSxFQUNBdGpCLEtBQUE4YixNQUFBMEgsUUFBQSxFQUNBeGpCLEtBQUE4YixNQUFBNEgsTUFBQSxFQUNBMWpCLEtBQUE4YixNQUFBOEgsTUFBQSxFQUVBNWpCLEtBQUFvZCxZQWx5QkEsYUFteUJBcGQsS0FBQXFkLDZCQW56QkEscUJBc3pCQTBGLEdBaUJBZSxLQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQTdkLEVBQ0ErZCxFQUFBRixFQUFBNWQsRUFDQUQsRUFBQWxHLEtBQUFxaUIsT0FDQWxjLEVBQUFuRyxLQUFBc2lCLE9BV0EsWUFUQXZoQixJQUFBaWpCLElBQ0E5ZCxHQUFBOGQsUUFHQWpqQixJQUFBa2pCLElBQ0E5ZCxHQUFBOGQsR0FHQWprQixLQUFBZ2lCLGFBQUE5YixFQUFBQSxFQUFBQyxFQUFBQSxJQUNBbkcsTUFFQWtrQixxQkFBQSxTQUFBaGYsRUFBQTZNLEdBQ0EsSUFFQTFNLEVBQUFySCxFQUZBbW1CLEtBQ0ExVSxFQUFBelAsS0FBQWtnQixZQU1BLEdBQUFuTyxHQUFBQSxFQUFBaFAsTUFBQS9DLEtBQUErQyxJQUVBLE9BREFtQyxFQUFBbEYsT0FDQSxFQUtBLElBRkFta0IsRUFBQUMsUUFBQXBrQixNQUVBeVAsS0FBQXNDLEdBQUF0QyxFQUFBMU0sTUFBQWdQLEVBQUFoUCxNQUNBb2hCLEVBQUFDLFFBQUEzVSxHQUNBQSxFQUFBQSxFQUFBQSxPQUlBLElBREFwSyxFQUFBOGUsRUFBQXJsQixPQUNBZCxFQUFBLEVBQUFBLEVBQUFxSCxFQUFBckgsSUFDQWtILEVBQUFpZixFQUFBbm1CLEtBVUF3SSxPQUFBLFNBQUE2ZCxHQUVBLE9BREFya0IsS0FBQXNrQixZQUFBdGtCLEtBQUFpakIsY0FBQW9CLEdBQ0Fya0IsTUFRQXVrQixVQUFBLFdBQ0EsR0FBQXZrQixLQUFBeVAsT0FBQSxDQUlBLElBQUEwUSxFQUFBbmdCLEtBQUFtZ0IsTUFJQSxPQUhBbmdCLEtBQUF5UCxPQUFBK04sU0FBQXZhLE9BQUFrZCxFQUFBLEdBQ0FuZ0IsS0FBQXlQLE9BQUErTixTQUFBM2EsS0FBQTdDLE1BQ0FBLEtBQUF5UCxPQUFBMlEsdUJBQ0EsRUFQQXJnQixFQUFBNEosS0FBQTBGLEtBQUEsdURBZUFtVixPQUFBLFdBQ0EsR0FBQXhrQixLQUFBeVAsT0FBQSxDQUlBLElBQUEwUSxFQUFBbmdCLEtBQUFtZ0IsTUFFQSxPQUFBQSxFQURBbmdCLEtBQUF5UCxPQUFBZ08sY0FBQTNlLE9BQ0EsSUFDQWtCLEtBQUF5UCxPQUFBK04sU0FBQXZhLE9BQUFrZCxFQUFBLEdBQ0FuZ0IsS0FBQXlQLE9BQUErTixTQUFBdmEsT0FBQWtkLEVBQUEsRUFBQSxFQUFBbmdCLE1BQ0FBLEtBQUF5UCxPQUFBMlEsdUJBQ0EsR0FUQXJnQixFQUFBNEosS0FBQTBGLEtBQUEsb0RBbUJBb1YsU0FBQSxXQUNBLEdBQUF6a0IsS0FBQXlQLE9BQUEsQ0FJQSxJQUFBMFEsRUFBQW5nQixLQUFBbWdCLE1BQ0EsT0FBQUEsRUFBQSxJQUNBbmdCLEtBQUF5UCxPQUFBK04sU0FBQXZhLE9BQUFrZCxFQUFBLEdBQ0FuZ0IsS0FBQXlQLE9BQUErTixTQUFBdmEsT0FBQWtkLEVBQUEsRUFBQSxFQUFBbmdCLE1BQ0FBLEtBQUF5UCxPQUFBMlEsdUJBQ0EsR0FSQXJnQixFQUFBNEosS0FBQTBGLEtBQUEsc0RBa0JBcVYsYUFBQSxXQUNBLEdBQUExa0IsS0FBQXlQLE9BQUEsQ0FJQSxJQUFBMFEsRUFBQW5nQixLQUFBbWdCLE1BQ0EsT0FBQUEsRUFBQSxJQUNBbmdCLEtBQUF5UCxPQUFBK04sU0FBQXZhLE9BQUFrZCxFQUFBLEdBQ0FuZ0IsS0FBQXlQLE9BQUErTixTQUFBNEcsUUFBQXBrQixNQUNBQSxLQUFBeVAsT0FBQTJRLHVCQUNBLEdBUkFyZ0IsRUFBQTRKLEtBQUEwRixLQUFBLDBEQW1CQXNWLFVBQUEsU0FBQUMsR0FDQSxHQUFBNWtCLEtBQUF5UCxPQUFBLENBSUEsSUFBQTBRLEVBQUFuZ0IsS0FBQW1nQixNQUlBLE9BSEFuZ0IsS0FBQXlQLE9BQUErTixTQUFBdmEsT0FBQWtkLEVBQUEsR0FDQW5nQixLQUFBeVAsT0FBQStOLFNBQUF2YSxPQUFBMmhCLEVBQUEsRUFBQTVrQixNQUNBQSxLQUFBeVAsT0FBQTJRLHNCQUNBcGdCLEtBUEFELEVBQUE0SixLQUFBMEYsS0FBQSxxREFlQTZGLG1CQUFBLFdBQ0EsT0FBQWxWLEtBQUFzZCxVQXArQkEsa0JBbytCQXRkLEtBQUE2a0Isc0JBRUFBLG9CQUFBLFdBQ0EsSUFBQTVQLEVBQUFqVixLQUFBOGtCLGFBSUEsT0FIQTlrQixLQUFBa2dCLGNBQ0FqTCxHQUFBalYsS0FBQWtnQixZQUFBaEwsc0JBRUFELEdBWUFvQixPQUFBLFNBQUEwTyxHQU1BLE9BSkEva0IsS0FBQWtnQixjQUFBNkUsSUFDQS9rQixLQUFBaWdCLFNBQ0E4RSxFQUFBQyxJQUFBaGxCLE9BRUFBLE1BUUFpbEIsU0FBQSxXQUNBLElBR0ExWixFQUFBVSxFQUFBbVEsRUFBQThJLEVBSEFyRixFQUFBOWYsRUFBQTRKLEtBQ0FFLEtBQ0FpUyxFQUFBOWIsS0FBQTBnQixXQU1BLElBQUFuVixLQUhBMUIsRUFBQWlTLFNBR0FBLEVBQ0E3UCxFQUFBNlAsRUFBQXZRLEdBQ0FzVSxFQUFBOVYsWUFBQWtDLElBQUE0VCxFQUFBalcsV0FBQXFDLElBQUE0VCxFQUFBN1YsVUFBQWlDLElBQUE0VCxFQUFBdlUsWUFBQVcsS0FDQW1RLEVBQUFwYyxLQUFBdUwsVUFFQXVRLEVBQUF2USxHQUNBMlosRUFBQTlJLEVBQUFBLEVBQUF2ZCxLQUFBbUIsTUFBQSxLQUVBOGIsRUFBQXZRLEdBQUFVLEVBQ0FpWixJQUFBalosSUFDQXBDLEVBQUFpUyxNQUFBdlEsR0FBQVUsSUFNQSxPQURBcEMsRUFBQXNiLFVBQUFubEIsS0FBQW9sQixlQUNBdmIsR0FRQXdiLE9BQUEsV0FDQSxPQUFBQyxLQUFBQyxVQUFBdmxCLEtBQUFpbEIsYUFRQS9FLFVBQUEsV0FDQSxPQUFBbGdCLEtBQUF5UCxRQVFBZ1AsU0FBQSxXQUNBLElBQUFoUCxFQUFBelAsS0FBQWtnQixZQUNBLE9BQUF6USxFQUFBQSxFQUFBZ1AsV0FBQSxNQVFBc0QsU0FBQSxXQUNBLE9BQUEvaEIsS0FBQXNkLFVBbmpDQSxRQW1qQ0F0ZCxLQUFBd2xCLFlBRUFBLFVBQUEsV0FDQSxJQUFBL1YsRUFBQXpQLEtBQUFrZ0IsWUFDQSxPQUFBelEsRUFDQUEsRUFBQXNTLGdCQUdBLEdBMkJBakMsS0FBQSxTQUFBMkYsRUFBQTlGLEVBQUErRixHQVNBLE9BUEFBLEVBQ0ExbEIsS0FBQTJsQixlQUFBRixFQUFBOUYsT0FJQTNmLEtBQUE0bEIsTUFBQUgsRUFBQTlGLE9BRUEzZixNQVNBeWlCLHFCQUFBLFNBQUExUSxHQUVBLE9BQUFBLEVBQ0EvUixLQUFBNmxCLHNCQUFBOVQsR0FJQS9SLEtBQUFzZCxVQTluQ0Esb0JBOG5DQXRkLEtBQUE2bEIsd0JBR0FBLHNCQUFBLFNBQUE5VCxHQUNBLElBQ0ErVCxFQUFBL0MsRUFEQWdELEVBQUEsSUFBQWhtQixFQUFBK0YsVUFlQSxPQVhBOUYsS0FBQWtrQixxQkFBQSxTQUFBN2hCLEdBQ0F5akIsRUFBQXpqQixFQUFBeWpCLG9CQUNBL0MsRUFBQTFnQixFQUFBMmpCLGVBRUEsUUFBQUYsRUFDQUMsRUFBQTVlLFNBQUE0YixHQUVBLGFBQUErQyxHQUNBQyxFQUFBM2YsVUFBQS9ELEVBQUE2RCxJQUFBN0QsRUFBQThELE1BRUE0TCxHQUNBZ1UsR0FRQUMsYUFBQSxXQUNBLE9BQUFobUIsS0FBQXNkLFVBMW9DQSxZQTBvQ0F0ZCxLQUFBaW1CLGdCQUVBQSxjQUFBLFdBQ0EsSUFBQWxnQixFQUFBLElBQUFoRyxFQUFBK0YsVUFDQUksRUFBQWxHLEtBQUFxaUIsT0FDQWxjLEVBQUFuRyxLQUFBc2lCLE9BQ0FVLEVBQUFqakIsRUFBQW1ELFNBQUFsRCxLQUFBaWpCLGVBQ0FDLEVBQUFsakIsS0FBQW1qQixZQUNBQyxFQUFBcGpCLEtBQUFxakIsWUFDQUssRUFBQTFqQixLQUFBMmpCLFdBQ0FDLEVBQUE1akIsS0FBQTZqQixXQUNBUCxFQUFBdGpCLEtBQUF1akIsYUFDQUMsRUFBQXhqQixLQUFBeWpCLGFBa0JBLE9BaEJBLElBQUF2ZCxHQUFBLElBQUFDLEdBQ0FKLEVBQUFLLFVBQUFGLEVBQUFDLEdBRUEsSUFBQTZjLEdBQ0FqZCxFQUFBUyxPQUFBd2MsR0FFQSxJQUFBVSxHQUFBLElBQUFFLEdBQ0E3ZCxFQUFBbUIsS0FBQXdjLEVBQUFFLEdBRUEsSUFBQVYsR0FBQSxJQUFBRSxHQUNBcmQsRUFBQU0sTUFBQTZjLEVBQUFFLEdBRUEsSUFBQUUsR0FBQSxJQUFBRSxHQUNBemQsRUFBQUssV0FBQSxFQUFBa2QsR0FBQSxFQUFBRSxHQUdBemQsR0FtQkFtZ0IsTUFBQSxTQUFBcmMsR0FFQSxJQUVBMEIsRUFBQTRhLEVBQUE5Z0IsRUFBQXJILEVBQUFvb0IsRUFGQWpCLEVBQUFubEIsS0FBQW9sQixlQUNBdEosRUFBQS9iLEVBQUE0SixLQUFBZ0YsWUFBQTNPLEtBQUE4YixPQUdBLElBQUEsSUFBQTNkLEtBQUFvQixTQUVBdWMsRUFEQXZjLEVBQUFwQixJQUlBLElBQUFvTixLQUFBMUIsRUFDQWlTLEVBQUF2USxHQUFBMUIsRUFBQTBCLEdBR0EsSUFBQWxKLEVBQUEsSUFBQXRDLEVBQUFvbEIsR0FBQXJKLEdBRUEsSUFBQXZRLEtBQUF2TCxLQUFBZ2QsZUFHQSxJQURBM1gsR0FEQThnQixFQUFBbm1CLEtBQUFnZCxlQUFBelIsSUFDQXpNLE9BQ0FkLEVBQUEsRUFBQUEsRUFBQXFILEVBQUFySCxLQUNBb29CLEVBQUFELEVBQUFub0IsSUFLQTBFLEtBQUFnQixRQTl0Q0EsV0E4dENBLElBRUFyQixFQUFBMmEsZUFBQXpSLEtBQ0FsSixFQUFBMmEsZUFBQXpSLE9BRUFsSixFQUFBMmEsZUFBQXpSLEdBQUExSSxLQUFBdWpCLElBSUEsT0FBQS9qQixHQW9CQTJLLFVBQUEsU0FBQTNMLEdBR0EsSUFBQW1SLEdBRkFuUixFQUFBQSxPQUVBbVIsVUFBQSxLQUNBQyxFQUFBcFIsRUFBQW9SLFNBQUEsS0FDQTRULEVBQUFybUIsS0FBQStoQixXQUNBN2IsRUFBQTdFLEVBQUE2RSxHQUFBLEVBQ0FDLEVBQUE5RSxFQUFBOEUsR0FBQSxFQUNBc0YsRUFBQSxJQUFBMUwsRUFBQTZTLGFBQ0FoRyxNQUFBdkwsRUFBQXVMLE9BQUE1TSxLQUFBb1MsYUFBQWlVLEVBQUFBLEVBQUFqVSxXQUFBLEdBQ0F2RixPQUFBeEwsRUFBQXdMLFFBQUE3TSxLQUFBcVMsY0FBQWdVLEVBQUFBLEVBQUFoVSxZQUFBLEdBQ0F2UixXQUFBLElBRUEzQixFQUFBc00sRUFBQXFCLGFBV0EsT0FUQTNOLEVBQUFzWCxRQUVBdlEsR0FBQUMsSUFDQWhILEVBQUFpSCxXQUFBLEVBQUFGLEdBQUEsRUFBQUMsR0FHQW5HLEtBQUFtZSxVQUFBMVMsR0FDQXRNLEVBQUFxWCxVQUVBL0ssRUFBQXVCLFVBQUF3RixFQUFBQyxJQTBCQTZULFFBQUEsU0FBQWpsQixHQUNBdEIsRUFBQTRKLEtBQUEwQyxVQUFBck0sS0FBQWdOLFVBQUEzTCxHQUFBLFNBQUFrbEIsR0FDQWxsQixFQUFBa0wsU0FBQWdhLE1BR0FwVSxRQUFBLFNBQUFxVSxHQUdBLE9BRkF4bUIsS0FBQXNTLFNBQUFrVSxFQUFBNVosT0FDQTVNLEtBQUF1UyxVQUFBaVUsRUFBQTNaLFFBQ0E3TSxNQUVBeW1CLFFBQUEsV0FDQSxPQUNBN1osTUFBQTVNLEtBQUFvUyxXQUNBdkYsT0FBQTdNLEtBQUFxUyxjQUdBRCxTQUFBLFdBQ0EsT0FBQXBTLEtBQUE4YixNQUFBbFAsT0FBQSxHQUVBeUYsVUFBQSxXQUNBLE9BQUFyUyxLQUFBOGIsTUFBQWpQLFFBQUEsR0FRQXVZLGFBQUEsV0FDQSxPQUFBcGxCLEtBQUFtbEIsV0FBQW5sQixLQUFBOEosVUFRQTRjLFFBQUEsV0FDQSxPQUFBMW1CLEtBQUE4SixVQUVBNmMsZ0JBQUEsV0FFQSxZQUFBNWxCLElBQUFmLEtBQUE4YixNQUFBOWEsYUFDQWhCLEtBQUE4YixNQUFBOWEsYUFDQWhCLEtBQUF5UCxPQUNBelAsS0FBQXlQLE9BQUFrWCxrQkFFQTVtQixFQUFBaUIsY0FHQTRsQixLQUFBLFNBQUFDLEdBQ0EsT0FBQTdtQixLQUFBbWxCLFlBQUEwQixHQUFBN21CLEtBQUE4SixXQUFBK2MsR0FBQTdtQixVQUVBeWYsS0FBQSxTQUFBSSxFQUFBbmQsR0FDQSxJQUNBdkUsRUFBQTJvQixFQURBQyxFQUFBL21CLEtBQUFnZCxlQUFBNkMsR0FHQSxJQUFBMWhCLEVBQUEsRUFBQUEsRUFBQTRvQixFQUFBam9CLE9BQUFYLElBTUEsS0FBQSxhQUxBMm9CLEVBQUFDLEVBQUE1b0IsR0FBQXVFLE9BS0EsWUFBQUEsR0FBQUEsR0FBQW9rQixJQUFBcGtCLEdBQUEsQ0FFQSxHQURBcWtCLEVBQUE5akIsT0FBQTlFLEVBQUEsR0FDQSxJQUFBNG9CLEVBQUFqb0IsT0FBQSxRQUNBa0IsS0FBQWdkLGVBQUE2QyxHQUNBLE1BRUExaEIsTUFJQXFlLGlCQUFBLFNBQUFsSCxFQUFBaUgsRUFBQXlLLEdBQ0FobkIsS0FBQTRsQixNQUFBdFEsRUE3M0NBLFVBODNDQWlILE9BQUFBLEVBQ0F5SyxPQUFBQSxLQUdBQyxNQUFBLFNBQUExa0IsR0FDQSxJQUFBMmtCLEVBQUFsbkIsS0FBQXNnQixRQUtBLE9BSEF2Z0IsRUFBQXlDLFVBQUEwa0IsR0FDQW5uQixFQUFBdUMsT0FBQXRDLEtBQUF1QyxHQUNBdkMsS0FBQStiLFNBbDRDQSxLQWs0Q0F4WixHQUNBdkMsTUFFQW1uQixRQUFBLFNBQUF6a0IsR0FDQSxJQUFBMGtCLEVBQUFwbkIsS0FBQXVnQixVQUtBLE9BSEF4Z0IsRUFBQStDLFlBQUFza0IsRUFBQXBuQixLQUFBK0MsS0FDQWhELEVBQUEwQyxTQUFBekMsS0FBQTBDLEdBQ0ExQyxLQUFBK2IsU0FyNENBLE9BcTRDQXJaLEdBQ0ExQyxNQVlBK1UsUUFBQSxTQUFBTyxFQUFBckosR0FDQSxJQUNBL0csRUFBQWxGLEtBbjVDQSxNQWs1Q0FELEVBQUE0SixLQUFBcUYsWUFBQXNHLElBVUEsT0FQQXZWLEVBQUE0SixLQUFBSSxZQUFBN0UsR0FDQUEsRUFBQXJHLEtBQUFtQixLQUFBaU0sR0FJQWpNLEtBQUErYixTQUFBekcsRUFBQXJKLEdBRUFqTSxNQUVBK2IsU0FBQSxTQUFBeFEsRUFBQVUsR0FDQSxJQUFBc1EsT0FDQXhiLElBQUFrTCxJQUNBc1EsRUFBQXZjLEtBQUE4YixNQUFBdlEsR0FDQXZMLEtBQUE4YixNQUFBdlEsR0FBQVUsRUFDQWpNLEtBQUF3YyxpQkFBQWpSLEVBQUFnUixFQUFBdFEsS0FHQW9iLGtCQUFBLFNBQUE5YixFQUFBMlEsRUFBQWpRLEdBQ0EsSUFBQXNRLE9BQ0F4YixJQUFBa0wsS0FDQXNRLEVBQUF2YyxLQUFBOGIsTUFBQXZRLE1BSUF2TCxLQUFBOGIsTUFBQXZRLEdBQUF2TCxLQUFBc2MsUUFBQS9RLElBR0F2TCxLQUFBOGIsTUFBQXZRLEdBQUEyUSxHQUFBalEsRUFDQWpNLEtBQUF3YyxpQkFBQWpSLEVBQUFnUixFQUFBdFEsS0FHQTBaLGVBQUEsU0FBQUYsRUFBQTlGLEVBQUEySCxHQUNBLElBQUFDLEdBQUEsRUFZQSxHQVZBNUgsR0FBQTNmLEtBQUE4SixXQUFBeEssSUFDQXFnQixFQUFBQyxPQUFBNWYsTUEzN0NBLGVBODdDQXlsQixHQUFBNkIsSUFBQXRuQixLQUFBK0MsTUFBQXVrQixFQUFBdmtCLEtBQUEvQyxLQUFBd25CLGNBQUF4bkIsS0FBQXduQixhQUFBRixJQUNBQyxHQUFBLEVBOTdDQSxlQWc4Q0E5QixHQUFBNkIsSUFBQXRuQixLQUFBK0MsTUFBQXVrQixFQUFBdmtCLEtBQUEvQyxLQUFBd25CLGNBQUF4bkIsS0FBQXduQixhQUFBRixNQUNBQyxHQUFBLEdBRUFBLEVBQUEsQ0FDQXZuQixLQUFBNGxCLE1BQUFILEVBQUE5RixHQUdBLElBQUE4SCxHQXg4Q0EsZUF3OENBaEMsR0F2OENBLGVBdThDQUEsS0FBQTZCLEdBQUFBLEVBQUFFLGNBQUFGLEVBQUFFLGFBQUF4bkIsVUFBQXNuQixJQUFBQSxFQUFBRSxlQUNBN0gsSUFBQUEsRUFBQStILGNBQUExbkIsS0FBQXlQLFFBQUF6UCxLQUFBeVAsT0FBQWtSLGdCQUFBOEcsSUFDQUgsR0FBQUEsRUFBQTdYLE9BQ0F6UCxLQUFBMmxCLGVBQUE5bUIsS0FBQW1CLEtBQUF5UCxPQUFBZ1csRUFBQTlGLEVBQUEySCxFQUFBN1gsUUFHQXpQLEtBQUEybEIsZUFBQTltQixLQUFBbUIsS0FBQXlQLE9BQUFnVyxFQUFBOUYsTUFLQWlHLE1BQUEsU0FBQUgsRUFBQTlGLEdBQ0EsSUFDQXhoQixFQURBb2hCLEVBQUF2ZixLQUFBZ2QsZUFBQXlJLEdBS0EsR0FGQTlGLEVBQUFFLEtBQUE0RixFQUVBbEcsRUFDQSxJQUFBcGhCLEVBQUEsRUFBQUEsRUFBQW9oQixFQUFBemdCLE9BQUFYLElBQ0FvaEIsRUFBQXBoQixHQUFBaWhCLFFBQUF2Z0IsS0FBQW1CLEtBQUEyZixJQVVBZ0ksS0FBQSxXQUdBLE9BRkEzbkIsS0FBQW1lLFlBQ0FuZSxLQUFBb2UsVUFDQXBlLFFBaUJBRCxFQUFBcUIsS0FBQXdtQixPQUFBLFNBQUFDLEVBQUFDLEdBQ0EsT0FBQTluQixLQUFBK25CLFlBQUF6QyxLQUFBMEMsTUFBQUgsR0FBQUMsSUFFQS9uQixFQUFBcUIsS0FBQTJtQixZQUFBLFNBQUFsZSxFQUFBaWUsR0FDQSxJQUVBRyxFQUFBNWlCLEVBQUFySCxFQUZBbW5CLEVBQUFwbEIsRUFBQXFCLEtBQUE0RCxVQUFBb2dCLGFBQUF2bUIsS0FBQWdMLEdBQ0EyVCxFQUFBM1QsRUFBQTJULFNBU0EsR0FMQXNLLElBQ0FqZSxFQUFBaVMsTUFBQWdNLFVBQUFBLEdBR0FHLEVBQUEsSUFBQWxvQixFQUFBb2xCLEdBQUF0YixFQUFBaVMsT0FDQTBCLEVBRUEsSUFEQW5ZLEVBQUFtWSxFQUFBMWUsT0FDQWQsRUFBQSxFQUFBQSxFQUFBcUgsRUFBQXJILElBQ0FpcUIsRUFBQWpELElBQUFobEIsS0FBQStuQixZQUFBdkssRUFBQXhmLEtBSUEsT0FBQWlxQixHQU1BbG9CLEVBQUF3YixRQUFBTSwwQkFBQTliLEVBQUFxQixLQUFBLFlBcUJBckIsRUFBQXdiLFFBQUFDLGdCQUFBemIsRUFBQXFCLEtBQUEsSUFBQSxHQWlCQXJCLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLElBQUEsR0FpQkFyQixFQUFBd2IsUUFBQUMsZ0JBQUF6YixFQUFBcUIsS0FBQSxVQUFBLEdBbUJBckIsRUFBQXdiLFFBQUFJLFVBQUE1YixFQUFBcUIsS0FBQSxRQUNBckIsRUFBQXdiLFFBQUFNLDBCQUFBOWIsRUFBQXFCLEtBQUEsUUFvQkFyQixFQUFBd2IsUUFBQUksVUFBQTViLEVBQUFxQixLQUFBLE1BQ0FyQixFQUFBd2IsUUFBQU0sMEJBQUE5YixFQUFBcUIsS0FBQSxNQWlCQXJCLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLFdBQUEsR0FpQkFyQixFQUFBd2IsUUFBQVMsMEJBQUFqYyxFQUFBcUIsS0FBQSxTQUFBLElBQUEsTUFzQkFyQixFQUFBd2IsUUFBQUMsZ0JBQUF6YixFQUFBcUIsS0FBQSxTQUFBLEdBaUJBckIsRUFBQXdiLFFBQUFDLGdCQUFBemIsRUFBQXFCLEtBQUEsU0FBQSxHQWlCQXJCLEVBQUF3YixRQUFBUywwQkFBQWpjLEVBQUFxQixLQUFBLFFBQUEsSUFBQSxNQXNCQXJCLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLFFBQUEsR0FpQkFyQixFQUFBd2IsUUFBQUMsZ0JBQUF6YixFQUFBcUIsS0FBQSxRQUFBLEdBaUJBckIsRUFBQXdiLFFBQUFTLDBCQUFBamMsRUFBQXFCLEtBQUEsVUFBQSxJQUFBLE1BcUJBckIsRUFBQXdiLFFBQUFDLGdCQUFBemIsRUFBQXFCLEtBQUEsVUFBQSxHQWlCQXJCLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLFVBQUEsR0FpQkFyQixFQUFBd2IsUUFBQUssVUFBQTdiLEVBQUFxQixLQUFBLGdCQUNBckIsRUFBQXdiLFFBQUFNLDBCQUFBOWIsRUFBQXFCLEtBQUEsZ0JBcUJBckIsRUFBQXdiLFFBQUFLLFVBQUE3YixFQUFBcUIsS0FBQSxRQUFBLEdBQ0FyQixFQUFBd2IsUUFBQU0sMEJBQUE5YixFQUFBcUIsS0FBQSxTQWdCQXJCLEVBQUF3YixRQUFBSyxVQUFBN2IsRUFBQXFCLEtBQUEsU0FBQSxHQUNBckIsRUFBQXdiLFFBQUFNLDBCQUFBOWIsRUFBQXFCLEtBQUEsVUFnQkFyQixFQUFBd2IsUUFBQUMsZ0JBQUF6YixFQUFBcUIsS0FBQSxZQUFBLFdBdUJBckIsRUFBQXdiLFFBQUFDLGdCQUFBemIsRUFBQXFCLEtBQUEsZUFBQUwsRUFBQSxTQUFBa0wsR0FBQSxPQUFBak0sS0FBQTRjLGlCQUFBLEVBQUEzUSxJQXlCQWxNLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLFVBQUEsV0F3QkFyQixFQUFBd2IsUUFBQUMsZ0JBQUF6YixFQUFBcUIsS0FBQSxvQkFBQSxPQXlDQXJCLEVBQUF3YixRQUFBTSwwQkFBQTliLEVBQUFxQixLQUFBLFFBRUFyQixFQUFBd2IsUUFBQW1CLFdBQUEzYyxFQUFBcUIsTUFDQThtQixVQUFBLFNBQ0FDLGVBQUEsY0FDQUMsZUFBQSxnQkFHQXJvQixFQUFBNkUsV0FBQWUsV0FBQTVGLEVBQUFxQixNQVlBckIsRUFBQW9CLFFBQUFrbkIsVUFBQSxTQUFBekosR0FDQSxJQUVBemdCLEVBQUFtcUIsRUFGQTNiLEVBQUFpUyxFQUFBalMsS0FDQXRILEVBQUFzSCxFQUFBN04sT0FHQSxJQUFBWCxFQUFBLEVBQUFBLEVBQUFrSCxFQUFBbEgsR0FBQSxFQUNBbXFCLEVBQUEsSUFBQTNiLEVBQUF4TyxHQUFBLEdBQUF3TyxFQUFBeE8sRUFBQSxHQUFBLElBQUF3TyxFQUFBeE8sRUFBQSxHQUVBd08sRUFBQXhPLEdBQUFtcUIsRUFFQTNiLEVBQUF4TyxFQUFBLEdBQUFtcUIsRUFFQTNiLEVBQUF4TyxFQUFBLEdBQUFtcUIsR0FlQXZvQixFQUFBb0IsUUFBQW9uQixTQUFBLFNBQUEzSixHQUNBLElBR0F6Z0IsRUFIQW1xQixFQUFBLElBQUF0b0IsS0FBQXNvQixhQUNBM2IsRUFBQWlTLEVBQUFqUyxLQUNBdEgsRUFBQXNILEVBQUE3TixPQUdBLElBQUFYLEVBQUEsRUFBQUEsRUFBQWtILEVBQUFsSCxHQUFBLEVBRUF3TyxFQUFBeE8sSUFBQW1xQixFQUVBM2IsRUFBQXhPLEVBQUEsSUFBQW1xQixFQUVBM2IsRUFBQXhPLEVBQUEsSUFBQW1xQixHQUlBdm9CLEVBQUF3YixRQUFBQyxnQkFBQXpiLEVBQUFxQixLQUFBLGFBQUEsRUFBQSxLQUFBckIsRUFBQXdiLFFBQUFvQixnQkFzQkE1YyxFQUFBb0IsUUFBQXFuQixPQUFBLFNBQUE1SixHQUNBLElBRUF6Z0IsRUFGQXdPLEVBQUFpUyxFQUFBalMsS0FDQXRILEVBQUFzSCxFQUFBN04sT0FHQSxJQUFBWCxFQUFBLEVBQUFBLEVBQUFrSCxFQUFBbEgsR0FBQSxFQUVBd08sRUFBQXhPLEdBQUEsSUFBQXdPLEVBQUF4TyxHQUVBd08sRUFBQXhPLEVBQUEsR0FBQSxJQUFBd08sRUFBQXhPLEVBQUEsR0FFQXdPLEVBQUF4TyxFQUFBLEdBQUEsSUFBQXdPLEVBQUF4TyxFQUFBLElBT0EsV0EwQ0EsU0FBQXNxQixJQUNBem9CLEtBQUFsQyxFQUFBLEVBQ0FrQyxLQUFBcU4sRUFBQSxFQUNBck4sS0FBQXNOLEVBQUEsRUFDQXROLEtBQUF4QixFQUFBLEVBQ0F3QixLQUFBMG9CLEtBQUEsS0FHQSxJQUFBQyxHQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQUdBQyxHQUNBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQTJQQTdvQixFQUFBb0IsUUFBQTBuQixLQUFBLFNBQUFqSyxHQUNBLElBQUFrSyxFQUFBN29CLEtBQUFtTSxNQUFBcE0sS0FBQStvQixjQUVBRCxFQUFBLEdBM1BBLFNBQUFsSyxFQUFBa0ssR0FFQSxJQUlBNWlCLEVBQUFDLEVBQUFoSSxFQUFBUSxFQUFBcXFCLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQ0FDLEVBQUFDLEVBQUFDLEVBQUFD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a0gsU0FHQSxJQUFBLElBQUEzK0MsRUFBQSxFQUFBQSxFQUFBMjNDLEVBQUEzM0MsSUFDQSxJQUFBLElBQUE0OEMsRUFBQSxFQUFBQSxFQUFBaEYsRUFBQWdGLElBQ0F2RSxFQUFBcjRDLEdBQUE0OEMsR0FBQXB6QixTQUtBNnVCLEVBQUF2MkMsS0FBQXlzQixNQUFBcXdCLEVBQUF6SixJQUFBcUQsSUFBQTEyQyxLQUFBeXNCLE1BQUFxd0IsRUFBQXhKLE9BQUFvRCxLQTBQQTMzQyxFQUFBSixTQUNBcytDLGdCQTlpREEsV0FDQXR3QyxFQUFBekksT0FBQWc1QyxXQUNBdHdDLEVBQUExSSxPQUFBaTVDLFlBQUEsSUFFQS8yQixFQUFBLElBQUF0bUIsRUFBQTJCLE9BQ0FvbUIsVUFBQSxRQUNBbGIsTUFBQUEsRUFDQUMsT0FBQUEsSUFHQTZyQyw2RUNoQ0EsYUFFQSxJQUFBMkUsRUFBQS8rQyxFQUFBLGFBRUE2RixPQUFBc0ksT0FBQSxXQUNBNHdDLEVBQUFIIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuLypcbiAqIEtpbmV0aWNKUyBKYXZhU2NyaXB0IEZyYW1ld29yayB2NS4yLjBcbiAqIGh0dHA6Ly9sYXZydG9uLmdpdGh1Yi5pby9LaW5ldGljSlMvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKiBEYXRlOiAyMDE1LTAxLTIyXG4gKlxuICogT3JpZ2luYWwgd29yayBDb3B5cmlnaHQgKEMpIDIwMTEgLSAyMDEzIGJ5IEVyaWMgUm93ZWxsXG4gKiBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoQykgMjAxNCAtIDIwMTUgYnkgQW50b24gTGF2cmVub3ZcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG4vKipcbiAqIEBuYW1lc3BhY2UgS2luZXRpY1xuICovXG4vKmpzaGludCAtVzA3OSwgLVcwMjAqL1xudmFyIEtpbmV0aWMgPSB7fTtcbihmdW5jdGlvbihyb290KSB7XG4gICAgdmFyIFBJX09WRVJfMTgwID0gTWF0aC5QSSAvIDE4MDtcblxuICAgIEtpbmV0aWMgPSB7XG4gICAgICAgIC8vIHB1YmxpY1xuICAgICAgICB2ZXJzaW9uOiAnNS4yLjAnLFxuXG4gICAgICAgIC8vIHByaXZhdGVcbiAgICAgICAgc3RhZ2VzOiBbXSxcbiAgICAgICAgaWRDb3VudGVyOiAwLFxuICAgICAgICBpZHM6IHt9LFxuICAgICAgICBuYW1lczoge30sXG4gICAgICAgIHNoYXBlczoge30sXG4gICAgICAgIGxpc3RlbkNsaWNrVGFwOiBmYWxzZSxcbiAgICAgICAgaW5EYmxDbGlja1dpbmRvdzogZmFsc2UsXG5cbiAgICAgICAgLy8gY29uZmlndXJhdGlvbnNcbiAgICAgICAgZW5hYmxlVHJhY2U6IGZhbHNlLFxuICAgICAgICB0cmFjZUFyck1heDogMTAwLFxuICAgICAgICBkYmxDbGlja1dpbmRvdzogNDAwLFxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHBpeGVsIHJhdGlvIGNvbmZpZ3VyYXRpb24uIEtpbmV0aWNKUyBhdXRvbWF0aWNhbGx5IGRldGVjdCBwaXhlbCByYXRpbyBvZiBjdXJyZW50IGRldmljZS5cbiAgICAgICAgICogQnV0IHlvdSBtYXkgb3ZlcnJpZGUgc3VjaCBwcm9wZXJ0eSwgaWYgeW91IHdhbnQgdG8gdXNlIHlvdXIgdmFsdWUuXG4gICAgICAgICAqIEBwcm9wZXJ0eSBwaXhlbFJhdGlvXG4gICAgICAgICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBLaW5ldGljLnBpeGVsUmF0aW8gPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgcGl4ZWxSYXRpbzogdW5kZWZpbmVkLFxuICAgICAgICAvKipcbiAgICAgICAgICogRHJhZyBkaXN0YW5jZSBwcm9wZXJ0eS4gSWYgeW91IHN0YXJ0IHRvIGRyYWcgYSBub2RlIHlvdSBtYXkgd2FudCB0byB3YWl0IHVudGlsIHBvaW50ZXIgaXMgbW92ZWQgdG8gc29tZSBkaXN0YW5jZSBmcm9tIHN0YXJ0IHBvaW50LFxuICAgICAgICAgKiBvbmx5IHRoZW4gc3RhcnQgZHJhZ2dpbmcuXG4gICAgICAgICAqIEBwcm9wZXJ0eSBkcmFnRGlzdGFuY2VcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBLaW5ldGljLmRyYWdEaXN0YW5jZSA9IDEwO1xuICAgICAgICAgKi9cbiAgICAgICAgZHJhZ0Rpc3RhbmNlIDogMCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSBkZWdyZWUgdmFsdWVzIGZvciBhbmdsZSBwcm9wZXJ0aWVzLiBZb3UgbWF5IHNldCB0aGlzIHByb3BlcnR5IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvIHVzZSByYWRpYW50IHZhbHVlcy5cbiAgICAgICAgICogQHByb3BlcnR5IGFuZ2xlRGVnXG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbm9kZS5yb3RhdGlvbig0NSk7IC8vIDQ1IGRlZ3JlZXNcbiAgICAgICAgICogS2luZXRpYy5hbmdsZURlZyA9IGZhbHNlO1xuICAgICAgICAgKiBub2RlLnJvdGF0aW9uKE1hdGguUEkgLyAyKTsgLy8gUEkvMiByYWRpYW5cbiAgICAgICAgICovXG4gICAgICAgIGFuZ2xlRGVnOiB0cnVlLFxuICAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3cgZGlmZmVyZW50IHdhcm5pbmdzIGFib3V0IGVycm9ycyBvciB3cm9uZyBBUEkgdXNhZ2VcbiAgICAgICAgICogQHByb3BlcnR5IHNob3dXYXJuaW5nc1xuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIEtpbmV0aWMuc2hvd1dhcm5pbmdzID0gZmFsc2U7XG4gICAgICAgICAqL1xuICAgICAgICBzaG93V2FybmluZ3MgOiB0cnVlLFxuXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBGaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICAgICAqL1xuICAgICAgICBGaWx0ZXJzOiB7fSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm9kZSBjb25zdHJ1Y3Rvci4gTm9kZXMgYXJlIGVudGl0aWVzIHRoYXQgY2FuIGJlIHRyYW5zZm9ybWVkLCBsYXllcmVkLFxuICAgICAgICAgKiBhbmQgaGF2ZSBib3VuZCBldmVudHMuIFRoZSBzdGFnZSwgbGF5ZXJzLCBncm91cHMsIGFuZCBzaGFwZXMgYWxsIGV4dGVuZCBOb2RlLlxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgICAgICogQGFic3RyYWN0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAgICAgKi9cbiAgICAgICAgTm9kZTogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0KGNvbmZpZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNoYXBlIGNvbnN0cnVjdG9yLiAgU2hhcGVzIGFyZSBwcmltaXRpdmUgb2JqZWN0cyBzdWNoIGFzIHJlY3RhbmdsZXMsXG4gICAgICAgICAqICBjaXJjbGVzLCB0ZXh0LCBsaW5lcywgZXRjLlxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgICAgICogQGF1Z21lbnRzIEtpbmV0aWMuTm9kZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxdIGZpbGwgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsUmVkXSBzZXQgZmlsbCByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEdyZWVuXSBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQmx1ZV0gc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQWxwaGFdIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gW2NvbmZpZy5maWxsUGF0dGVybkltYWdlXSBmaWxsIHBhdHRlcm4gaW1hZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WV0gXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlXSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuUm90YXRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUGF0dGVyblJlcGVhdF0gY2FuIGJlIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiAgVGhlIGRlZmF1bHQgaXMgXCJuby1yZXBlYXRcIlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmZpbGxFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGZpbGwuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUHJpb3JpdHldIGNhbiBiZSBjb2xvciwgbGluZWFyLWdyYWRpZW50LCByYWRpYWwtZ3JhaWRlbnQsIG9yIHBhdHRlcm4uICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjb2xvci4gIFRoZSBmaWxsUHJpb3JpdHkgcHJvcGVydHkgbWFrZXMgaXQgcmVhbGx5IGVhc3kgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuICBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gYSBmaWxsIGNvbG9yIHN0eWxlIGFuZCBhIGZpbGwgcGF0dGVybiBzdHlsZSwgc2ltcGx5IHNldCB0aGUgZmlsbCBwcm9wZXJ0eSBhbmQgdGhlIGZpbGxQYXR0ZXJuIHByb3BlcnRpZXMsIGFuZCB0aGVuIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ2NvbG9yJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIGEgY29sb3IgZmlsbCwgb3IgdXNlIHNldEZpbGxQcmlvcml0eSgncGF0dGVybicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCB0aGUgcGF0dGVybiBmaWxsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnN0cm9rZV0gc3Ryb2tlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlUmVkXSBzZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VHcmVlbl0gc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VCbHVlXSBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQWxwaGFdIHNldCBzdHJva2UgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zdHJva2VXaWR0aF0gc3Ryb2tlIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlU2NhbGVFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgc3Ryb2tlIHNjYWxlLiAgVGhlIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc3Ryb2tlLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUpvaW5dIGNhbiBiZSBtaXRlciwgcm91bmQsIG9yIGJldmVsLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBtaXRlclxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUNhcF0gY2FuIGJlIGJ1dHQsIHJvdW5kLCBvciBzcWFyZS4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgYnV0dFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2hhZG93Q29sb3JdXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93UmVkXSBzZXQgc2hhZG93IGNvbG9yIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dHcmVlbl0gc2V0IHNoYWRvdyBjb2xvciBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dCbHVlXSBzZXQgc2hhZG93IGNvbG9yIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93QWxwaGFdIHNldCBzaGFkb3cgY29sb3IgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dCbHVyXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2hhZG93T2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPcGFjaXR5XSBzaGFkb3cgb3BhY2l0eS4gIENhbiBiZSBhbnkgcmVhbCBudW1iZXJcclxuICAgICAqICBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaGFkb3dFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNoYWRvdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGFzaF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kYXNoRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkYXNoQXJyYXkuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIGN1c3RvbVNoYXBlID0gbmV3IEtpbmV0aWMuU2hhcGUoe1xuICAgICAgICAgKiAgIHg6IDUsXG4gICAgICAgICAqICAgeTogMTAsXG4gICAgICAgICAqICAgZmlsbDogJ3JlZCcsXG4gICAgICAgICAqICAgLy8gYSBLaW5ldGljLkNhbnZhcyByZW5kZXJlciBpcyBwYXNzZWQgaW50byB0aGUgZHJhd0Z1bmMgZnVuY3Rpb25cbiAgICAgICAgICogICBkcmF3RnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgKiAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICogICAgIGNvbnRleHQubW92ZVRvKDIwMCwgNTApO1xuICAgICAgICAgKiAgICAgY29udGV4dC5saW5lVG8oNDIwLCA4MCk7XG4gICAgICAgICAqICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oMzAwLCAxMDAsIDI2MCwgMTcwKTtcbiAgICAgICAgICogICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAqICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgICogICB9XG4gICAgICAgICAqfSk7XG4gICAgICAgICAqL1xuICAgICAgICBTaGFwZTogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLl9faW5pdChjb25maWcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWluZXIgY29uc3RydWN0b3IuJm5ic3A7IENvbnRhaW5lcnMgYXJlIHVzZWQgdG8gY29udGFpbiBub2RlcyBvciBvdGhlciBjb250YWluZXJzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5Ob2RlXG4gICAgICAgICAqIEBhYnN0cmFjdFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgICAgICogKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jbGlwXSBzZXQgY2xpcFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcFhdIHNldCBjbGlwIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBZXSBzZXQgY2xpcCB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwV2lkdGhdIHNldCBjbGlwIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwSGVpZ2h0XSBzZXQgY2xpcCBoZWlnaHRcclxuXG4gICAgICAgICAqL1xuICAgICAgICBDb250YWluZXI6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5fX2luaXQoY29uZmlnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhZ2UgY29uc3RydWN0b3IuICBBIHN0YWdlIGlzIHVzZWQgdG8gY29udGFpbiBtdWx0aXBsZSBsYXllcnNcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICAgICAqIEBhdWdtZW50cyBLaW5ldGljLkNvbnRhaW5lclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1lbnR9IGNvbmZpZy5jb250YWluZXIgQ29udGFpbmVyIGlkIG9yIERPTSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHN0YWdlID0gbmV3IEtpbmV0aWMuU3RhZ2Uoe1xuICAgICAgICAgKiAgIHdpZHRoOiA1MDAsXG4gICAgICAgICAqICAgaGVpZ2h0OiA4MDAsXG4gICAgICAgICAqICAgY29udGFpbmVyOiAnY29udGFpbmVySWQnXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgU3RhZ2U6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5fX19pbml0KGNvbmZpZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VMYXllciBjb25zdHJ1Y3Rvci4gXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5Db250YWluZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuY2xlYXJCZWZvcmVEcmF3XSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGJlZm9yZSBlYWNoIGxheWVyIGRyYXcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICAgICAqICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuY2xpcF0gc2V0IGNsaXBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBYXSBzZXQgY2xpcCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwWV0gc2V0IGNsaXAgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcFdpZHRoXSBzZXQgY2xpcCB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcEhlaWdodF0gc2V0IGNsaXAgaGVpZ2h0XHJcblxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgbGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xuICAgICAgICAgKi9cbiAgICAgICAgQmFzZUxheWVyOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMYXllciBjb25zdHJ1Y3Rvci4gIExheWVycyBhcmUgdGllZCB0byB0aGVpciBvd24gY2FudmFzIGVsZW1lbnQgYW5kIGFyZSB1c2VkXG4gICAgICAgICAqIHRvIGNvbnRhaW4gZ3JvdXBzIG9yIHNoYXBlcy5cbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICAgICAqIEBhdWdtZW50cyBLaW5ldGljLkJhc2VMYXllclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5jbGVhckJlZm9yZURyYXddIHNldCB0aGlzIHByb3BlcnR5IHRvIGZhbHNlIGlmIHlvdSBkb24ndCB3YW50XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGVhY2ggbGF5ZXIgZHJhdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgICAgICogKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jbGlwXSBzZXQgY2xpcFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcFhdIHNldCBjbGlwIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBZXSBzZXQgY2xpcCB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwV2lkdGhdIHNldCBjbGlwIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwSGVpZ2h0XSBzZXQgY2xpcCBoZWlnaHRcclxuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHZhciBsYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XG4gICAgICAgICAqL1xuICAgICAgICBMYXllcjogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLl9fX19pbml0KGNvbmZpZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhc3RMYXllciBjb25zdHJ1Y3Rvci4gTGF5ZXJzIGFyZSB0aWVkIHRvIHRoZWlyIG93biBjYW52YXMgZWxlbWVudCBhbmQgYXJlIHVzZWRcbiAgICAgICAgICogdG8gY29udGFpbiBzaGFwZXMgb25seS4gIElmIHlvdSBkb24ndCBuZWVkIG5vZGUgbmVzdGluZywgbW91c2UgYW5kIHRvdWNoIGludGVyYWN0aW9ucyxcbiAgICAgICAgICogb3IgZXZlbnQgcHViL3N1YiwgeW91IHNob3VsZCB1c2UgRmFzdExheWVyIGluc3RlYWQgb2YgTGF5ZXIgdG8gY3JlYXRlIHlvdXIgbGF5ZXJzLlxuICAgICAgICAgKiBJdCByZW5kZXJzIGFib3V0IDJ4IGZhc3RlciB0aGFuIG5vcm1hbCBsYXllcnMuXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5CYXNlTGF5ZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuY2xlYXJCZWZvcmVEcmF3XSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGJlZm9yZSBlYWNoIGxheWVyIGRyYXcuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgICAgICogKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jbGlwXSBzZXQgY2xpcFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcFhdIHNldCBjbGlwIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBZXSBzZXQgY2xpcCB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwV2lkdGhdIHNldCBjbGlwIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwSGVpZ2h0XSBzZXQgY2xpcCBoZWlnaHRcclxuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHZhciBsYXllciA9IG5ldyBLaW5ldGljLkZhc3RMYXllcigpO1xuICAgICAgICAgKi9cbiAgICAgICAgRmFzdExheWVyOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuX19fX2luaXQoY29uZmlnKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JvdXAgY29uc3RydWN0b3IuICBHcm91cHMgYXJlIHVzZWQgdG8gY29udGFpbiBzaGFwZXMgb3Igb3RoZXIgZ3JvdXBzLlxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgICAgICogQGF1Z21lbnRzIEtpbmV0aWMuQ29udGFpbmVyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAgICAgKiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNsaXBdIHNldCBjbGlwXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jbGlwWF0gc2V0IGNsaXAgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuY2xpcFldIHNldCBjbGlwIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBXaWR0aF0gc2V0IGNsaXAgd2lkdGhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNsaXBIZWlnaHRdIHNldCBjbGlwIGhlaWdodFxyXG5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIGdyb3VwID0gbmV3IEtpbmV0aWMuR3JvdXAoKTtcbiAgICAgICAgICovXG4gICAgICAgIEdyb3VwOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHdoZXRoZXIgb3Igbm90IGRyYWcgYW5kIGRyb3AgaXMgY3VycmVudGx5IGFjdGl2ZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICAgICAqL1xuICAgICAgICBpc0RyYWdnaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkZCA9IEtpbmV0aWMuREQ7XG5cbiAgICAgICAgICAgIC8vIGlmIEREIGlzIG5vdCBpbmNsdWRlZCB3aXRoIHRoZSBidWlsZCwgdGhlblxuICAgICAgICAgICAgLy8gZHJhZyBhbmQgZHJvcCBpcyBub3QgZXZlbiBwb3NzaWJsZVxuICAgICAgICAgICAgaWYgKGRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRkLmlzRHJhZ2dpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogcmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhIGRyYWcgYW5kIGRyb3Agb3BlcmF0aW9uIGlzIHJlYWR5LCBidXQgbWF5XG4gICAgICAgICogIG5vdCBuZWNlc3NhcmlseSBoYXZlIHN0YXJ0ZWRcbiAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgICAgKi9cbiAgICAgICAgaXNEcmFnUmVhZHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERDtcblxuICAgICAgICAgICAgLy8gaWYgREQgaXMgbm90IGluY2x1ZGVkIHdpdGggdGhlIGJ1aWxkLCB0aGVuXG4gICAgICAgICAgICAvLyBkcmFnIGFuZCBkcm9wIGlzIG5vdCBldmVuIHBvc3NpYmxlXG4gICAgICAgICAgICBpZiAoZGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFkZC5ub2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9hZGRJZDogZnVuY3Rpb24obm9kZSwgaWQpIHtcbiAgICAgICAgICAgIGlmKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkc1tpZF0gPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfcmVtb3ZlSWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBpZihpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaWRzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2FkZE5hbWU6IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcbiAgICAgICAgICAgIGlmKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdCgvXFxzL2cpO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCBuYW1lcy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VibmFtZSA9IG5hbWVzW25dO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VibmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5uYW1lc1tzdWJuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lc1tzdWJuYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lc1tzdWJuYW1lXS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfcmVtb3ZlTmFtZTogZnVuY3Rpb24obmFtZSwgX2lkKSB7XG4gICAgICAgICAgICBpZihuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm5hbWVzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmKG5vZGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBuID0gMDsgbiA8IG5vZGVzLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm8gPSBub2Rlc1tuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vLl9pZCA9PT0gX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKG4sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldEFuZ2xlOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVEZWcgPyBhbmdsZSAqIFBJX09WRVJfMTgwIDogYW5nbGU7XG4gICAgICAgIH0sXG4gICAgICAgIF9wYXJzZVVBOiBmdW5jdGlvbih1c2VyQWdlbnQpIHtcbiAgICAgICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIC8vIGpRdWVyeSBVQSByZWdleFxuICAgICAgICAgICAgICAgIG1hdGNoID0gLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgLyhvcGVyYSkoPzouKnZlcnNpb258KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyggdWEgKSB8fFxuICAgICAgICAgICAgICAgIC8obXNpZSkgKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgdWEuaW5kZXhPZignY29tcGF0aWJsZScpIDwgMCAmJiAvKG1vemlsbGEpKD86Lio/IHJ2OihbXFx3Ll0rKXwpLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgW10sXG5cbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgbW9iaWxlIGZsYWcgYXMgd2VsbFxuICAgICAgICAgICAgICAgIG1vYmlsZSA9ICEhKHVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZHxCbGFja0JlcnJ5fGlQaG9uZXxpUGFkfGlQb2R8T3BlcmEgTWluaXxJRU1vYmlsZS9pKSksXG4gICAgICAgICAgICAgICAgaWVNb2JpbGUgPSAhISh1c2VyQWdlbnQubWF0Y2goL0lFTW9iaWxlL2kpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYnJvd3NlcjogbWF0Y2hbIDEgXSB8fCAnJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBtYXRjaFsgMiBdIHx8ICcwJyxcblxuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBtb2JpbGUgZmxhYlxuICAgICAgICAgICAgICAgIG1vYmlsZTogbW9iaWxlLFxuICAgICAgICAgICAgICAgIGllTW9iaWxlOiBpZU1vYmlsZSAgLy8gSWYgdGhpcyBpcyB0cnVlIChpLmUuLCBXUDgpLCB0aGVuIEtpbmV0aWMgdG91Y2ggZXZlbnRzIGFyZSBleGVjdXRlZCBpbnN0ZWFkIG9mIGVxdWl2YWxlbnQgS2luZXRpYyBtb3VzZSBldmVudHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHVzZXIgYWdlbnQgIFxuICAgICAgICBVQTogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIEtpbmV0aWMuVUEgPSBLaW5ldGljLl9wYXJzZVVBKChyb290Lm5hdmlnYXRvciAmJiByb290Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICcnKTtcbiAgICBcbn0pKHRoaXMpO1xuXG4vLyBVc2VzIE5vZGUsIEFNRCBvciBicm93c2VyIGdsb2JhbHMgdG8gY3JlYXRlIGEgbW9kdWxlLlxuXG4vLyBJZiB5b3Ugd2FudCBzb21ldGhpbmcgdGhhdCB3aWxsIHdvcmsgaW4gb3RoZXIgc3RyaWN0ZXIgQ29tbW9uSlMgZW52aXJvbm1lbnRzLFxuLy8gb3IgaWYgeW91IG5lZWQgdG8gY3JlYXRlIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSwgc2VlIGNvbW1vbkpzU3RyaWN0LmpzXG5cbi8vIERlZmluZXMgYSBtb2R1bGUgXCJyZXR1cm5FeHBvcnRzXCIgdGhhdCBkZXBlbmRzIGFub3RoZXIgbW9kdWxlIGNhbGxlZCBcImJcIi5cbi8vIE5vdGUgdGhhdCB0aGUgbmFtZSBvZiB0aGUgbW9kdWxlIGlzIGltcGxpZWQgYnkgdGhlIGZpbGUgbmFtZS4gSXQgaXMgYmVzdFxuLy8gaWYgdGhlIGZpbGUgbmFtZSBhbmQgdGhlIGV4cG9ydGVkIGdsb2JhbCBoYXZlIG1hdGNoaW5nIG5hbWVzLlxuXG4vLyBJZiB0aGUgJ2InIG1vZHVsZSBhbHNvIHVzZXMgdGhpcyB0eXBlIG9mIGJvaWxlcnBsYXRlLCB0aGVuXG4vLyBpbiB0aGUgYnJvd3NlciwgaXQgd2lsbCBjcmVhdGUgYSBnbG9iYWwgLmIgdGhhdCBpcyB1c2VkIGJlbG93LlxuXG4vLyBJZiB5b3UgZG8gbm90IHdhbnQgdG8gc3VwcG9ydCB0aGUgYnJvd3NlciBnbG9iYWwgcGF0aCwgdGhlbiB5b3Vcbi8vIGNhbiByZW1vdmUgdGhlIGByb290YCB1c2UgYW5kIHRoZSBwYXNzaW5nIGB0aGlzYCBhcyB0aGUgZmlyc3QgYXJnIHRvXG4vLyB0aGUgdG9wIGZ1bmN0aW9uLlxuXG4vLyBpZiB0aGUgbW9kdWxlIGhhcyBubyBkZXBlbmRlbmNpZXMsIHRoZSBhYm92ZSBwYXR0ZXJuIGNhbiBiZSBzaW1wbGlmaWVkIHRvXG4oIGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBLaW5ldGljSlMgPSBmYWN0b3J5KCk7XG4gICAgICAgIC8vIHJ1bnRpbWUtY2hlY2sgZm9yIGJyb3dzZXJpZnlcbiAgICAgICAgaWYoZ2xvYmFsLndpbmRvdyA9PT0gZ2xvYmFsKSB7XG4gICAgICAgICAgICBLaW5ldGljLmRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgICAgICAgICAgS2luZXRpYy53aW5kb3cgPSBnbG9iYWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgICAgICB2YXIgQ2FudmFzID0gcmVxdWlyZSgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIganNkb20gPSByZXF1aXJlKCdqc2RvbScpLmpzZG9tO1xuXG4gICAgICAgICAgICBLaW5ldGljLmRvY3VtZW50ID0ganNkb20oJzwhRE9DVFlQRSBodG1sPjxodG1sPjxoZWFkPjwvaGVhZD48Ym9keT48L2JvZHk+PC9odG1sPicpO1xuICAgICAgICAgICAgS2luZXRpYy53aW5kb3cgPSBLaW5ldGljLmRvY3VtZW50LmNyZWF0ZVdpbmRvdygpO1xuICAgICAgICAgICAgS2luZXRpYy53aW5kb3cuSW1hZ2UgPSBDYW52YXMuSW1hZ2U7XG4gICAgICAgICAgICBLaW5ldGljLl9ub2RlQ2FudmFzID0gQ2FudmFzO1xuICAgICAgICB9XG5cbiAgICAgICAgS2luZXRpYy5yb290ID0gcm9vdDtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBLaW5ldGljSlM7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH1cbiAgICBLaW5ldGljLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgS2luZXRpYy53aW5kb3cgPSB3aW5kb3c7XG4gICAgS2luZXRpYy5yb290ID0gcm9vdDtcblxufSh0aGlzLCBmdW5jdGlvbigpIHtcblxuICAgIC8vIEp1c3QgcmV0dXJuIGEgdmFsdWUgdG8gZGVmaW5lIHRoZSBtb2R1bGUgZXhwb3J0LlxuICAgIC8vIFRoaXMgZXhhbXBsZSByZXR1cm5zIGFuIG9iamVjdCwgYnV0IHRoZSBtb2R1bGVcbiAgICAvLyBjYW4gcmV0dXJuIGEgZnVuY3Rpb24gYXMgdGhlIGV4cG9ydGVkIHZhbHVlLlxuICAgIHJldHVybiBLaW5ldGljO1xufSkpO1xuOyhmdW5jdGlvbigpIHtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIGNvbnN0cnVjdG9yLiAgQ29sbGVjdGlvbiBleHRlbmRzXG4gICAgICogIEFycmF5LiAgVGhpcyBjbGFzcyBpcyB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGgge0BsaW5rIEtpbmV0aWMuQ29udGFpbmVyI2dldH1cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqL1xuICAgIEtpbmV0aWMuQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSwgbGVuZ3RoID0gYXJncy5sZW5ndGgsIGkgPSAwO1xuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICBmb3IoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBhcmdzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLnByb3RvdHlwZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIGl0ZXJhdGUgdGhyb3VnaCBub2RlIGFycmF5IGFuZCBydW4gYSBmdW5jdGlvbiBmb3IgZWFjaCBub2RlLlxuICAgICAqICBUaGUgbm9kZSBhbmQgaW5kZXggaXMgcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbGxlY3Rpb24ucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuY1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGFsbCBub2RlcyB3aXRoIG5hbWUgZm9vIGluc2lkZSBsYXllciwgYW5kIHNldCB4IHRvIDEwIGZvciBlYWNoXG4gICAgICogbGF5ZXIuZ2V0KCcuZm9vJykuZWFjaChmdW5jdGlvbihzaGFwZSwgbikge1xuICAgICAqICAgc2hhcGUuc2V0WCgxMCk7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24oZnVuYykge1xuICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgdGhpcy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgZnVuYyh0aGlzW25dLCBuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogY29udmVydCBjb2xsZWN0aW9uIGludG8gYW4gYXJyYXlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29sbGVjdGlvbi5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyciA9IFtdLFxuICAgICAgICAgICAgbGVuID0gdGhpcy5sZW5ndGgsXG4gICAgICAgICAgICBuO1xuXG4gICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBhcnIucHVzaCh0aGlzW25dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY29udmVydCBhcnJheSBpbnRvIGEgY29sbGVjdGlvblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyXG4gICAgICovXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLnRvQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGFycikge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IG5ldyBLaW5ldGljLkNvbGxlY3Rpb24oKSxcbiAgICAgICAgICAgIGxlbiA9IGFyci5sZW5ndGgsXG4gICAgICAgICAgICBuO1xuXG4gICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goYXJyW25dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9O1xuXG4gICAgLy8gbWFwIG9uZSBtZXRob2QgYnkgaXQncyBuYW1lXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLl9tYXBNZXRob2QgPSBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXVttZXRob2ROYW1lXS5hcHBseSh0aGlzW2ldLCBhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzID0gZnVuY3Rpb24oY29uc3RydWN0b3IpIHtcbiAgICAgICAgdmFyIHByb3QgPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGZvcih2YXIgbWV0aG9kTmFtZSBpbiBwcm90KSB7XG4gICAgICAgICAgICBLaW5ldGljLkNvbGxlY3Rpb24uX21hcE1ldGhvZChtZXRob2ROYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICogTGFzdCB1cGRhdGVkIE5vdmVtYmVyIDIwMTFcbiAgICAqIEJ5IFNpbW9uIFNhcnJpc1xuICAgICogd3d3LnNpbW9uc2FycmlzLmNvbVxuICAgICogc2FycmlzQGFjbS5vcmdcbiAgICAqXG4gICAgKiBGcmVlIHRvIHVzZSBhbmQgZGlzdHJpYnV0ZSBhdCB3aWxsXG4gICAgKiBTbyBsb25nIGFzIHlvdSBhcmUgbmljZSB0byBwZW9wbGUsIGV0Y1xuICAgICovXG5cbiAgICAvKlxuICAgICogVGhlIHVzYWdlIG9mIHRoaXMgY2xhc3Mgd2FzIGluc3BpcmVkIGJ5IHNvbWUgb2YgdGhlIHdvcmsgZG9uZSBieSBhIGZvcmtlZFxuICAgICogcHJvamVjdCwgS2luZXRpY0pTLUV4dCBieSBXYXBwd29ya3MsIHdoaWNoIGlzIGJhc2VkIG9uIFNpbW9uJ3MgVHJhbnNmb3JtXG4gICAgKiBjbGFzcy4gIE1vZGlmaWVkIGJ5IEVyaWMgUm93ZWxsXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFttXSBPcHRpb25hbCBzaXgtZWxlbWVudCBtYXRyaXhcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqL1xuICAgIEtpbmV0aWMuVHJhbnNmb3JtID0gZnVuY3Rpb24obSkge1xuICAgICAgICB0aGlzLm0gPSAobSAmJiBtLnNsaWNlKCkpIHx8IFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBLaW5ldGljLlRyYW5zZm9ybSBvYmplY3RcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBLaW5ldGljLlRyYW5zZm9ybSh0aGlzLm0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNmb3JtIHBvaW50XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHJhbnNmb3JtLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgMkQgcG9pbnQoeCwgeSlcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gMkQgcG9pbnQoeCwgeSlcbiAgICAgICAgICovXG4gICAgICAgIHBvaW50OiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLm07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IG1bMF0gKiBwb2ludC54ICsgbVsyXSAqIHBvaW50LnkgKyBtWzRdLFxuICAgICAgICAgICAgICAgIHk6IG1bMV0gKiBwb2ludC54ICsgbVszXSAqIHBvaW50LnkgKyBtWzVdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbHkgdHJhbnNsYXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICAgICAgdGhpcy5tWzRdICs9IHRoaXMubVswXSAqIHggKyB0aGlzLm1bMl0gKiB5O1xuICAgICAgICAgICAgdGhpcy5tWzVdICs9IHRoaXMubVsxXSAqIHggKyB0aGlzLm1bM10gKiB5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBseSBzY2FsZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRyYW5zZm9ybS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHN4XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzeVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZTogZnVuY3Rpb24oc3gsIHN5KSB7XG4gICAgICAgICAgICB0aGlzLm1bMF0gKj0gc3g7XG4gICAgICAgICAgICB0aGlzLm1bMV0gKj0gc3g7XG4gICAgICAgICAgICB0aGlzLm1bMl0gKj0gc3k7XG4gICAgICAgICAgICB0aGlzLm1bM10gKj0gc3k7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGx5IHJvdGF0aW9uXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHJhbnNmb3JtLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkICBBbmdsZSBpbiByYWRpYW5zXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHJvdGF0ZTogZnVuY3Rpb24ocmFkKSB7XG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gICAgICAgICAgICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gICAgICAgICAgICB2YXIgbTExID0gdGhpcy5tWzBdICogYyArIHRoaXMubVsyXSAqIHM7XG4gICAgICAgICAgICB2YXIgbTEyID0gdGhpcy5tWzFdICogYyArIHRoaXMubVszXSAqIHM7XG4gICAgICAgICAgICB2YXIgbTIxID0gdGhpcy5tWzBdICogLXMgKyB0aGlzLm1bMl0gKiBjO1xuICAgICAgICAgICAgdmFyIG0yMiA9IHRoaXMubVsxXSAqIC1zICsgdGhpcy5tWzNdICogYztcbiAgICAgICAgICAgIHRoaXMubVswXSA9IG0xMTtcbiAgICAgICAgICAgIHRoaXMubVsxXSA9IG0xMjtcbiAgICAgICAgICAgIHRoaXMubVsyXSA9IG0yMTtcbiAgICAgICAgICAgIHRoaXMubVszXSA9IG0yMjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IDJEIHBvaW50KHgsIHkpXG4gICAgICAgICAqL1xuICAgICAgICBnZXRUcmFuc2xhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubVs0XSxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLm1bNV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBseSBza2V3XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHJhbnNmb3JtLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gc3hcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHN5XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHNrZXc6IGZ1bmN0aW9uKHN4LCBzeSkge1xuICAgICAgICAgICAgdmFyIG0xMSA9IHRoaXMubVswXSArIHRoaXMubVsyXSAqIHN5O1xuICAgICAgICAgICAgdmFyIG0xMiA9IHRoaXMubVsxXSArIHRoaXMubVszXSAqIHN5O1xuICAgICAgICAgICAgdmFyIG0yMSA9IHRoaXMubVsyXSArIHRoaXMubVswXSAqIHN4O1xuICAgICAgICAgICAgdmFyIG0yMiA9IHRoaXMubVszXSArIHRoaXMubVsxXSAqIHN4O1xuICAgICAgICAgICAgdGhpcy5tWzBdID0gbTExO1xuICAgICAgICAgICAgdGhpcy5tWzFdID0gbTEyO1xuICAgICAgICAgICAgdGhpcy5tWzJdID0gbTIxO1xuICAgICAgICAgICAgdGhpcy5tWzNdID0gbTIyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNmb3JtIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHJhbnNmb3JtLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge0tpbmV0aWMuVHJhbnNmb3JtfSBtYXRyaXhcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgbXVsdGlwbHk6IGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICAgICAgdmFyIG0xMSA9IHRoaXMubVswXSAqIG1hdHJpeC5tWzBdICsgdGhpcy5tWzJdICogbWF0cml4Lm1bMV07XG4gICAgICAgICAgICB2YXIgbTEyID0gdGhpcy5tWzFdICogbWF0cml4Lm1bMF0gKyB0aGlzLm1bM10gKiBtYXRyaXgubVsxXTtcblxuICAgICAgICAgICAgdmFyIG0yMSA9IHRoaXMubVswXSAqIG1hdHJpeC5tWzJdICsgdGhpcy5tWzJdICogbWF0cml4Lm1bM107XG4gICAgICAgICAgICB2YXIgbTIyID0gdGhpcy5tWzFdICogbWF0cml4Lm1bMl0gKyB0aGlzLm1bM10gKiBtYXRyaXgubVszXTtcblxuICAgICAgICAgICAgdmFyIGR4ID0gdGhpcy5tWzBdICogbWF0cml4Lm1bNF0gKyB0aGlzLm1bMl0gKiBtYXRyaXgubVs1XSArIHRoaXMubVs0XTtcbiAgICAgICAgICAgIHZhciBkeSA9IHRoaXMubVsxXSAqIG1hdHJpeC5tWzRdICsgdGhpcy5tWzNdICogbWF0cml4Lm1bNV0gKyB0aGlzLm1bNV07XG5cbiAgICAgICAgICAgIHRoaXMubVswXSA9IG0xMTtcbiAgICAgICAgICAgIHRoaXMubVsxXSA9IG0xMjtcbiAgICAgICAgICAgIHRoaXMubVsyXSA9IG0yMTtcbiAgICAgICAgICAgIHRoaXMubVszXSA9IG0yMjtcbiAgICAgICAgICAgIHRoaXMubVs0XSA9IGR4O1xuICAgICAgICAgICAgdGhpcy5tWzVdID0gZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludmVydCB0aGUgbWF0cml4XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHJhbnNmb3JtLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICBpbnZlcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGQgPSAxIC8gKHRoaXMubVswXSAqIHRoaXMubVszXSAtIHRoaXMubVsxXSAqIHRoaXMubVsyXSk7XG4gICAgICAgICAgICB2YXIgbTAgPSB0aGlzLm1bM10gKiBkO1xuICAgICAgICAgICAgdmFyIG0xID0gLXRoaXMubVsxXSAqIGQ7XG4gICAgICAgICAgICB2YXIgbTIgPSAtdGhpcy5tWzJdICogZDtcbiAgICAgICAgICAgIHZhciBtMyA9IHRoaXMubVswXSAqIGQ7XG4gICAgICAgICAgICB2YXIgbTQgPSBkICogKHRoaXMubVsyXSAqIHRoaXMubVs1XSAtIHRoaXMubVszXSAqIHRoaXMubVs0XSk7XG4gICAgICAgICAgICB2YXIgbTUgPSBkICogKHRoaXMubVsxXSAqIHRoaXMubVs0XSAtIHRoaXMubVswXSAqIHRoaXMubVs1XSk7XG4gICAgICAgICAgICB0aGlzLm1bMF0gPSBtMDtcbiAgICAgICAgICAgIHRoaXMubVsxXSA9IG0xO1xuICAgICAgICAgICAgdGhpcy5tWzJdID0gbTI7XG4gICAgICAgICAgICB0aGlzLm1bM10gPSBtMztcbiAgICAgICAgICAgIHRoaXMubVs0XSA9IG00O1xuICAgICAgICAgICAgdGhpcy5tWzVdID0gbTU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBtYXRyaXhcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0byBhYnNvbHV0ZSBwb3NpdGlvbiB2aWEgdHJhbnNsYXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UcmFuc2Zvcm0ucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICogQGF1dGhvciBlcmljZHJvd2VsbFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0QWJzb2x1dGVQb3NpdGlvbjogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICAgICAgdmFyIG0wID0gdGhpcy5tWzBdLFxuICAgICAgICAgICAgICAgIG0xID0gdGhpcy5tWzFdLFxuICAgICAgICAgICAgICAgIG0yID0gdGhpcy5tWzJdLFxuICAgICAgICAgICAgICAgIG0zID0gdGhpcy5tWzNdLFxuICAgICAgICAgICAgICAgIG00ID0gdGhpcy5tWzRdLFxuICAgICAgICAgICAgICAgIG01ID0gdGhpcy5tWzVdLFxuICAgICAgICAgICAgICAgIHl0ID0gKChtMCAqICh5IC0gbTUpKSAtIChtMSAqICh4IC0gbTQpKSkgLyAoKG0wICogbTMpIC0gKG0xICogbTIpKSxcbiAgICAgICAgICAgICAgICB4dCA9ICh4IC0gbTQgLSAobTIgKiB5dCkpIC8gbTA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZSh4dCwgeXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENPTlNUQU5UU1xuICAgIHZhciBDT05URVhUXzJEID0gJzJkJyxcbiAgICAgICAgT0JKRUNUX0FSUkFZID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgICAgT0JKRUNUX05VTUJFUiA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgICBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICAgIFBJX09WRVJfREVHMTgwID0gTWF0aC5QSSAvIDE4MCxcbiAgICAgICAgREVHMTgwX09WRVJfUEkgPSAxODAgLyBNYXRoLlBJLFxuICAgICAgICBIQVNIID0gJyMnLFxuICAgICAgICBFTVBUWV9TVFJJTkcgPSAnJyxcbiAgICAgICAgWkVSTyA9ICcwJyxcbiAgICAgICAgS0lORVRJQ19XQVJOSU5HID0gJ0tpbmV0aWMgd2FybmluZzogJyxcbiAgICAgICAgS0lORVRJQ19FUlJPUiA9ICdLaW5ldGljIGVycm9yOiAnLFxuICAgICAgICBSR0JfUEFSRU4gPSAncmdiKCcsXG4gICAgICAgIENPTE9SUyA9IHtcbiAgICAgICAgICAgIGFxdWE6IFswLDI1NSwyNTVdLFxuICAgICAgICAgICAgbGltZTogWzAsMjU1LDBdLFxuICAgICAgICAgICAgc2lsdmVyOiBbMTkyLDE5MiwxOTJdLFxuICAgICAgICAgICAgYmxhY2s6IFswLDAsMF0sXG4gICAgICAgICAgICBtYXJvb246IFsxMjgsMCwwXSxcbiAgICAgICAgICAgIHRlYWw6IFswLDEyOCwxMjhdLFxuICAgICAgICAgICAgYmx1ZTogWzAsMCwyNTVdLFxuICAgICAgICAgICAgbmF2eTogWzAsMCwxMjhdLFxuICAgICAgICAgICAgd2hpdGU6IFsyNTUsMjU1LDI1NV0sXG4gICAgICAgICAgICBmdWNoc2lhOiBbMjU1LDAsMjU1XSxcbiAgICAgICAgICAgIG9saXZlOlsxMjgsMTI4LDBdLFxuICAgICAgICAgICAgeWVsbG93OiBbMjU1LDI1NSwwXSxcbiAgICAgICAgICAgIG9yYW5nZTogWzI1NSwxNjUsMF0sXG4gICAgICAgICAgICBncmF5OiBbMTI4LDEyOCwxMjhdLFxuICAgICAgICAgICAgcHVycGxlOiBbMTI4LDAsMTI4XSxcbiAgICAgICAgICAgIGdyZWVuOiBbMCwxMjgsMF0sXG4gICAgICAgICAgICByZWQ6IFsyNTUsMCwwXSxcbiAgICAgICAgICAgIHBpbms6IFsyNTUsMTkyLDIwM10sXG4gICAgICAgICAgICBjeWFuOiBbMCwyNTUsMjU1XSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiBbMjU1LDI1NSwyNTUsMF1cbiAgICAgICAgfSxcblxuICAgICAgICBSR0JfUkVHRVggPSAvcmdiXFwoKFxcZHsxLDN9KSwoXFxkezEsM30pLChcXGR7MSwzfSlcXCkvO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBVdGlsXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKi9cbiAgICBLaW5ldGljLlV0aWwgPSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIGNoZXJyeS1waWNrZWQgdXRpbGl0aWVzIGZyb20gdW5kZXJzY29yZS5qc1xuICAgICAgICAgKi9cbiAgICAgICAgX2lzRWxlbWVudDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PSAxKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2lzRnVuY3Rpb246IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuICEhKG9iaiAmJiBvYmouY29uc3RydWN0b3IgJiYgb2JqLmNhbGwgJiYgb2JqLmFwcGx5KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2lzT2JqZWN0OiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHJldHVybiAoISFvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09IE9iamVjdCk7XG4gICAgICAgIH0sXG4gICAgICAgIF9pc0FycmF5OiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PSBPQkpFQ1RfQVJSQVk7XG4gICAgICAgIH0sXG4gICAgICAgIF9pc051bWJlcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT0gT0JKRUNUX05VTUJFUjtcbiAgICAgICAgfSxcbiAgICAgICAgX2lzU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PSBPQkpFQ1RfU1RSSU5HO1xuICAgICAgICB9LFxuICAgICAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgICAgICAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gICAgICAgIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgICAgICAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgICAgICAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gICAgICAgIF90aHJvdHRsZTogZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0cykge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge307XG4gICAgICAgICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAvKlxuICAgICAgICAgKiBvdGhlciB1dGlsc1xuICAgICAgICAgKi9cbiAgICAgICAgX2hhc01ldGhvZHM6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG5hbWVzID0gW10sXG4gICAgICAgICAgICAgICAga2V5O1xuXG4gICAgICAgICAgICBmb3Ioa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2lzRnVuY3Rpb24ob2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmFtZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlQ2FudmFzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gS2luZXRpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIC8vIG9uIHNvbWUgZW52aXJvbm1lbnRzIGNhbnZhcy5zdHlsZSBpcyByZWFkb25seVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc3R5bGUgPSBjYW52YXMuc3R5bGUgfHwge307XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgICAgICB9LFxuICAgICAgICBpc0Jyb3dzZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgZXhwb3J0cyAhPT0gICdvYmplY3QnKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2lzSW5Eb2N1bWVudDogZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHdoaWxlKGVsID0gZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGlmKGVsID09IEtpbmV0aWMuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBfc2ltcGxpZnlBcnJheTogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgICAgICB2YXIgcmV0QXJyID0gW10sXG4gICAgICAgICAgICAgICAgbGVuID0gYXJyLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB1dGlsID0gS2luZXRpYy5VdGlsLFxuICAgICAgICAgICAgICAgIG4sIHZhbDtcblxuICAgICAgICAgICAgZm9yIChuPTA7IG48bGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBhcnJbbl07XG4gICAgICAgICAgICAgICAgaWYgKHV0aWwuX2lzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gTWF0aC5yb3VuZCh2YWwgKiAxMDAwKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF1dGlsLl9pc1N0cmluZyh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldEFyci5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXRBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG4gICAgICAgICAqIGFyZyBjYW4gYmUgYW4gaW1hZ2Ugb2JqZWN0IG9yIGltYWdlIGRhdGFcbiAgICAgICAgICovXG4gICAgICAgIF9nZXRJbWFnZTogZnVuY3Rpb24oYXJnLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGltYWdlT2JqLCBjYW52YXM7XG5cbiAgICAgICAgICAgIC8vIGlmIGFyZyBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgaWYoIWFyZykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBhcmcgaXMgYWxyZWFkeSBhbiBpbWFnZSBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5faXNFbGVtZW50KGFyZykpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhhcmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBhcmcgaXMgYSBzdHJpbmcsIHRoZW4gaXQncyBhIGRhdGEgdXJsXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuX2lzU3RyaW5nKGFyZykpIHtcbiAgICAgICAgICAgICAgICBpbWFnZU9iaiA9IG5ldyBLaW5ldGljLndpbmRvdy5JbWFnZSgpO1xuICAgICAgICAgICAgICAgIGltYWdlT2JqLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpbWFnZU9iaik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWFnZU9iai5zcmMgPSBhcmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vaWYgYXJnIGlzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIHByb3BlcnR5LCBpdCdzIGFuIGltYWdlIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZihhcmcuZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IEtpbmV0aWMuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gYXJnLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBhcmcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBfY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KENPTlRFWFRfMkQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnB1dEltYWdlRGF0YShhcmcsIDAsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldEltYWdlKGNhbnZhcy50b0RhdGFVUkwoKSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRSR0JBU3RyaW5nOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciByZWQgPSBvYmoucmVkIHx8IDAsXG4gICAgICAgICAgICAgICAgZ3JlZW4gPSBvYmouZ3JlZW4gfHwgMCxcbiAgICAgICAgICAgICAgICBibHVlID0gb2JqLmJsdWUgfHwgMCxcbiAgICAgICAgICAgICAgICBhbHBoYSA9IG9iai5hbHBoYSB8fCAxO1xuXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICdyZ2JhKCcsXG4gICAgICAgICAgICAgICAgcmVkLFxuICAgICAgICAgICAgICAgICcsJyxcbiAgICAgICAgICAgICAgICBncmVlbixcbiAgICAgICAgICAgICAgICAnLCcsXG4gICAgICAgICAgICAgICAgYmx1ZSxcbiAgICAgICAgICAgICAgICAnLCcsXG4gICAgICAgICAgICAgICAgYWxwaGEsXG4gICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICBdLmpvaW4oRU1QVFlfU1RSSU5HKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3JnYlRvSGV4OiBmdW5jdGlvbihyLCBnLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gKCgxIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYikudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuICAgICAgICB9LFxuICAgICAgICBfaGV4VG9SZ2I6IGZ1bmN0aW9uKGhleCkge1xuICAgICAgICAgICAgaGV4ID0gaGV4LnJlcGxhY2UoSEFTSCwgRU1QVFlfU1RSSU5HKTtcbiAgICAgICAgICAgIHZhciBiaWdpbnQgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcjogKGJpZ2ludCA+PiAxNikgJiAyNTUsXG4gICAgICAgICAgICAgICAgZzogKGJpZ2ludCA+PiA4KSAmIDI1NSxcbiAgICAgICAgICAgICAgICBiOiBiaWdpbnQgJiAyNTVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gcmFuZG9tIGhleCBjb2xvclxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlV0aWwucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSYW5kb21Db2xvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmFuZENvbG9yID0gKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRiA8PCAwKS50b1N0cmluZygxNik7XG4gICAgICAgICAgICB3aGlsZSAocmFuZENvbG9yLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICAgICAgICByYW5kQ29sb3IgPSBaRVJPICsgcmFuZENvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEhBU0ggKyByYW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gdmFsdWUgd2l0aCBkZWZhdWx0IGZhbGxiYWNrXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVXRpbC5wcm90b3R5cGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24odmFsLCBkZWYpIHtcbiAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IFJHQiBjb21wb25lbnRzIG9mIGEgY29sb3JcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5VdGlsLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3JcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gZWFjaCBvZiB0aGUgZm9sbG93aW5nIGV4YW1wbGVzIHJldHVybiB7cjowLCBnOjAsIGI6MjU1fVxuICAgICAgICAgKiB2YXIgcmdiID0gS2luZXRpYy5VdGlsLmdldFJHQignYmx1ZScpO1xuICAgICAgICAgKiB2YXIgcmdiID0gS2luZXRpYy5VdGlsLmdldFJHQignIzAwMDBmZicpO1xuICAgICAgICAgKiB2YXIgcmdiID0gS2luZXRpYy5VdGlsLmdldFJHQigncmdiKDAsMCwyNTUpJyk7XG4gICAgICAgICAqL1xuICAgICAgICBnZXRSR0I6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgcmdiO1xuICAgICAgICAgICAgLy8gY29sb3Igc3RyaW5nXG4gICAgICAgICAgICBpZiAoY29sb3IgaW4gQ09MT1JTKSB7XG4gICAgICAgICAgICAgICAgcmdiID0gQ09MT1JTW2NvbG9yXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByOiByZ2JbMF0sXG4gICAgICAgICAgICAgICAgICAgIGc6IHJnYlsxXSxcbiAgICAgICAgICAgICAgICAgICAgYjogcmdiWzJdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhleFxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JbMF0gPT09IEhBU0gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGV4VG9SZ2IoY29sb3Iuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJnYiBzdHJpbmdcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yLnN1YnN0cigwLCA0KSA9PT0gUkdCX1BBUkVOKSB7XG4gICAgICAgICAgICAgICAgcmdiID0gUkdCX1JFR0VYLmV4ZWMoY29sb3IucmVwbGFjZSgvIC9nLCcnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcjogcGFyc2VJbnQocmdiWzFdLCAxMCksXG4gICAgICAgICAgICAgICAgICAgIGc6IHBhcnNlSW50KHJnYlsyXSwgMTApLFxuICAgICAgICAgICAgICAgICAgICBiOiBwYXJzZUludChyZ2JbM10sIDEwKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWZhdWx0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByOiAwLFxuICAgICAgICAgICAgICAgICAgICBnOiAwLFxuICAgICAgICAgICAgICAgICAgICBiOiAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gbzEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIG8yXG4gICAgICAgIF9tZXJnZTogZnVuY3Rpb24obzEsIG8yKSB7XG4gICAgICAgICAgICB2YXIgcmV0T2JqID0gdGhpcy5fY2xvbmUobzIpO1xuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gbzEpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9pc09iamVjdChvMVtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICByZXRPYmpba2V5XSA9IHRoaXMuX21lcmdlKG8xW2tleV0sIHJldE9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldE9ialtrZXldID0gbzFba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0T2JqO1xuICAgICAgICB9LFxuICAgICAgICBjbG9uZU9iamVjdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgcmV0T2JqID0ge307XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9pc09iamVjdChvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0T2JqW2tleV0gPSB0aGlzLmNsb25lT2JqZWN0KG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5faXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0T2JqW2tleV0gPSB0aGlzLmNsb25lQXJyYXkob2JqW2tleV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldE9ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldE9iajtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmVBcnJheTogZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyLnNsaWNlKDApO1xuICAgICAgICB9LFxuICAgICAgICBfZGVnVG9SYWQ6IGZ1bmN0aW9uKGRlZykge1xuICAgICAgICAgICAgcmV0dXJuIGRlZyAqIFBJX09WRVJfREVHMTgwO1xuICAgICAgICB9LFxuICAgICAgICBfcmFkVG9EZWc6IGZ1bmN0aW9uKHJhZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJhZCAqIERFRzE4MF9PVkVSX1BJO1xuICAgICAgICB9LFxuICAgICAgICBfY2FwaXRhbGl6ZTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoS0lORVRJQ19FUlJPUiArIHN0cik7XG4gICAgICAgIH0sXG4gICAgICAgIHdhcm46IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIElFOSBvbiBXaW5kb3dzNyA2NGJpdCB3aWxsIHRocm93IGEgSlMgZXJyb3JcbiAgICAgICAgICAgICAqIGlmIHdlIGRvbid0IHVzZSB3aW5kb3cuY29uc29sZSBpbiB0aGUgY29uZGl0aW9uYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYoS2luZXRpYy5yb290LmNvbnNvbGUgJiYgY29uc29sZS53YXJuICYmIEtpbmV0aWMuc2hvd1dhcm5pbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKEtJTkVUSUNfV0FSTklORyArIHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV4dGVuZDogZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGN0b3IoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIHZhciBvbGRfcHJvdG8gPSBjaGlsZC5wcm90b3R5cGU7XG4gICAgICAgICAgICAgICAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2xkX3Byb3RvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRfcHJvdG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucHJvdG90eXBlW2tleV0gPSBvbGRfcHJvdG9ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogYWRkcyBtZXRob2RzIHRvIGEgY29uc3RydWN0b3IgcHJvdG90eXBlXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVXRpbC5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3JcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1ldGhvZHNcbiAgICAgICAgICovXG4gICAgICAgIGFkZE1ldGhvZHM6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBtZXRob2RzKSB7XG4gICAgICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW2tleV0gPSBtZXRob2RzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRDb250cm9sUG9pbnRzOiBmdW5jdGlvbih4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB0KSB7XG4gICAgICAgICAgICB2YXIgZDAxID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDAsIDIpICsgTWF0aC5wb3coeTEgLSB5MCwgMikpLFxuICAgICAgICAgICAgICAgIGQxMiA9IE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKSxcbiAgICAgICAgICAgICAgICBmYSA9IHQgKiBkMDEgLyAoZDAxICsgZDEyKSxcbiAgICAgICAgICAgICAgICBmYiA9IHQgKiBkMTIgLyAoZDAxICsgZDEyKSxcbiAgICAgICAgICAgICAgICBwMXggPSB4MSAtIGZhICogKHgyIC0geDApLFxuICAgICAgICAgICAgICAgIHAxeSA9IHkxIC0gZmEgKiAoeTIgLSB5MCksXG4gICAgICAgICAgICAgICAgcDJ4ID0geDEgKyBmYiAqICh4MiAtIHgwKSxcbiAgICAgICAgICAgICAgICBwMnkgPSB5MSArIGZiICogKHkyIC0geTApO1xuXG4gICAgICAgICAgICByZXR1cm4gW3AxeCAscDF5LCBwMngsIHAyeV07XG4gICAgICAgIH0sXG4gICAgICAgIF9leHBhbmRQb2ludHM6IGZ1bmN0aW9uKHAsIHRlbnNpb24pIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBwLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBhbGxQb2ludHMgPSBbXSxcbiAgICAgICAgICAgICAgICBuLCBjcDtcblxuICAgICAgICAgICAgZm9yIChuPTI7IG48bGVuLTI7IG4rPTIpIHtcbiAgICAgICAgICAgICAgICBjcCA9IEtpbmV0aWMuVXRpbC5fZ2V0Q29udHJvbFBvaW50cyhwW24tMl0sIHBbbi0xXSwgcFtuXSwgcFtuKzFdLCBwW24rMl0sIHBbbiszXSwgdGVuc2lvbik7XG4gICAgICAgICAgICAgICAgYWxsUG9pbnRzLnB1c2goY3BbMF0pO1xuICAgICAgICAgICAgICAgIGFsbFBvaW50cy5wdXNoKGNwWzFdKTtcbiAgICAgICAgICAgICAgICBhbGxQb2ludHMucHVzaChwW25dKTtcbiAgICAgICAgICAgICAgICBhbGxQb2ludHMucHVzaChwW24rMV0pO1xuICAgICAgICAgICAgICAgIGFsbFBvaW50cy5wdXNoKGNwWzJdKTtcbiAgICAgICAgICAgICAgICBhbGxQb2ludHMucHVzaChjcFszXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhbGxQb2ludHM7XG4gICAgICAgIH0sXG4gICAgICAgIF9yZW1vdmVMYXN0TGV0dGVyOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuOyhmdW5jdGlvbigpIHtcbiAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgcmF0aW9cbiAgICB2YXIgY2FudmFzID0gS2luZXRpYy5VdGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSxcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAvLyBpZiB1c2luZyBhIG1vYmlsZSBkZXZpY2UsIGNhbGN1bGF0ZSB0aGUgcGl4ZWwgcmF0aW8uICBPdGhlcndpc2UsIGp1c3QgdXNlXG4gICAgICAgIC8vIDEuICBGb3IgZGVza3RvcCBicm93c2VycywgaWYgdGhlIHVzZXIgaGFzIHpvb20gZW5hYmxlZCwgaXQgYWZmZWN0cyB0aGUgcGl4ZWwgcmF0aW9cbiAgICAgICAgLy8gYW5kIGNhdXNlcyBhcnRpZmFjdHMgb24gdGhlIGNhbnZhcy4gIEFzIG9mIDAyLzI2LzIwMTQsIHRoZXJlIGRvZXNuJ3Qgc2VlbSB0byBiZSBhIHdheVxuICAgICAgICAvLyB0byByZWxpYWJseSBjYWxjdWxhdGUgdGhlIGJyb3dzZXIgem9vbSBmb3IgbW9kZXJuIGJyb3dzZXJzLCB3aGljaCBpcyB3aHkgd2UganVzdCBzZXRcbiAgICAgICAgLy8gdGhlIHBpeGVsIHJhdGlvIHRvIDEgZm9yIGRlc2t0b3BzXG4gICAgICAgIF9waXhlbFJhdGlvID0gS2luZXRpYy5VQS5tb2JpbGUgPyAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsXG4gICAgICAgICAgICBiYWNraW5nU3RvcmVSYXRpbyA9IGNvbnRleHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgfHwgY29udGV4dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIHx8IGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpb1xuICAgICAgICAgICAgICAgIHx8IDE7XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxSYXRpbyAvIGJhY2tpbmdTdG9yZVJhdGlvO1xuICAgICAgICB9KSgpIDogMTtcblxuICAgIC8qKlxuICAgICAqIENhbnZhcyBSZW5kZXJlciBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcud2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29uZmlnLmhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcucGl4ZWxSYXRpbyBLaW5ldGljSlMgYXV0b21hdGljYWxseSBoYW5kbGVzIHBpeGVsIHJhdGlvIGFkanVzdG1lbnRzIGluIG9yZGVyIHRvIHJlbmRlciBjcmlzcCBkcmF3aW5nc1xuICAgICAqICBvbiBhbGwgZGV2aWNlcy4gTW9zdCBkZXNrdG9wcywgbG93IGVuZCB0YWJsZXRzLCBhbmQgbG93IGVuZCBwaG9uZXMsIGhhdmUgZGV2aWNlIHBpeGVsIHJhdGlvc1xuICAgICAqICBvZiAxLiAgU29tZSBoaWdoIGVuZCB0YWJsZXRzIGFuZCBwaG9uZXMsIGxpa2UgaVBob25lcyBhbmQgaVBhZHMgKG5vdCB0aGUgbWluaSkgaGF2ZSBhIGRldmljZSBwaXhlbCByYXRpbyBcbiAgICAgKiAgb2YgMi4gIFNvbWUgTWFjYm9vayBQcm9zLCBhbmQgaU1hY3MgYWxzbyBoYXZlIGEgZGV2aWNlIHBpeGVsIHJhdGlvIG9mIDIuICBTb21lIGhpZ2ggZW5kIEFuZHJvaWQgZGV2aWNlcyBoYXZlIHBpeGVsIFxuICAgICAqICByYXRpb3Mgb2YgMiBvciAzLiAgU29tZSBicm93c2VycyBsaWtlIEZpcmVmb3ggYWxsb3cgeW91IHRvIGNvbmZpZ3VyZSB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIHZpZXdwb3J0LiAgVW5sZXNzIG90aGVyd2lzZVxuICAgICAqICBzcGVjaWZpZWQsIHRoZSBwaXhlbCByYXRpbyB3aWxsIGJlIGRlZmF1bHRlZCB0byB0aGUgYWN0dWFsIGRldmljZSBwaXhlbCByYXRpby4gIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRldmljZSBwaXhlbFxuICAgICAqICByYXRpbyBmb3Igc3BlY2lhbCBzaXR1YXRpb25zLCBvciwgaWYgeW91IGRvbid0IHdhbnQgdGhlIHBpeGVsIHJhdGlvIHRvIGJlIHRha2VuIGludG8gYWNjb3VudCwgeW91IGNhbiBzZXQgaXQgdG8gMS5cbiAgICAgKi9cbiAgICBLaW5ldGljLkNhbnZhcyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLmluaXQoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5DYW52YXMucHJvdG90eXBlID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciBjb25mID0gY29uZmlnIHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IGNvbmYucGl4ZWxSYXRpbyB8fCBLaW5ldGljLnBpeGVsUmF0aW8gfHwgX3BpeGVsUmF0aW87XG5cbiAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMgPSBLaW5ldGljLlV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuXG4gICAgICAgICAgICAvLyBzZXQgaW5saW5lIHN0eWxlc1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLnBhZGRpbmcgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLm1hcmdpbiA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuYm9yZGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUudG9wID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5sZWZ0ID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBjYW52YXMgY29udGV4dFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNhbnZhcy5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0NhbnZhc0NvbnRleHR9IGNvbnRleHRcbiAgICAgICAgICovXG4gICAgICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBwaXhlbCByYXRpb1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNhbnZhcy5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge051bWJlcn0gcGl4ZWwgcmF0aW9cbiAgICAgICAgICovXG4gICAgICAgIGdldFBpeGVsUmF0aW86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBwaXhlbCByYXRpb1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNhbnZhcy5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBpeGVsUmF0aW8gS2luZXRpY0pTIGF1dG9tYXRpY2FsbHkgaGFuZGxlcyBwaXhlbCByYXRpbyBhZHVzdG1lbnRzIGluIG9yZGVyIHRvIHJlbmRlciBjcmlzcCBkcmF3aW5ncyBcbiAgICAgICAgICogIG9uIGFsbCBkZXZpY2VzLiBNb3N0IGRlc2t0b3BzLCBsb3cgZW5kIHRhYmxldHMsIGFuZCBsb3cgZW5kIHBob25lcywgaGF2ZSBkZXZpY2UgcGl4ZWwgcmF0aW9zXG4gICAgICAgICAqICBvZiAxLiAgU29tZSBoaWdoIGVuZCB0YWJsZXRzIGFuZCBwaG9uZXMsIGxpa2UgaVBob25lcyBhbmQgaVBhZHMgKG5vdCB0aGUgbWluaSkgaGF2ZSBhIGRldmljZSBwaXhlbCByYXRpbyBcbiAgICAgICAgICogIG9mIDIuICBTb21lIE1hY2Jvb2sgUHJvcywgYW5kIGlNYWNzIGFsc28gaGF2ZSBhIGRldmljZSBwaXhlbCByYXRpbyBvZiAyLiAgU29tZSBoaWdoIGVuZCBBbmRyb2lkIGRldmljZXMgaGF2ZSBwaXhlbCBcbiAgICAgICAgICogIHJhdGlvcyBvZiAyIG9yIDMuICBTb21lIGJyb3dzZXJzIGxpa2UgRmlyZWZveCBhbGxvdyB5b3UgdG8gY29uZmlndXJlIHRoZSBwaXhlbCByYXRpbyBvZiB0aGUgdmlld3BvcnQuICBVbmxlc3Mgb3RoZXJ3aXNlXG4gICAgICAgICAqICBzcGVjaWZpY2VkLCB0aGUgcGl4ZWwgcmF0aW8gd2lsbCBiZSBkZWZhdWx0ZWQgdG8gdGhlIGFjdHVhbCBkZXZpY2UgcGl4ZWwgcmF0aW8uICBZb3UgY2FuIG92ZXJyaWRlIHRoZSBkZXZpY2UgcGl4ZWxcbiAgICAgICAgICogIHJhdGlvIGZvciBzcGVjaWFsIHNpdHVhdGlvbnMsIG9yLCBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgcGl4ZWwgcmF0aW8gdG8gYmUgdGFrZW4gaW50byBhY2NvdW50LCB5b3UgY2FuIHNldCBpdCB0byAxLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UGl4ZWxSYXRpbzogZnVuY3Rpb24ocGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHdpZHRoXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ2FudmFzLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgICAgICovXG4gICAgICAgIHNldFdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjY291bnQgcGl4ZWwgcmF0aW9cbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBoZWlnaHRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5DYW52YXMucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgICAgICovXG4gICAgICAgIHNldEhlaWdodDogZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyB0YWtlIGludG8gYWNjb3VudCBwaXhlbCByYXRpb1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgd2lkdGhcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5DYW52YXMucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHdpZHRoXG4gICAgICAgICAqL1xuICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBoZWlnaHRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5DYW52YXMucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IGhlaWdodFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBzaXplXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ2FudmFzLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCh3aWR0aCk7XG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChoZWlnaHQpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogdG8gZGF0YSB1cmxcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5DYW52YXMucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lVHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcXVhbGl0eSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGpwZyBtaW1lIHR5cGVzXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGRhdGEgdXJsIHN0cmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgdG9EYXRhVVJMOiBmdW5jdGlvbihtaW1lVHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGNhbGwgZmFpbHMgKGR1ZSB0byBicm93c2VyIGJ1ZywgbGlrZSBpbiBGaXJlZm94IDMuNiksXG4gICAgICAgICAgICAgICAgLy8gdGhlbiByZXZlcnQgdG8gcHJldmlvdXMgbm8tcGFyYW1ldGVyIGltYWdlL3BuZyBiZWhhdmlvclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW52YXMudG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ1VuYWJsZSB0byBnZXQgZGF0YSBVUkwuICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5TY2VuZUNhbnZhcyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgY29uZiA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gY29uZi53aWR0aCB8fCAwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uZi5oZWlnaHQgfHwgMDtcblxuICAgICAgICBLaW5ldGljLkNhbnZhcy5jYWxsKHRoaXMsIGNvbmYpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgS2luZXRpYy5TY2VuZUNvbnRleHQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5TY2VuZUNhbnZhcy5wcm90b3R5cGUgPSB7XG4gICAgICAgIHNldFdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgX2NvbnRleHQgPSB0aGlzLmdldENvbnRleHQoKS5fY29udGV4dDtcblxuICAgICAgICAgICAgS2luZXRpYy5DYW52YXMucHJvdG90eXBlLnNldFdpZHRoLmNhbGwodGhpcywgd2lkdGgpO1xuICAgICAgICAgICAgX2NvbnRleHQuc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhlaWdodDogZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICBfY29udGV4dCA9IHRoaXMuZ2V0Q29udGV4dCgpLl9jb250ZXh0O1xuXG4gICAgICAgICAgICBLaW5ldGljLkNhbnZhcy5wcm90b3R5cGUuc2V0SGVpZ2h0LmNhbGwodGhpcywgaGVpZ2h0KTtcbiAgICAgICAgICAgIF9jb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuU2NlbmVDYW52YXMsIEtpbmV0aWMuQ2FudmFzKTtcblxuICAgIEtpbmV0aWMuSGl0Q2FudmFzID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBjb25mID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSBjb25mLndpZHRoIHx8IDAsXG4gICAgICAgICAgICBoZWlnaHQgPSBjb25mLmhlaWdodCB8fCAwO1xuICAgICAgICAgICAgXG4gICAgICAgIEtpbmV0aWMuQ2FudmFzLmNhbGwodGhpcywgY29uZik7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBLaW5ldGljLkhpdENvbnRleHQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5oaXRDYW52YXMgPSB0cnVlO1xuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkhpdENhbnZhcywgS2luZXRpYy5DYW52YXMpO1xuXG59KSgpO1xuOyhmdW5jdGlvbigpIHtcbiAgICB2YXIgQ09NTUEgPSAnLCcsXG4gICAgICAgIE9QRU5fUEFSRU4gPSAnKCcsXG4gICAgICAgIENMT1NFX1BBUkVOID0gJyknLFxuICAgICAgICBPUEVOX1BBUkVOX0JSQUNLRVQgPSAnKFsnLFxuICAgICAgICBDTE9TRV9CUkFDS0VUX1BBUkVOID0gJ10pJyxcbiAgICAgICAgU0VNSUNPTE9OID0gJzsnLFxuICAgICAgICBET1VCTEVfUEFSRU4gPSAnKCknLFxuICAgICAgICAvLyBFTVBUWV9TVFJJTkcgPSAnJyxcbiAgICAgICAgRVFVQUxTID0gJz0nLFxuICAgICAgICAvLyBTRVQgPSAnc2V0JyxcbiAgICAgICAgQ09OVEVYVF9NRVRIT0RTID0gW1xuICAgICAgICAgICAgJ2FyYycsXG4gICAgICAgICAgICAnYXJjVG8nLFxuICAgICAgICAgICAgJ2JlZ2luUGF0aCcsXG4gICAgICAgICAgICAnYmV6aWVyQ3VydmVUbycsXG4gICAgICAgICAgICAnY2xlYXJSZWN0JyxcbiAgICAgICAgICAgICdjbGlwJyxcbiAgICAgICAgICAgICdjbG9zZVBhdGgnLFxuICAgICAgICAgICAgJ2NyZWF0ZUxpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdjcmVhdGVQYXR0ZXJuJyxcbiAgICAgICAgICAgICdjcmVhdGVSYWRpYWxHcmFkaWVudCcsXG4gICAgICAgICAgICAnZHJhd0ltYWdlJyxcbiAgICAgICAgICAgICdmaWxsJyxcbiAgICAgICAgICAgICdmaWxsVGV4dCcsXG4gICAgICAgICAgICAnZ2V0SW1hZ2VEYXRhJyxcbiAgICAgICAgICAgICdjcmVhdGVJbWFnZURhdGEnLFxuICAgICAgICAgICAgJ2xpbmVUbycsXG4gICAgICAgICAgICAnbW92ZVRvJyxcbiAgICAgICAgICAgICdwdXRJbWFnZURhdGEnLFxuICAgICAgICAgICAgJ3F1YWRyYXRpY0N1cnZlVG8nLFxuICAgICAgICAgICAgJ3JlY3QnLFxuICAgICAgICAgICAgJ3Jlc3RvcmUnLFxuICAgICAgICAgICAgJ3JvdGF0ZScsXG4gICAgICAgICAgICAnc2F2ZScsXG4gICAgICAgICAgICAnc2NhbGUnLFxuICAgICAgICAgICAgJ3NldExpbmVEYXNoJyxcbiAgICAgICAgICAgICdzZXRUcmFuc2Zvcm0nLFxuICAgICAgICAgICAgJ3N0cm9rZScsXG4gICAgICAgICAgICAnc3Ryb2tlVGV4dCcsXG4gICAgICAgICAgICAndHJhbnNmb3JtJyxcbiAgICAgICAgICAgICd0cmFuc2xhdGUnXG4gICAgICAgIF07XG5cbiAgICAvKipcbiAgICAgKiBDYW52YXMgQ29udGV4dCBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICovXG4gICAgS2luZXRpYy5Db250ZXh0ID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkNvbnRleHQucHJvdG90eXBlID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IGNhbnZhcy5fY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgICAgIGlmIChLaW5ldGljLmVuYWJsZVRyYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZUFyciA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZVRyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmaWxsIHNoYXBlXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGV4dC5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtLaW5ldGljLlNoYXBlfSBzaGFwZVxuICAgICAgICAgKi9cbiAgICAgICAgZmlsbFNoYXBlOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgaWYoc2hhcGUuZ2V0RmlsbEVuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogc3Ryb2tlIHNoYXBlXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGV4dC5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtLaW5ldGljLlNoYXBlfSBzaGFwZVxuICAgICAgICAgKi9cbiAgICAgICAgc3Ryb2tlU2hhcGU6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICBpZihzaGFwZS5nZXRTdHJva2VFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2Uoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZmlsbCB0aGVuIHN0cm9rZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRleHQucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7S2luZXRpYy5TaGFwZX0gc2hhcGVcbiAgICAgICAgICovXG4gICAgICAgIGZpbGxTdHJva2VTaGFwZTogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBmaWxsRW5hYmxlZCA9IHNoYXBlLmdldEZpbGxFbmFibGVkKCk7XG4gICAgICAgICAgICBpZihmaWxsRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc2hhcGUuZ2V0U3Ryb2tlRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlKHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBjb250ZXh0IHRyYWNlIGlmIHRyYWNlIGlzIGVuYWJsZWRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db250ZXh0LnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbGF4ZWQgaWYgZmFsc2UsIHJldHVybiBzdHJpY3QgY29udGV4dCB0cmFjZSwgd2hpY2ggaW5jbHVkZXMgbWV0aG9kIG5hbWVzLCBtZXRob2QgcGFyYW1ldGVyc1xuICAgICAgICAgKiAgcHJvcGVydGllcywgYW5kIHByb3BlcnR5IHZhbHVlcy4gIElmIHRydWUsIHJldHVybiByZWxheGVkIGNvbnRleHQgdHJhY2UsIHdoaWNoIG9ubHkgcmV0dXJucyBtZXRob2QgbmFtZXMgYW5kXG4gICAgICAgICAqICBwcm9wZXJpdGVzLlxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VHJhY2U6IGZ1bmN0aW9uKHJlbGF4ZWQpIHtcbiAgICAgICAgICAgIHZhciB0cmFjZUFyciA9IHRoaXMudHJhY2VBcnIsXG4gICAgICAgICAgICAgICAgbGVuID0gdHJhY2VBcnIubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHN0ciA9ICcnLFxuICAgICAgICAgICAgICAgIG4sIHRyYWNlLCBtZXRob2QsIGFyZ3M7XG5cbiAgICAgICAgICAgIGZvciAobj0wOyBuPGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UgPSB0cmFjZUFycltuXTtcbiAgICAgICAgICAgICAgICBtZXRob2QgPSB0cmFjZS5tZXRob2Q7XG5cbiAgICAgICAgICAgICAgICAvLyBtZXRob2RzXG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gdHJhY2UuYXJncztcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IG1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGF4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBET1VCTEVfUEFSRU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoS2luZXRpYy5VdGlsLl9pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IE9QRU5fUEFSRU5fQlJBQ0tFVCArIGFyZ3Muam9pbihDT01NQSkgKyBDTE9TRV9CUkFDS0VUX1BBUkVOO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IE9QRU5fUEFSRU4gKyBhcmdzLmpvaW4oQ09NTUEpICsgQ0xPU0VfUEFSRU47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gdHJhY2UucHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVsYXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IEVRVUFMUyArIHRyYWNlLnZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0ciArPSBTRU1JQ09MT047XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGVhciB0cmFjZSBpZiB0cmFjZSBpcyBlbmFibGVkXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGV4dC5wcm90b3R5cGVcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyVHJhY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmFjZUFyciA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICBfdHJhY2U6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgdmFyIHRyYWNlQXJyID0gdGhpcy50cmFjZUFycixcbiAgICAgICAgICAgICAgICBsZW47XG4gXG4gICAgICAgICAgICB0cmFjZUFyci5wdXNoKHN0cik7XG4gICAgICAgICAgICBsZW4gPSB0cmFjZUFyci5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPj0gS2luZXRpYy50cmFjZUFyck1heCkge1xuICAgICAgICAgICAgICAgIHRyYWNlQXJyLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXNldCBjYW52YXMgY29udGV4dCB0cmFuc2Zvcm1cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db250ZXh0LnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB0aGlzLmdldENhbnZhcygpLmdldFBpeGVsUmF0aW8oKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtKDEgKiBwaXhlbFJhdGlvLCAwLCAwLCAxICogcGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgY2FudmFzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGV4dC5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuQ2FudmFzfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNsZWFyIGNhbnZhc1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRleHQucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbYm91bmRzXVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy54XVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy55XVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy53aWR0aF1cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMuaGVpZ2h0XVxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKGJvdW5kcykge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChib3VuZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUmVjdChib3VuZHMueCB8fCAwLCBib3VuZHMueSB8fCAwLCBib3VuZHMud2lkdGggfHwgMCwgYm91bmRzLmhlaWdodCB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy5nZXRXaWR0aCgpLCBjYW52YXMuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfYXBwbHlMaW5lQ2FwOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgdmFyIGxpbmVDYXAgPSBzaGFwZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgICAgICBpZihsaW5lQ2FwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdsaW5lQ2FwJywgbGluZUNhcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9hcHBseU9wYWNpdHk6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgYWJzT3BhY2l0eSA9IHNoYXBlLmdldEFic29sdXRlT3BhY2l0eSgpO1xuICAgICAgICAgICAgaWYoYWJzT3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cignZ2xvYmFsQWxwaGEnLCBhYnNPcGFjaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2FwcGx5TGluZUpvaW46IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgbGluZUpvaW4gPSBzaGFwZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICAgICAgaWYobGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2xpbmVKb2luJywgbGluZUpvaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbihhdHRyLCB2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHRbYXR0cl0gPSB2YWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gY29udGV4dCBwYXNzIHRocm91Z2ggbWV0aG9kc1xuICAgICAgICBhcmM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LmFyYyhhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYmVnaW5QYXRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJlemllckN1cnZlVG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LmJlemllckN1cnZlVG8oYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyUmVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10pO1xuICAgICAgICB9LFxuICAgICAgICBjbGlwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuY2xpcCgpO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZVBhdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlSW1hZ2VEYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgaWYoYS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVJbWFnZURhdGEoYVswXSwgYVsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKGFbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVMaW5lYXJHcmFkaWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10pO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVQYXR0ZXJuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQuY3JlYXRlUGF0dGVybihhWzBdLCBhWzFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlUmFkaWFsR3JhZGllbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5jcmVhdGVSYWRpYWxHcmFkaWVudChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZHJhd0ltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIF9jb250ZXh0ID0gdGhpcy5fY29udGV4dDtcblxuICAgICAgICAgICAgaWYoYS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5kcmF3SW1hZ2UoYVswXSwgYVsxXSwgYVsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGEubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQuZHJhd0ltYWdlKGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhLmxlbmd0aCA9PT0gOSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LmRyYXdJbWFnZShhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmlsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmlsbFRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxUZXh0KGFbMF0sIGFbMV0sIGFbMl0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRJbWFnZURhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dC5nZXRJbWFnZURhdGEoYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbmVUbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQubGluZVRvKGFbMF0sIGFbMV0pO1xuICAgICAgICB9LFxuICAgICAgICBtb3ZlVG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0Lm1vdmVUbyhhWzBdLCBhWzFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQucmVjdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHV0SW1hZ2VEYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5wdXRJbWFnZURhdGEoYVswXSwgYVsxXSwgYVsyXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHF1YWRyYXRpY0N1cnZlVG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJvdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQucm90YXRlKGFbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc2F2ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBzY2FsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc2NhbGUoYVswXSwgYVsxXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldExpbmVEYXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIF9jb250ZXh0ID0gdGhpcy5fY29udGV4dDtcblxuICAgICAgICAgICAgLy8gd29ya3MgZm9yIENocm9tZSBhbmQgSUUxMVxuICAgICAgICAgICAgaWYodGhpcy5fY29udGV4dC5zZXRMaW5lRGFzaCkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnNldExpbmVEYXNoKGFbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdmVyaWZpZWQgdGhhdCB0aGlzIHdvcmtzIGluIGZpcmVmb3hcbiAgICAgICAgICAgIGVsc2UgaWYoJ21vekRhc2gnIGluIF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubW96RGFzaCA9IGFbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBjdXJyZW50bHkgd29yayBmb3IgU2FmYXJpXG4gICAgICAgICAgICBlbHNlIGlmKCd3ZWJraXRMaW5lRGFzaCcgaW4gX2NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC53ZWJraXRMaW5lRGFzaCA9IGFbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vIHN1cHBvcnQgZm9yIElFOSBhbmQgSUUxMFxuICAgICAgICB9LFxuICAgICAgICBzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnNldFRyYW5zZm9ybShhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3Ryb2tlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0cm9rZVRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnN0cm9rZVRleHQoYVswXSwgYVsxXSwgYVsyXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQudHJhbnNmb3JtKGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnRyYW5zbGF0ZShhWzBdLCBhWzFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2VuYWJsZVRyYWNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBsZW4gPSBDT05URVhUX01FVEhPRFMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIF9zaW1wbGlmeUFycmF5ID0gS2luZXRpYy5VdGlsLl9zaW1wbGlmeUFycmF5LFxuICAgICAgICAgICAgICAgIG9yaWdTZXR0ZXIgPSB0aGlzLnNldEF0dHIsXG4gICAgICAgICAgICAgICAgbiwgYXJncztcblxuICAgICAgICAgICAgLy8gdG8gcHJldmVudCBjcmVhdGluZyBzY29wZSBmdW5jdGlvbiBhdCBlYWNoIGxvb3BcbiAgICAgICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ01ldGhvZCA9IHRoYXRbbWV0aG9kTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhhdFttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IF9zaW1wbGlmeUFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gb3JpZ01ldGhvZC5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3RyYWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogYXJnc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBtZXRob2RzXG4gICAgICAgICAgICBmb3IgKG49MDsgbjxsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGZ1bmMoQ09OVEVYVF9NRVRIT0RTW25dKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYXR0cnNcbiAgICAgICAgICAgIHRoYXQuc2V0QXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9yaWdTZXR0ZXIuYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll90cmFjZSh7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICAgICAgICAgIHZhbDogYXJndW1lbnRzWzFdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuU2NlbmVDb250ZXh0ID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgIEtpbmV0aWMuQ29udGV4dC5jYWxsKHRoaXMsIGNhbnZhcyk7XG4gICAgfTtcblxuICAgIEtpbmV0aWMuU2NlbmVDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICAgICAgX2ZpbGxDb2xvcjogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBmaWxsID0gc2hhcGUuZmlsbCgpXG4gICAgICAgICAgICAgICAgfHwgS2luZXRpYy5VdGlsLl9nZXRSR0JBU3RyaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgcmVkOiBzaGFwZS5maWxsUmVkKCksXG4gICAgICAgICAgICAgICAgICAgIGdyZWVuOiBzaGFwZS5maWxsR3JlZW4oKSxcbiAgICAgICAgICAgICAgICAgICAgYmx1ZTogc2hhcGUuZmlsbEJsdWUoKSxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGE6IHNoYXBlLmZpbGxBbHBoYSgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignZmlsbFN0eWxlJywgZmlsbCk7XG4gICAgICAgICAgICBzaGFwZS5fZmlsbEZ1bmModGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9maWxsUGF0dGVybjogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBmaWxsUGF0dGVybkltYWdlID0gc2hhcGUuZ2V0RmlsbFBhdHRlcm5JbWFnZSgpLFxuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuWCA9IHNoYXBlLmdldEZpbGxQYXR0ZXJuWCgpLFxuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuWSA9IHNoYXBlLmdldEZpbGxQYXR0ZXJuWSgpLFxuICAgICAgICAgICAgICAgIGZpbGxQYXR0ZXJuU2NhbGUgPSBzaGFwZS5nZXRGaWxsUGF0dGVyblNjYWxlKCksXG4gICAgICAgICAgICAgICAgZmlsbFBhdHRlcm5Sb3RhdGlvbiA9IEtpbmV0aWMuZ2V0QW5nbGUoc2hhcGUuZ2V0RmlsbFBhdHRlcm5Sb3RhdGlvbigpKSxcbiAgICAgICAgICAgICAgICBmaWxsUGF0dGVybk9mZnNldCA9IHNoYXBlLmdldEZpbGxQYXR0ZXJuT2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgZmlsbFBhdHRlcm5SZXBlYXQgPSBzaGFwZS5nZXRGaWxsUGF0dGVyblJlcGVhdCgpO1xuXG4gICAgICAgICAgICBpZihmaWxsUGF0dGVyblggfHwgZmlsbFBhdHRlcm5ZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUoZmlsbFBhdHRlcm5YIHx8IDAsIGZpbGxQYXR0ZXJuWSB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGZpbGxQYXR0ZXJuUm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZShmaWxsUGF0dGVyblJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGZpbGxQYXR0ZXJuU2NhbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlKGZpbGxQYXR0ZXJuU2NhbGUueCwgZmlsbFBhdHRlcm5TY2FsZS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGZpbGxQYXR0ZXJuT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUoLTEgKiBmaWxsUGF0dGVybk9mZnNldC54LCAtMSAqIGZpbGxQYXR0ZXJuT2Zmc2V0LnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2ZpbGxTdHlsZScsIHRoaXMuY3JlYXRlUGF0dGVybihmaWxsUGF0dGVybkltYWdlLCBmaWxsUGF0dGVyblJlcGVhdCB8fCAncmVwZWF0JykpO1xuICAgICAgICAgICAgdGhpcy5maWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIF9maWxsTGluZWFyR3JhZGllbnQ6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBzaGFwZS5nZXRGaWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50KCksXG4gICAgICAgICAgICAgICAgZW5kID0gc2hhcGUuZ2V0RmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnQoKSxcbiAgICAgICAgICAgICAgICBjb2xvclN0b3BzID0gc2hhcGUuZ2V0RmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wcygpLFxuICAgICAgICAgICAgICAgIGdyZCA9IHRoaXMuY3JlYXRlTGluZWFyR3JhZGllbnQoc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcblxuICAgICAgICAgICAgaWYgKGNvbG9yU3RvcHMpIHtcbiAgICAgICAgICAgICAgICAvLyBidWlsZCBjb2xvciBzdG9wc1xuICAgICAgICAgICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCBjb2xvclN0b3BzLmxlbmd0aDsgbiArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyZC5hZGRDb2xvclN0b3AoY29sb3JTdG9wc1tuXSwgY29sb3JTdG9wc1tuICsgMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2ZpbGxTdHlsZScsIGdyZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9maWxsUmFkaWFsR3JhZGllbnQ6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBzaGFwZS5nZXRGaWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50KCksXG4gICAgICAgICAgICAgICAgZW5kID0gc2hhcGUuZ2V0RmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnQoKSxcbiAgICAgICAgICAgICAgICBzdGFydFJhZGl1cyA9IHNoYXBlLmdldEZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzKCksXG4gICAgICAgICAgICAgICAgZW5kUmFkaXVzID0gc2hhcGUuZ2V0RmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzKCksXG4gICAgICAgICAgICAgICAgY29sb3JTdG9wcyA9IHNoYXBlLmdldEZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMoKSxcbiAgICAgICAgICAgICAgICBncmQgPSB0aGlzLmNyZWF0ZVJhZGlhbEdyYWRpZW50KHN0YXJ0LngsIHN0YXJ0LnksIHN0YXJ0UmFkaXVzLCBlbmQueCwgZW5kLnksIGVuZFJhZGl1cyk7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgLy8gYnVpbGQgY29sb3Igc3RvcHNcbiAgICAgICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCBjb2xvclN0b3BzLmxlbmd0aDsgbiArPSAyKSB7XG4gICAgICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcChjb2xvclN0b3BzW25dLCBjb2xvclN0b3BzW24gKyAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2ZpbGxTdHlsZScsIGdyZCk7XG4gICAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2ZpbGw6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICB2YXIgaGFzQ29sb3IgPSBzaGFwZS5maWxsKCkgfHwgc2hhcGUuZmlsbFJlZCgpIHx8IHNoYXBlLmZpbGxHcmVlbigpIHx8IHNoYXBlLmZpbGxCbHVlKCksXG4gICAgICAgICAgICAgICAgaGFzUGF0dGVybiA9IHNoYXBlLmdldEZpbGxQYXR0ZXJuSW1hZ2UoKSxcbiAgICAgICAgICAgICAgICBoYXNMaW5lYXJHcmFkaWVudCA9IHNoYXBlLmdldEZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKSxcbiAgICAgICAgICAgICAgICBoYXNSYWRpYWxHcmFkaWVudCA9IHNoYXBlLmdldEZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMoKSxcbiAgICAgICAgICAgICAgICBmaWxsUHJpb3JpdHkgPSBzaGFwZS5nZXRGaWxsUHJpb3JpdHkoKTtcblxuICAgICAgICAgICAgLy8gcHJpb3JpdHkgZmlsbHNcbiAgICAgICAgICAgIGlmKGhhc0NvbG9yICYmIGZpbGxQcmlvcml0eSA9PT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxDb2xvcihzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGhhc1BhdHRlcm4gJiYgZmlsbFByaW9yaXR5ID09PSAncGF0dGVybicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsUGF0dGVybihzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGhhc0xpbmVhckdyYWRpZW50ICYmIGZpbGxQcmlvcml0eSA9PT0gJ2xpbmVhci1ncmFkaWVudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsTGluZWFyR3JhZGllbnQoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihoYXNSYWRpYWxHcmFkaWVudCAmJiBmaWxsUHJpb3JpdHkgPT09ICdyYWRpYWwtZ3JhZGllbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbFJhZGlhbEdyYWRpZW50KHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vdyBqdXN0IHRyeSBhbmQgZmlsbCB3aXRoIHdoYXRldmVyIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgZWxzZSBpZihoYXNDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxDb2xvcihzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGhhc1BhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsUGF0dGVybihzaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGhhc0xpbmVhckdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbExpbmVhckdyYWRpZW50KHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoaGFzUmFkaWFsR3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsUmFkaWFsR3JhZGllbnQoc2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfc3Ryb2tlOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgdmFyIGRhc2ggPSBzaGFwZS5kYXNoKCksXG4gICAgICAgICAgICAgICAgc3Ryb2tlU2NhbGVFbmFibGVkID0gc2hhcGUuZ2V0U3Ryb2tlU2NhbGVFbmFibGVkKCk7XG5cbiAgICAgICAgICAgIGlmKHNoYXBlLmhhc1N0cm9rZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJva2VTY2FsZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5TGluZUNhcChzaGFwZSk7XG4gICAgICAgICAgICAgICAgaWYoZGFzaCAmJiBzaGFwZS5kYXNoRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TGluZURhc2goZGFzaCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdsaW5lV2lkdGgnLCBzaGFwZS5zdHJva2VXaWR0aCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ3N0cm9rZVN0eWxlJywgc2hhcGUuc3Ryb2tlKClcbiAgICAgICAgICAgICAgICAgICAgfHwgS2luZXRpYy5VdGlsLl9nZXRSR0JBU3RyaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZDogc2hhcGUuc3Ryb2tlUmVkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBncmVlbjogc2hhcGUuc3Ryb2tlR3JlZW4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsdWU6IHNoYXBlLnN0cm9rZUJsdWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiBzaGFwZS5zdHJva2VBbHBoYSgpXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlLl9zdHJva2VGdW5jKHRoaXMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghc3Ryb2tlU2NhbGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2FwcGx5U2hhZG93OiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgdmFyIHV0aWwgPSBLaW5ldGljLlV0aWwsXG4gICAgICAgICAgICAgICAgYWJzT3BhY2l0eSA9IHNoYXBlLmdldEFic29sdXRlT3BhY2l0eSgpLFxuICAgICAgICAgICAgICAgIGNvbG9yID0gdXRpbC5nZXQoc2hhcGUuZ2V0U2hhZG93Q29sb3IoKSwgJ2JsYWNrJyksXG4gICAgICAgICAgICAgICAgYmx1ciA9IHV0aWwuZ2V0KHNoYXBlLmdldFNoYWRvd0JsdXIoKSwgNSksXG4gICAgICAgICAgICAgICAgc2hhZG93T3BhY2l0eSA9IHV0aWwuZ2V0KHNoYXBlLmdldFNoYWRvd09wYWNpdHkoKSwgMSksXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdXRpbC5nZXQoc2hhcGUuZ2V0U2hhZG93T2Zmc2V0KCksIHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZihzaGFkb3dPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdnbG9iYWxBbHBoYScsIHNoYWRvd09wYWNpdHkgKiBhYnNPcGFjaXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdzaGFkb3dDb2xvcicsIGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc2hhZG93Qmx1cicsIGJsdXIpO1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdzaGFkb3dPZmZzZXRYJywgb2Zmc2V0LngpO1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdzaGFkb3dPZmZzZXRZJywgb2Zmc2V0LnkpO1xuICAgICAgICBcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlNjZW5lQ29udGV4dCwgS2luZXRpYy5Db250ZXh0KTtcblxuICAgIEtpbmV0aWMuSGl0Q29udGV4dCA9IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgICBLaW5ldGljLkNvbnRleHQuY2FsbCh0aGlzLCBjYW52YXMpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkhpdENvbnRleHQucHJvdG90eXBlID0ge1xuICAgICAgICBfZmlsbDogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyKCdmaWxsU3R5bGUnLCBzaGFwZS5jb2xvcktleSk7XG4gICAgICAgICAgICBzaGFwZS5fZmlsbEZ1bmNIaXQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlc3RvcmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3N0cm9rZTogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIGlmKHNoYXBlLmhhc1N0cm9rZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlMaW5lQ2FwKHNoYXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHIoJ2xpbmVXaWR0aCcsIHNoYXBlLnN0cm9rZVdpZHRoKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc3Ryb2tlU3R5bGUnLCBzaGFwZS5jb2xvcktleSk7XG4gICAgICAgICAgICAgICAgc2hhcGUuX3N0cm9rZUZ1bmNIaXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5IaXRDb250ZXh0LCBLaW5ldGljLkNvbnRleHQpO1xufSkoKTtcbjsvKmpzaGludCB1bnVzZWQ6ZmFsc2UgKi9cbihmdW5jdGlvbigpIHtcbiAgICAvLyBDT05TVEFOVFNcbiAgICB2YXIgR0VUID0gJ2dldCcsXG4gICAgICAgIFJHQiA9ICdSR0InLFxuICAgICAgICBTRVQgPSAnc2V0JztcblxuICAgIEtpbmV0aWMuRmFjdG9yeSA9IHtcbiAgICAgICAgYWRkR2V0dGVyU2V0dGVyOiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgYXR0ciwgZGVmLCB2YWxpZGF0b3IsIGFmdGVyKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEdldHRlcihjb25zdHJ1Y3RvciwgYXR0ciwgZGVmKTtcbiAgICAgICAgICAgIHRoaXMuYWRkU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyLCB2YWxpZGF0b3IsIGFmdGVyKTtcbiAgICAgICAgICAgIHRoaXMuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihjb25zdHJ1Y3RvciwgYXR0cik7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEdldHRlcjogZnVuY3Rpb24oY29uc3RydWN0b3IsIGF0dHIsIGRlZikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdFVCArIEtpbmV0aWMuVXRpbC5fY2FwaXRhbGl6ZShhdHRyKTtcblxuICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5hdHRyc1thdHRyXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBkZWYgOiB2YWw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBhZGRTZXR0ZXI6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBhdHRyLCB2YWxpZGF0b3IsIGFmdGVyKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gU0VUICsgS2luZXRpYy5VdGlsLl9jYXBpdGFsaXplKGF0dHIpO1xuXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsaWRhdG9yLmNhbGwodGhpcywgdmFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKGF0dHIsIHZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXI6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBhdHRyLCBjb21wb25lbnRzLCB2YWxpZGF0b3IsIGFmdGVyKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY29tcG9uZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgY2FwaXRhbGl6ZSA9IEtpbmV0aWMuVXRpbC5fY2FwaXRhbGl6ZSxcbiAgICAgICAgICAgICAgICBnZXR0ZXIgPSBHRVQgKyBjYXBpdGFsaXplKGF0dHIpLFxuICAgICAgICAgICAgICAgIHNldHRlciA9IFNFVCArIGNhcGl0YWxpemUoYXR0ciksXG4gICAgICAgICAgICAgICAgbiwgY29tcG9uZW50O1xuXG4gICAgICAgICAgICAvLyBnZXR0ZXJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZVtnZXR0ZXJdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yIChuPTA7IG48bGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gY29tcG9uZW50c1tuXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0W2NvbXBvbmVudF0gPSB0aGlzLmdldEF0dHIoYXR0ciArIGNhcGl0YWxpemUoY29tcG9uZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNldHRlclxuICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW3NldHRlcl0gPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsID0gdGhpcy5hdHRyc1thdHRyXSxcbiAgICAgICAgICAgICAgICAgICAga2V5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWxpZGF0b3IuY2FsbCh0aGlzLCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKGF0dHIgKyBjYXBpdGFsaXplKGtleSksIHZhbFtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlQ2hhbmdlRXZlbnQoYXR0ciwgb2xkVmFsLCB2YWwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgICAgICBhZnRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5hZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKGNvbnN0cnVjdG9yLCBhdHRyKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcjogZnVuY3Rpb24oY29uc3RydWN0b3IsIGF0dHIpIHtcbiAgICAgICAgICAgIHZhciBjYXBpdGFsaXplZEF0dHIgPSBLaW5ldGljLlV0aWwuX2NhcGl0YWxpemUoYXR0ciksXG4gICAgICAgICAgICAgICAgc2V0dGVyID0gU0VUICsgY2FwaXRhbGl6ZWRBdHRyLFxuICAgICAgICAgICAgICAgIGdldHRlciA9IEdFVCArIGNhcGl0YWxpemVkQXR0cjtcblxuICAgICAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlW2F0dHJdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZ1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbc2V0dGVyXShhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2V0dGluZ1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tnZXR0ZXJdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYmFja0NvbXBhdDogZnVuY3Rpb24oY29uc3RydWN0b3IsIG1ldGhvZHMpIHtcbiAgICAgICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGVba2V5XSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2RzW2tleV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZnRlclNldEZpbHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJVcFRvRGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuVmFsaWRhdG9ycyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIFJHQkNvbXBvbmVudDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsID4gMjU1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDI1NTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhbHBoYUNvbXBvbmVudDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsID4gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hyb21lIGRvZXMgbm90IGhvbm9yIGFscGhhIHZhbHVlcyBvZiAwXG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCAwLjAwMDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMC4wMDAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KSgpOzsoZnVuY3Rpb24oKSB7XG4gICAgLy8gQ09OU1RBTlRTXG4gICAgdmFyIEFCU09MVVRFX09QQUNJVFkgPSAnYWJzb2x1dGVPcGFjaXR5JyxcbiAgICAgICAgQUJTT0xVVEVfVFJBTlNGT1JNID0gJ2Fic29sdXRlVHJhbnNmb3JtJyxcbiAgICAgICAgQ0hBTkdFID0gJ0NoYW5nZScsXG4gICAgICAgIENISUxEUkVOID0gJ2NoaWxkcmVuJyxcbiAgICAgICAgRE9UID0gJy4nLFxuICAgICAgICBFTVBUWV9TVFJJTkcgPSAnJyxcbiAgICAgICAgR0VUID0gJ2dldCcsXG4gICAgICAgIElEID0gJ2lkJyxcbiAgICAgICAgS0lORVRJQyA9ICdraW5ldGljJyxcbiAgICAgICAgTElTVEVOSU5HID0gJ2xpc3RlbmluZycsXG4gICAgICAgIE1PVVNFRU5URVIgPSAnbW91c2VlbnRlcicsXG4gICAgICAgIE1PVVNFTEVBVkUgPSAnbW91c2VsZWF2ZScsXG4gICAgICAgIE5BTUUgPSAnbmFtZScsXG4gICAgICAgIFNFVCA9ICdzZXQnLFxuICAgICAgICBTSEFQRSA9ICdTaGFwZScsXG4gICAgICAgIFNQQUNFID0gJyAnLFxuICAgICAgICBTVEFHRSA9ICdzdGFnZScsXG4gICAgICAgIFRSQU5TRk9STSA9ICd0cmFuc2Zvcm0nLFxuICAgICAgICBVUFBFUl9TVEFHRSA9ICdTdGFnZScsXG4gICAgICAgIFZJU0lCTEUgPSAndmlzaWJsZScsXG4gICAgICAgIENMT05FX0JMQUNLX0xJU1QgPSBbJ2lkJ10sXG5cbiAgICAgICAgVFJBTlNGT1JNX0NIQU5HRV9TVFIgPSBbXG4gICAgICAgICAgICAneENoYW5nZS5raW5ldGljJyxcbiAgICAgICAgICAgICd5Q2hhbmdlLmtpbmV0aWMnLFxuICAgICAgICAgICAgJ3NjYWxlWENoYW5nZS5raW5ldGljJyxcbiAgICAgICAgICAgICdzY2FsZVlDaGFuZ2Uua2luZXRpYycsXG4gICAgICAgICAgICAnc2tld1hDaGFuZ2Uua2luZXRpYycsXG4gICAgICAgICAgICAnc2tld1lDaGFuZ2Uua2luZXRpYycsXG4gICAgICAgICAgICAncm90YXRpb25DaGFuZ2Uua2luZXRpYycsXG4gICAgICAgICAgICAnb2Zmc2V0WENoYW5nZS5raW5ldGljJyxcbiAgICAgICAgICAgICdvZmZzZXRZQ2hhbmdlLmtpbmV0aWMnLFxuICAgICAgICAgICAgJ3RyYW5zZm9ybXNFbmFibGVkQ2hhbmdlLmtpbmV0aWMnXG4gICAgICAgIF0uam9pbihTUEFDRSk7XG5cblxuICAgIEtpbmV0aWMuVXRpbC5hZGRNZXRob2RzKEtpbmV0aWMuTm9kZSwge1xuICAgICAgICBfaW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IEtpbmV0aWMuaWRDb3VudGVyKys7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0ge307XG4gICAgICAgICAgICB0aGlzLmF0dHJzID0ge307XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cnMoY29uZmlnKTtcblxuICAgICAgICAgICAgLy8gZXZlbnQgYmluZGluZ3MgZm9yIGNhY2hlIGhhbmRsaW5nXG4gICAgICAgICAgICB0aGlzLm9uKFRSQU5TRk9STV9DSEFOR0VfU1RSLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNhY2hlKFRSQU5TRk9STSk7XG4gICAgICAgICAgICAgICAgdGhhdC5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKEFCU09MVVRFX1RSQU5TRk9STSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24oJ3Zpc2libGVDaGFuZ2Uua2luZXRpYycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShWSVNJQkxFKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbignbGlzdGVuaW5nQ2hhbmdlLmtpbmV0aWMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll9jbGVhclNlbGZBbmREZXNjZW5kYW50Q2FjaGUoTElTVEVOSU5HKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbignb3BhY2l0eUNoYW5nZS5raW5ldGljJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKEFCU09MVVRFX09QQUNJVFkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIF9jbGVhckNhY2hlOiBmdW5jdGlvbihhdHRyKXtcbiAgICAgICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2dldENhY2hlOiBmdW5jdGlvbihhdHRyLCBwcml2YXRlR2V0dGVyKXtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlW2F0dHJdO1xuXG4gICAgICAgICAgICAvLyBpZiBub3QgY2FjaGVkLCB3ZSBuZWVkIHRvIHNldCBpdCB1c2luZyB0aGUgcHJpdmF0ZSBnZXR0ZXIgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVthdHRyXSA9IHByaXZhdGVHZXR0ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2F0dHJdO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuICAgICAgICAgKiB3aGVuIHRoZSBsb2dpYyBmb3IgYSBjYWNoZWQgcmVzdWx0IGRlcGVuZHMgb24gYW5jZXN0b3IgcHJvcGFnYXRpb24sIHVzZSB0aGlzXG4gICAgICAgICAqIG1ldGhvZCB0byBjbGVhciBzZWxmIGFuZCBjaGlsZHJlbiBjYWNoZVxuICAgICAgICAgKi9cbiAgICAgICAgX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZTogZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJDYWNoZShhdHRyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShhdHRyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogY2xlYXIgY2FjaGVkIGNhbnZhc1xuICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgKiBub2RlLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgKi9cbiAgICAgICAgY2xlYXJDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGUuY2FudmFzO1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBjYWNoZSBub2RlIHRvIGltcHJvdmUgZHJhd2luZyBwZXJmb3JtYW5jZSwgYXBwbHkgZmlsdGVycywgb3IgY3JlYXRlIG1vcmUgYWNjdXJhdGVcbiAgICAgICAgKiAgaGl0IHJlZ2lvbnNcbiAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cbiAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxuICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxuICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cbiAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhd0JvcmRlcl0gd2hlbiBzZXQgdG8gdHJ1ZSwgYSByZWQgYm9yZGVyIHdpbGwgYmUgZHJhd24gYXJvdW5kIHRoZSBjYWNoZWRcbiAgICAgICAgKiAgcmVnaW9uIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcbiAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICogLy8gY2FjaGUgYSBzaGFwZSB3aXRoIHRoZSB4LHkgcG9zaXRpb24gb2YgdGhlIGJvdW5kaW5nIGJveCBhdCB0aGUgY2VudGVyIGFuZFxuICAgICAgICAqIC8vIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBib3VuZGluZyBib3ggZXF1YWwgdG8gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2ZcbiAgICAgICAgKiAvLyB0aGUgc2hhcGUgb2J0YWluZWQgZnJvbSBzaGFwZS53aWR0aCgpIGFuZCBzaGFwZS5oZWlnaHQoKVxuICAgICAgICAqIGltYWdlLmNhY2hlKCk7XG4gICAgICAgICpcbiAgICAgICAgKiAvLyBjYWNoZSBhIG5vZGUgYW5kIGRlZmluZSB0aGUgYm91bmRpbmcgYm94IHBvc2l0aW9uIGFuZCBzaXplXG4gICAgICAgICogbm9kZS5jYWNoZSh7XG4gICAgICAgICogICB4OiAtMzAsXG4gICAgICAgICogICB5OiAtMzAsXG4gICAgICAgICogICB3aWR0aDogMTAwLFxuICAgICAgICAqICAgaGVpZ2h0OiAyMDBcbiAgICAgICAgKiB9KTtcbiAgICAgICAgKlxuICAgICAgICAqIC8vIGNhY2hlIGEgbm9kZSBhbmQgZHJhdyBhIHJlZCBib3JkZXIgYXJvdW5kIHRoZSBib3VuZGluZyBib3hcbiAgICAgICAgKiAvLyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzXG4gICAgICAgICogbm9kZS5jYWNoZSh7XG4gICAgICAgICogICB4OiAtMzAsXG4gICAgICAgICogICB5OiAtMzAsXG4gICAgICAgICogICB3aWR0aDogMTAwLFxuICAgICAgICAqICAgaGVpZ2h0OiAyMDAsXG4gICAgICAgICogICBkcmF3Qm9yZGVyOiB0cnVlXG4gICAgICAgICogfSk7XG4gICAgICAgICovXG4gICAgICAgIGNhY2hlOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciBjb25mID0gY29uZmlnIHx8IHt9LFxuICAgICAgICAgICAgICAgIHggPSBjb25mLnggfHwgMCxcbiAgICAgICAgICAgICAgICB5ID0gY29uZi55IHx8IDAsXG4gICAgICAgICAgICAgICAgd2lkdGggPSBjb25mLndpZHRoIHx8IHRoaXMud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBjb25mLmhlaWdodCB8fCB0aGlzLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIGRyYXdCb3JkZXIgPSBjb25mLmRyYXdCb3JkZXIgfHwgZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwud2FybignV2lkdGggb3IgaGVpZ2h0IG9mIGNhY2hpbmcgY29uZmlndXJhdGlvbiBlcXVhbHMgMC4gQ2FjaGUgaXMgaWdub3JlZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FjaGVkU2NlbmVDYW52YXMgPSBuZXcgS2luZXRpYy5TY2VuZUNhbnZhcyh7XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IDEsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYWNoZWRGaWx0ZXJDYW52YXMgPSBuZXcgS2luZXRpYy5TY2VuZUNhbnZhcyh7XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IDEsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYWNoZWRIaXRDYW52YXMgPSBuZXcgS2luZXRpYy5IaXRDYW52YXMoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc2NlbmVDb250ZXh0ID0gY2FjaGVkU2NlbmVDYW52YXMuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgIGhpdENvbnRleHQgPSBjYWNoZWRIaXRDYW52YXMuZ2V0Q29udGV4dCgpO1xuXG4gICAgICAgICAgICBjYWNoZWRIaXRDYW52YXMuaXNDYWNoZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgXG4gICAgICAgICAgICBzY2VuZUNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBkcmF3IGEgcmVkIGJvcmRlciBhcm91bmQgdGhlIGNhY2hlZCBib3ggZm9yXG4gICAgICAgICAgICAvLyBkZWJ1Z2dpbmcgcHVycG9zZXNcbiAgICAgICAgICAgIGlmIChkcmF3Qm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgc2NlbmVDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICBzY2VuZUNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgc2NlbmVDb250ZXh0LnJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgc2NlbmVDb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIHNjZW5lQ29udGV4dC5zZXRBdHRyKCdzdHJva2VTdHlsZScsICdyZWQnKTtcbiAgICAgICAgICAgICAgICBzY2VuZUNvbnRleHQuc2V0QXR0cignbGluZVdpZHRoJywgNSk7XG4gICAgICAgICAgICAgICAgc2NlbmVDb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIHNjZW5lQ29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjZW5lQ29udGV4dC50cmFuc2xhdGUoeCAqIC0xLCB5ICogLTEpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC50cmFuc2xhdGUoeCAqIC0xLCB5ICogLTEpO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHRyYW5zbGF0ZSBjYW52YXMgaWYgc2hhcGUgaXMgbm90IGFkZGVkIHRvIGxheWVyXG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gJ1NoYXBlJykge1xuICAgICAgICAgICAgICAgIHNjZW5lQ29udGV4dC50cmFuc2xhdGUodGhpcy54KCkgKiAtMSwgdGhpcy55KCkgKiAtMSk7XG4gICAgICAgICAgICAgICAgaGl0Q29udGV4dC50cmFuc2xhdGUodGhpcy54KCkgKiAtMSwgdGhpcy55KCkgKiAtMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd1NjZW5lKGNhY2hlZFNjZW5lQ2FudmFzLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0hpdChjYWNoZWRIaXRDYW52YXMsIHRoaXMpO1xuXG4gICAgICAgICAgICBzY2VuZUNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgaGl0Q29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLmNhbnZhcyA9IHtcbiAgICAgICAgICAgICAgICBzY2VuZTogY2FjaGVkU2NlbmVDYW52YXMsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBjYWNoZWRGaWx0ZXJDYW52YXMsXG4gICAgICAgICAgICAgICAgaGl0OiBjYWNoZWRIaXRDYW52YXNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfZHJhd0NhY2hlZFNjZW5lQ2FudmFzOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGF5ZXIoKS5fYXBwbHlUcmFuc2Zvcm0odGhpcywgY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0Ll9hcHBseU9wYWNpdHkodGhpcyk7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLl9nZXRDYWNoZWRTY2VuZUNhbnZhcygpLl9jYW52YXMsIDAsIDApO1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRDYWNoZWRTY2VuZUNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuZmlsdGVycygpLFxuICAgICAgICAgICAgICAgIGNhY2hlZENhbnZhcyA9IHRoaXMuX2NhY2hlLmNhbnZhcyxcbiAgICAgICAgICAgICAgICBzY2VuZUNhbnZhcyA9IGNhY2hlZENhbnZhcy5zY2VuZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJDYW52YXMgPSBjYWNoZWRDYW52YXMuZmlsdGVyLFxuICAgICAgICAgICAgICAgIGZpbHRlckNvbnRleHQgPSBmaWx0ZXJDYW52YXMuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgIGxlbiwgaW1hZ2VEYXRhLCBuLCBmaWx0ZXI7XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9maWx0ZXJVcFRvRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZmlsdGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJDb250ZXh0LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3B5IGNhY2hlZCBjYW52YXMgb250byBmaWx0ZXIgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ29udGV4dC5kcmF3SW1hZ2Uoc2NlbmVDYW52YXMuX2NhbnZhcywgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEgPSBmaWx0ZXJDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBmaWx0ZXJDYW52YXMuZ2V0V2lkdGgoKSwgZmlsdGVyQ2FudmFzLmdldEhlaWdodCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgZmlsdGVycyB0byBmaWx0ZXIgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChuPTA7IG48bGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSBmaWx0ZXJzW25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5jYWxsKHRoaXMsIGltYWdlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwud2FybignVW5hYmxlIHRvIGFwcGx5IGZpbHRlci4gJyArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJVcFRvRGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlckNhbnZhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2VuZUNhbnZhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2RyYXdDYWNoZWRIaXRDYW52YXM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZWRDYW52YXMgPSB0aGlzLl9jYWNoZS5jYW52YXMsXG4gICAgICAgICAgICAgICAgaGl0Q2FudmFzID0gY2FjaGVkQ2FudmFzLmhpdDtcblxuICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmdldExheWVyKCkuX2FwcGx5VHJhbnNmb3JtKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaGl0Q2FudmFzLl9jYW52YXMsIDAsIDApO1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiaW5kIGV2ZW50cyB0byB0aGUgbm9kZS4gS2luZXRpY0pTIHN1cHBvcnRzIG1vdXNlb3ZlciwgbW91c2Vtb3ZlLFxuICAgICAgICAgKiAgbW91c2VvdXQsIG1vdXNlZW50ZXIsIG1vdXNlbGVhdmUsIG1vdXNlZG93biwgbW91c2V1cCwgbW91c2V3aGVlbCwgY2xpY2ssIGRibGNsaWNrLCB0b3VjaHN0YXJ0LCB0b3VjaG1vdmUsXG4gICAgICAgICAqICB0b3VjaGVuZCwgdGFwLCBkYmx0YXAsIGRyYWdzdGFydCwgZHJhZ21vdmUsIGFuZCBkcmFnZW5kIGV2ZW50cy4gVGhlIEtpbmV0aWMgU3RhZ2Ugc3VwcG9ydHNcbiAgICAgICAgICogIGNvbnRlbnRNb3VzZW92ZXIsIGNvbnRlbnRNb3VzZW1vdmUsIGNvbnRlbnRNb3VzZW91dCwgY29udGVudE1vdXNlZG93biwgY29udGVudE1vdXNldXAsXG4gICAgICAgICAqICBjb250ZW50Q2xpY2ssIGNvbnRlbnREYmxjbGljaywgY29udGVudFRvdWNoc3RhcnQsIGNvbnRlbnRUb3VjaG1vdmUsIGNvbnRlbnRUb3VjaGVuZCwgY29udGVudFRhcCxcbiAgICAgICAgICogIGFuZCBjb250ZW50RGJsVGFwLiAgUGFzcyBpbiBhIHN0cmluZyBvZiBldmVudHMgZGVsaW1taXRlZCBieSBhIHNwYWNlIHRvIGJpbmQgbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAgICAgICAgICogIHN1Y2ggYXMgJ21vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZScuIEluY2x1ZGUgYSBuYW1lc3BhY2UgdG8gYmluZCBhblxuICAgICAgICAgKiAgZXZlbnQgYnkgbmFtZSBzdWNoIGFzICdjbGljay5mb29iYXInLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldnRTdHIgZS5nLiAnY2xpY2snLCAnbW91c2Vkb3duIHRvdWNoc3RhcnQnLCAnbW91c2Vkb3duLmZvbyB0b3VjaHN0YXJ0LmZvbydcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgaGFuZGxlciBmdW5jdGlvbiBpcyBwYXNzZWQgYW4gZXZlbnQgb2JqZWN0XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIGFkZCBjbGljayBsaXN0ZW5lclxuICAgICAgICAgKiBub2RlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKCd5b3UgY2xpY2tlZCBtZSEnKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIGdldCB0aGUgdGFyZ2V0IG5vZGVcbiAgICAgICAgICogbm9kZS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZyhldnQudGFyZ2V0KTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIHN0b3AgZXZlbnQgcHJvcGFnYXRpb25cbiAgICAgICAgICogbm9kZS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICogICBldnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIGJpbmQgbXVsdGlwbGUgbGlzdGVuZXJzXG4gICAgICAgICAqIG5vZGUub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZygneW91IGNsaWNrZWQvdG91Y2hlZCBtZSEnKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIG5hbWVzcGFjZSBsaXN0ZW5lclxuICAgICAgICAgKiBub2RlLm9uKCdjbGljay5mb28nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZygneW91IGNsaWNrZWQvdG91Y2hlZCBtZSEnKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIGdldCB0aGUgZXZlbnQgdHlwZVxuICAgICAgICAgKiBub2RlLm9uKCdjbGljayB0YXAnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICogICB2YXIgZXZlbnRUeXBlID0gZXZ0LnR5cGU7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBnZXQgbmF0aXZlIGV2ZW50IG9iamVjdFxuICAgICAgICAgKiBub2RlLm9uKCdjbGljayB0YXAnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICogICB2YXIgbmF0aXZlRXZlbnQgPSBldnQuZXZ0O1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gZm9yIGNoYW5nZSBldmVudHMsIGdldCB0aGUgb2xkIGFuZCBuZXcgdmFsXG4gICAgICAgICAqIG5vZGUub24oJ3hDaGFuZ2UnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICogICB2YXIgb2xkVmFsID0gZXZ0Lm9sZFZhbDtcbiAgICAgICAgICogICB2YXIgbmV3VmFsID0gZXZ0Lm5ld1ZhbDtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBvbjogZnVuY3Rpb24oZXZ0U3RyLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gZXZ0U3RyLnNwbGl0KFNQQUNFKSxcbiAgICAgICAgICAgICAgICBsZW4gPSBldmVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG4sIGV2ZW50LCBwYXJ0cywgYmFzZUV2ZW50LCBuYW1lO1xuXG4gICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIGxvb3AgdGhyb3VnaCB0eXBlcyBhbmQgYXR0YWNoIGV2ZW50IGxpc3RlbmVycyB0b1xuICAgICAgICAgICAgICogZWFjaCBvbmUuICBlZy4gJ2NsaWNrIG1vdXNlb3Zlci5uYW1lc3BhY2UgbW91c2VvdXQnXG4gICAgICAgICAgICAgKiB3aWxsIGNyZWF0ZSB0aHJlZSBldmVudCBiaW5kaW5nc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnRzW25dO1xuICAgICAgICAgICAgICAgIHBhcnRzID0gZXZlbnQuc3BsaXQoRE9UKTtcbiAgICAgICAgICAgICAgICBiYXNlRXZlbnQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBuYW1lID0gcGFydHNbMV0gfHwgRU1QVFlfU1RSSU5HO1xuXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGV2ZW50cyBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuZXZlbnRMaXN0ZW5lcnNbYmFzZUV2ZW50XSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzW2Jhc2VFdmVudF0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzW2Jhc2VFdmVudF0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW1vdmUgZXZlbnQgYmluZGluZ3MgZnJvbSB0aGUgbm9kZS4gUGFzcyBpbiBhIHN0cmluZyBvZlxuICAgICAgICAgKiAgZXZlbnQgdHlwZXMgZGVsaW1taXRlZCBieSBhIHNwYWNlIHRvIHJlbW92ZSBtdWx0aXBsZSBldmVudFxuICAgICAgICAgKiAgYmluZGluZ3MgYXQgb25jZSBzdWNoIGFzICdtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUnLlxuICAgICAgICAgKiAgaW5jbHVkZSBhIG5hbWVzcGFjZSB0byByZW1vdmUgYW4gZXZlbnQgYmluZGluZyBieSBuYW1lXG4gICAgICAgICAqICBzdWNoIGFzICdjbGljay5mb29iYXInLiBJZiB5b3Ugb25seSBnaXZlIGEgbmFtZSBsaWtlICcuZm9vYmFyJyxcbiAgICAgICAgICogIGFsbCBldmVudHMgaW4gdGhhdCBuYW1lc3BhY2Ugd2lsbCBiZSByZW1vdmVkLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldnRTdHIgZS5nLiAnY2xpY2snLCAnbW91c2Vkb3duIHRvdWNoc3RhcnQnLCAnLmZvb2JhcidcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAgICAqIG5vZGUub2ZmKCdjbGljaycpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyByZW1vdmUgbXVsdGlwbGUgbGlzdGVuZXJzXG4gICAgICAgICAqIG5vZGUub2ZmKCdjbGljayB0b3VjaHN0YXJ0Jyk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIHJlbW92ZSBsaXN0ZW5lciBieSBuYW1lXG4gICAgICAgICAqIG5vZGUub2ZmKCdjbGljay5mb28nKTtcbiAgICAgICAgICovXG4gICAgICAgIG9mZjogZnVuY3Rpb24oZXZ0U3RyKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gKGV2dFN0ciB8fCAnJykuc3BsaXQoU1BBQ0UpLFxuICAgICAgICAgICAgICAgIGxlbiA9IGV2ZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbiwgdCwgZXZlbnQsIHBhcnRzLCBiYXNlRXZlbnQsIG5hbWU7XG5cbiAgICAgICAgICAgIGlmICghZXZ0U3RyKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBldmVudHNcbiAgICAgICAgICAgICAgICBmb3IodCBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZih0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnRzW25dO1xuICAgICAgICAgICAgICAgIHBhcnRzID0gZXZlbnQuc3BsaXQoRE9UKTtcbiAgICAgICAgICAgICAgICBiYXNlRXZlbnQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgICAgICBuYW1lID0gcGFydHNbMV07XG5cbiAgICAgICAgICAgICAgICBpZihiYXNlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5ldmVudExpc3RlbmVyc1tiYXNlRXZlbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmYoYmFzZUV2ZW50LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yKHQgaW4gdGhpcy5ldmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2ZmKHQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHNvbWUgZXZlbnQgYWxpYXNlcyBmb3IgdGhpcmQgcGFydHkgaW50ZWdyYXRpb24gbGlrZSBIYW1tZXJKU1xuICAgICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHZhciBlID0ge1xuICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgICAgIHR5cGU6IGV2dC50eXBlLFxuICAgICAgICAgICAgICBldnQ6IGV2dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShldnQudHlwZSwgZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gcGFzcyBuYXRpdmUgZXZlbnQgdG8gaGFuZGxlclxuICAgICAgICAgICAgdGhpcy5vbih0eXBlLCBmdW5jdGlvbihldnQpe1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBldnQuZXZ0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyIDogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgdGhpcy5vZmYodHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW1vdmUgc2VsZiBmcm9tIHBhcmVudCwgYnV0IGRvbid0IGRlc3Ryb3lcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuXG4gICAgICAgICAgICBpZihwYXJlbnQgJiYgcGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQuX3NldENoaWxkcmVuSW5kaWNlcygpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZXZlcnkgY2FjaGVkIGF0dHIgdGhhdCBpcyBjYWxjdWxhdGVkIHZpYSBub2RlIHRyZWVcbiAgICAgICAgICAgIC8vIHRyYXZlcnNhbCBtdXN0IGJlIGNsZWFyZWQgd2hlbiByZW1vdmluZyBhIG5vZGVcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShTVEFHRSk7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclNlbGZBbmREZXNjZW5kYW50Q2FjaGUoQUJTT0xVVEVfVFJBTlNGT1JNKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShWSVNJQkxFKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShMSVNURU5JTkcpO1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJTZWxmQW5kRGVzY2VuZGFudENhY2hlKEFCU09MVVRFX09QQUNJVFkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbW92ZSBhbmQgZGVzdHJveSBzZWxmXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGlkcyBhbmQgbmFtZXMgaGFzaGVzXG4gICAgICAgICAgICBLaW5ldGljLl9yZW1vdmVJZCh0aGlzLmdldElkKCkpO1xuICAgICAgICAgICAgS2luZXRpYy5fcmVtb3ZlTmFtZSh0aGlzLmdldE5hbWUoKSwgdGhpcy5faWQpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGF0dHJcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0clxuICAgICAgICAgKiBAcmV0dXJucyB7SW50ZWdlcnxTdHJpbmd8T2JqZWN0fEFycmF5fVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgeCA9IG5vZGUuZ2V0QXR0cigneCcpO1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QXR0cjogZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdFVCArIEtpbmV0aWMuVXRpbC5fY2FwaXRhbGl6ZShhdHRyKTtcbiAgICAgICAgICAgIGlmKEtpbmV0aWMuVXRpbC5faXNGdW5jdGlvbih0aGlzW21ldGhvZF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGdldCBkaXJlY3RseVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cnNbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGdldCBhbmNlc3RvcnNcbiAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Db2xsZWN0aW9ufVxuICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICogc2hhcGUuZ2V0QW5jZXN0b3JzKCkuZWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICogICBjb25zb2xlLmxvZyhub2RlLmdldElkKCkpO1xuICAgICAgICAqIH0pXG4gICAgICAgICovXG4gICAgICAgIGdldEFuY2VzdG9yczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBhbmNlc3RvcnMgPSBuZXcgS2luZXRpYy5Db2xsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBhbmNlc3RvcnMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFuY2VzdG9ycztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBhdHRycyBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRBdHRyczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycyB8fCB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBtdWx0aXBsZSBhdHRycyBhdCBvbmNlIHVzaW5nIGFuIG9iamVjdCBsaXRlcmFsXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBvYmplY3QgY29udGFpbmluZyBrZXkgdmFsdWUgcGFpcnNcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbm9kZS5zZXRBdHRycyh7XG4gICAgICAgICAqICAgeDogNSxcbiAgICAgICAgICogICBmaWxsOiAncmVkJ1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHNldEF0dHJzOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciBrZXksIG1ldGhvZDtcblxuICAgICAgICAgICAgaWYoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgZm9yKGtleSBpbiBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gQ0hJTERSRU4gfHwgY29uZmlnW2tleV0gaW5zdGFuY2VvZiBLaW5ldGljLk5vZGUpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gU0VUICsgS2luZXRpYy5VdGlsLl9jYXBpdGFsaXplKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2Ugc2V0dGVyIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoS2luZXRpYy5VdGlsLl9pc0Z1bmN0aW9uKHRoaXNbbWV0aG9kXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW21ldGhvZF0oY29uZmlnW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHNldCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0QXR0cihrZXksIGNvbmZpZ1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lIGlmIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHMgYnkgdGFraW5nIGludG8gYWNjb3VudCBhbmNlc3RvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBhcmVudCAgICB8IFNlbGYgICAgICB8IGlzTGlzdGVuaW5nXG4gICAgICAgICAqIGxpc3RlbmluZyB8IGxpc3RlbmluZyB8IFxuICAgICAgICAgKiAtLS0tLS0tLS0tKy0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBUICAgICAgICAgfCBUICAgICAgICAgfCBUIFxuICAgICAgICAgKiBUICAgICAgICAgfCBGICAgICAgICAgfCBGXG4gICAgICAgICAqIEYgICAgICAgICB8IFQgICAgICAgICB8IFQgXG4gICAgICAgICAqIEYgICAgICAgICB8IEYgICAgICAgICB8IEZcbiAgICAgICAgICogLS0tLS0tLS0tLSstLS0tLS0tLS0tLSstLS0tLS0tLS0tLS1cbiAgICAgICAgICogVCAgICAgICAgIHwgSSAgICAgICAgIHwgVFxuICAgICAgICAgKiBGICAgICAgICAgfCBJICAgICAgICAgfCBGXG4gICAgICAgICAqIEkgICAgICAgICB8IEkgICAgICAgICB8IFRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGlzTGlzdGVuaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShMSVNURU5JTkcsIHRoaXMuX2lzTGlzdGVuaW5nKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2lzTGlzdGVuaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5pbmcgPSB0aGlzLmdldExpc3RlbmluZygpLFxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCk7XG5cbiAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgYSBzaW1wbGlmaWNhdGlvbiBvZiB0aGUgdHJ1dGggdGFibGUgYWJvdmUuXG4gICAgICAgICAgICAvLyBwbGVhc2UgbW9kaWZ5IGNhcmVmdWxseVxuICAgICAgICAgICAgaWYgKGxpc3RlbmluZyA9PT0gJ2luaGVyaXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmlzTGlzdGVuaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lIGlmIG5vZGUgaXMgdmlzaWJsZSBieSB0YWtpbmcgaW50byBhY2NvdW50IGFuY2VzdG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogUGFyZW50ICAgIHwgU2VsZiAgICAgIHwgaXNWaXNpYmxlXG4gICAgICAgICAqIHZpc2libGUgICB8IHZpc2libGUgICB8IFxuICAgICAgICAgKiAtLS0tLS0tLS0tKy0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLVxuICAgICAgICAgKiBUICAgICAgICAgfCBUICAgICAgICAgfCBUIFxuICAgICAgICAgKiBUICAgICAgICAgfCBGICAgICAgICAgfCBGXG4gICAgICAgICAqIEYgICAgICAgICB8IFQgICAgICAgICB8IFQgXG4gICAgICAgICAqIEYgICAgICAgICB8IEYgICAgICAgICB8IEZcbiAgICAgICAgICogLS0tLS0tLS0tLSstLS0tLS0tLS0tLSstLS0tLS0tLS0tLS1cbiAgICAgICAgICogVCAgICAgICAgIHwgSSAgICAgICAgIHwgVFxuICAgICAgICAgKiBGICAgICAgICAgfCBJICAgICAgICAgfCBGXG4gICAgICAgICAqIEkgICAgICAgICB8IEkgICAgICAgICB8IFRcblxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShWSVNJQkxFLCB0aGlzLl9pc1Zpc2libGUpO1xuICAgICAgICB9LFxuICAgICAgICBfaXNWaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlKCksXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcblxuICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBhIHNpbXBsaWZpY2F0aW9uIG9mIHRoZSB0cnV0aCB0YWJsZSBhYm92ZS5cbiAgICAgICAgICAgIC8vIHBsZWFzZSBtb2RpZnkgY2FyZWZ1bGx5XG4gICAgICAgICAgICBpZiAodmlzaWJsZSA9PT0gJ2luaGVyaXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmlzVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmUgaWYgbGlzdGVuaW5nIGlzIGVuYWJsZWQgYnkgdGFraW5nIGludG8gYWNjb3VudCBkZXNjZW5kYW50cy4gIElmIHNlbGYgb3IgYW55IGNoaWxkcmVuXG4gICAgICAgICAqIGhhdmUgX2lzTGlzdGVuaW5nRW5hYmxlZCBzZXQgdG8gdHJ1ZSwgdGhlbiBzZWxmIGFsc28gaGFzIGxpc3RlbmluZyBlbmFibGVkLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvdWxkRHJhd0hpdDogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgICAgICByZXR1cm4gIChjYW52YXMgJiYgY2FudmFzLmlzQ2FjaGUpIHx8IChsYXllciAmJiBsYXllci5oaXRHcmFwaEVuYWJsZWQoKSlcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmlzTGlzdGVuaW5nKCkgJiYgdGhpcy5pc1Zpc2libGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNob3cgbm9kZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICAqL1xuICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogaGlkZSBub2RlLiAgSGlkZGVuIG5vZGVzIGFyZSBubyBsb25nZXIgZGV0ZWN0YWJsZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICAqL1xuICAgICAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCB6SW5kZXggcmVsYXRpdmUgdG8gdGhlIG5vZGUncyBzaWJsaW5ncyB3aG8gc2hhcmUgdGhlIHNhbWUgcGFyZW50XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRaSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggfHwgMDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBhYnNvbHV0ZSB6LWluZGV4IHdoaWNoIHRha2VzIGludG8gYWNjb3VudCBzaWJsaW5nXG4gICAgICAgICAqICBhbmQgYW5jZXN0b3IgaW5kaWNlc1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWJzb2x1dGVaSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRlcHRoID0gdGhpcy5nZXREZXB0aCgpLFxuICAgICAgICAgICAgICAgIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgICBub2RlcywgbGVuLCBuLCBjaGlsZDtcblxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkQ2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBub2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW25dO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGNoaWxkLm5vZGVUeXBlICE9PSBTSEFQRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMgPSBub2Rlcy5jb25jYXQoY2hpbGQuZ2V0Q2hpbGRyZW4oKS50b0FycmF5KCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGQuX2lkID09PSB0aGF0Ll9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGxlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vZGVzLmxlbmd0aCA+IDAgJiYgbm9kZXNbMF0uZ2V0RGVwdGgoKSA8PSBkZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDaGlsZHJlbihub2Rlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhhdC5ub2RlVHlwZSAhPT0gVVBQRVJfU1RBR0UpIHtcbiAgICAgICAgICAgICAgICBhZGRDaGlsZHJlbih0aGF0LmdldFN0YWdlKCkuZ2V0Q2hpbGRyZW4oKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBub2RlIGRlcHRoIGluIG5vZGUgdHJlZS4gIFJldHVybnMgYW4gaW50ZWdlci5cbiAgICAgICAgICogIGUuZy4gU3RhZ2UgZGVwdGggd2lsbCBhbHdheXMgYmUgMC4gIExheWVycyB3aWxsIGFsd2F5cyBiZSAxLiAgR3JvdXBzIGFuZCBTaGFwZXMgd2lsbCBhbHdheXNcbiAgICAgICAgICogIGJlID49IDJcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldERlcHRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkZXB0aCA9IDAsXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgICAgIHdoaWxlKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXB0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UG9zaXRpb246IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgdGhpcy5zZXRYKHBvcy54KTtcbiAgICAgICAgICAgIHRoaXMuc2V0WShwb3MueSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmdldFgoKSxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmdldFkoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBhYnNvbHV0ZSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBzdGFnZSBjb250YWluZXIgZGl2XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldEFic29sdXRlUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFic29sdXRlTWF0cml4ID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSgpLmdldE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgIGFic29sdXRlVHJhbnNmb3JtID0gbmV3IEtpbmV0aWMuVHJhbnNmb3JtKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblxuICAgICAgICAgICAgLy8gY2xvbmUgdGhlIG1hdHJpeCBhcnJheVxuICAgICAgICAgICAgYWJzb2x1dGVUcmFuc2Zvcm0ubSA9IGFic29sdXRlTWF0cml4LnNsaWNlKCk7XG4gICAgICAgICAgICBhYnNvbHV0ZVRyYW5zZm9ybS50cmFuc2xhdGUob2Zmc2V0LngsIG9mZnNldC55KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFic29sdXRlVHJhbnNmb3JtLmdldFRyYW5zbGF0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgYWJzb2x1dGUgcG9zaXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9zXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3MueFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnlcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICovXG4gICAgICAgIHNldEFic29sdXRlUG9zaXRpb246IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgdmFyIG9yaWdUcmFucyA9IHRoaXMuX2NsZWFyVHJhbnNmb3JtKCksXG4gICAgICAgICAgICAgICAgaXQ7XG5cbiAgICAgICAgICAgIC8vIGRvbid0IGNsZWFyIHRyYW5zbGF0aW9uXG4gICAgICAgICAgICB0aGlzLmF0dHJzLnggPSBvcmlnVHJhbnMueDtcbiAgICAgICAgICAgIHRoaXMuYXR0cnMueSA9IG9yaWdUcmFucy55O1xuICAgICAgICAgICAgZGVsZXRlIG9yaWdUcmFucy54O1xuICAgICAgICAgICAgZGVsZXRlIG9yaWdUcmFucy55O1xuXG4gICAgICAgICAgICAvLyB1bnJhdmVsIHRyYW5zZm9ybVxuICAgICAgICAgICAgaXQgPSB0aGlzLmdldEFic29sdXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIGl0LmludmVydCgpO1xuICAgICAgICAgICAgaXQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgICAgICAgICBwb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5hdHRycy54ICsgaXQuZ2V0VHJhbnNsYXRpb24oKS54LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuYXR0cnMueSArIGl0LmdldFRyYW5zbGF0aW9uKCkueVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih7eDpwb3MueCwgeTpwb3MueX0pO1xuICAgICAgICAgICAgdGhpcy5fc2V0VHJhbnNmb3JtKG9yaWdUcmFucyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0VHJhbnNmb3JtOiBmdW5jdGlvbih0cmFucykge1xuICAgICAgICAgICAgdmFyIGtleTtcblxuICAgICAgICAgICAgZm9yKGtleSBpbiB0cmFucykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cnNba2V5XSA9IHRyYW5zW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoVFJBTlNGT1JNKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0pO1xuICAgICAgICB9LFxuICAgICAgICBfY2xlYXJUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ2V0WCgpLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ2V0WSgpLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICAgICAgc2NhbGVYOiB0aGlzLmdldFNjYWxlWCgpLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogdGhpcy5nZXRTY2FsZVkoKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRYOiB0aGlzLmdldE9mZnNldFgoKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiB0aGlzLmdldE9mZnNldFkoKSxcbiAgICAgICAgICAgICAgICBza2V3WDogdGhpcy5nZXRTa2V3WCgpLFxuICAgICAgICAgICAgICAgIHNrZXdZOiB0aGlzLmdldFNrZXdZKClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYXR0cnMueCA9IDA7XG4gICAgICAgICAgICB0aGlzLmF0dHJzLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5hdHRycy5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0aGlzLmF0dHJzLnNjYWxlWCA9IDE7XG4gICAgICAgICAgICB0aGlzLmF0dHJzLnNjYWxlWSA9IDE7XG4gICAgICAgICAgICB0aGlzLmF0dHJzLm9mZnNldFggPSAwO1xuICAgICAgICAgICAgdGhpcy5hdHRycy5vZmZzZXRZID0gMDtcbiAgICAgICAgICAgIHRoaXMuYXR0cnMuc2tld1ggPSAwO1xuICAgICAgICAgICAgdGhpcy5hdHRycy5za2V3WSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoVFJBTlNGT1JNKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZERlc2NlbmRhbnRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0pO1xuXG4gICAgICAgICAgICAvLyByZXR1cm4gb3JpZ2luYWwgdHJhbnNmb3JtXG4gICAgICAgICAgICByZXR1cm4gdHJhbnM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtb3ZlIG5vZGUgYnkgYW4gYW1vdW50IHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNoYW5nZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhbmdlLnhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5nZS55XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIG1vdmUgbm9kZSBpbiB4IGRpcmVjdGlvbiBieSAxcHggYW5kIHkgZGlyZWN0aW9uIGJ5IDJweFxuICAgICAgICAgKiBub2RlLm1vdmUoe1xuICAgICAgICAgKiAgIHg6IDEsXG4gICAgICAgICAqICAgeTogMilcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlOiBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VYID0gY2hhbmdlLngsXG4gICAgICAgICAgICAgICAgY2hhbmdlWSA9IGNoYW5nZS55LFxuICAgICAgICAgICAgICAgIHggPSB0aGlzLmdldFgoKSxcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5nZXRZKCk7XG5cbiAgICAgICAgICAgIGlmKGNoYW5nZVggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHggKz0gY2hhbmdlWDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoY2hhbmdlWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgeSArPSBjaGFuZ2VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHt4OngsIHk6eX0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF9lYWNoQW5jZXN0b3JSZXZlcnNlOiBmdW5jdGlvbihmdW5jLCB0b3ApIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBbXSxcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpLFxuICAgICAgICAgICAgICAgIGxlbiwgbjtcblxuICAgICAgICAgICAgLy8gaWYgdG9wIG5vZGUgaXMgZGVmaW5lZCwgYW5kIHRoaXMgbm9kZSBpcyB0b3Agbm9kZSxcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byBidWlsZCBhIGZhbWlseSB0cmVlLiAganVzdCBleGVjdXRlXG4gICAgICAgICAgICAvLyBmdW5jIHdpdGggdGhpcyBiZWNhdXNlIGl0IHdpbGwgYmUgdGhlIG9ubHkgbm9kZVxuICAgICAgICAgICAgaWYgKHRvcCAmJiB0b3AuX2lkID09PSB0aGlzLl9pZCkge1xuICAgICAgICAgICAgICAgIGZ1bmModGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZhbWlseS51bnNoaWZ0KHRoaXMpO1xuXG4gICAgICAgICAgICB3aGlsZShwYXJlbnQgJiYgKCF0b3AgfHwgcGFyZW50Ll9pZCAhPT0gdG9wLl9pZCkpIHtcbiAgICAgICAgICAgICAgICBmYW1pbHkudW5zaGlmdChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxlbiA9IGZhbWlseS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGZ1bmMoZmFtaWx5W25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJvdGF0ZSBub2RlIGJ5IGFuIGFtb3VudCBpbiBkZWdyZWVzIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IHJvdGF0aW9uXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHRoZXRhXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLk5vZGV9XG4gICAgICAgICAqL1xuICAgICAgICByb3RhdGU6IGZ1bmN0aW9uKHRoZXRhKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKHRoaXMuZ2V0Um90YXRpb24oKSArIHRoZXRhKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogbW92ZSBub2RlIHRvIHRoZSB0b3Agb2YgaXRzIHNpYmxpbmdzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9Ub3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuVXRpbC53YXJuKCdOb2RlIGhhcyBubyBwYXJlbnQuIG1vdmVUb1RvcCBmdW5jdGlvbiBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9zZXRDaGlsZHJlbkluZGljZXMoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogbW92ZSBub2RlIHVwXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuVXRpbC53YXJuKCdOb2RlIGhhcyBubyBwYXJlbnQuIG1vdmVVcCBmdW5jdGlvbiBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy5wYXJlbnQuZ2V0Q2hpbGRyZW4oKS5sZW5ndGg7XG4gICAgICAgICAgICBpZihpbmRleCA8IGxlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCArIDEsIDAsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Ll9zZXRDaGlsZHJlbkluZGljZXMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1vdmUgbm9kZSBkb3duXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlRG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ05vZGUgaGFzIG5vIHBhcmVudC4gbW92ZURvd24gZnVuY3Rpb24gaXMgaWdub3JlZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgaWYoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXggLSAxLCAwLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5fc2V0Q2hpbGRyZW5JbmRpY2VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtb3ZlIG5vZGUgdG8gdGhlIGJvdHRvbSBvZiBpdHMgc2libGluZ3NcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JvdHRvbTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ05vZGUgaGFzIG5vIHBhcmVudC4gbW92ZVRvQm90dG9tIGZ1bmN0aW9uIGlzIGlnbm9yZWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIGlmKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4udW5zaGlmdCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5fc2V0Q2hpbGRyZW5JbmRpY2VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgekluZGV4IHJlbGF0aXZlIHRvIHNpYmxpbmdzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtJbnRlZ2VyfSB6SW5kZXhcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICovXG4gICAgICAgIHNldFpJbmRleDogZnVuY3Rpb24oekluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ05vZGUgaGFzIG5vIHBhcmVudC4gekluZGV4IHBhcmFtZXRlciBpcyBpZ25vcmVkLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHpJbmRleCwgMCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fc2V0Q2hpbGRyZW5JbmRpY2VzKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBhYnNvbHV0ZSBvcGFjaXR5XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEFic29sdXRlT3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoQUJTT0xVVEVfT1BBQ0lUWSwgdGhpcy5fZ2V0QWJzb2x1dGVPcGFjaXR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEFic29sdXRlT3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYWJzT3BhY2l0eSA9IHRoaXMuZ2V0T3BhY2l0eSgpO1xuICAgICAgICAgICAgaWYodGhpcy5nZXRQYXJlbnQoKSkge1xuICAgICAgICAgICAgICAgIGFic09wYWNpdHkgKj0gdGhpcy5nZXRQYXJlbnQoKS5nZXRBYnNvbHV0ZU9wYWNpdHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhYnNPcGFjaXR5O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogbW92ZSBub2RlIHRvIGFub3RoZXIgY29udGFpbmVyXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtDb250YWluZXJ9IG5ld0NvbnRhaW5lclxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBtb3ZlIG5vZGUgZnJvbSBjdXJyZW50IGxheWVyIGludG8gbGF5ZXIyXG4gICAgICAgICAqIG5vZGUubW92ZVRvKGxheWVyMik7XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG86IGZ1bmN0aW9uKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZyBpZiBuZXcgY29udGFpbmVyIGlzIGFscmVhZHkgcGFyZW50XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRQYXJlbnQoKSAhPT0gbmV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBuZXdDb250YWluZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb252ZXJ0IE5vZGUgaW50byBhbiBvYmplY3QgZm9yIHNlcmlhbGl6YXRpb24uICBSZXR1cm5zIGFuIG9iamVjdC5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBLaW5ldGljLlV0aWwsXG4gICAgICAgICAgICAgICAgb2JqID0ge30sXG4gICAgICAgICAgICAgICAgYXR0cnMgPSB0aGlzLmdldEF0dHJzKCksXG4gICAgICAgICAgICAgICAga2V5LCB2YWwsIGdldHRlciwgZGVmYXVsdFZhbHVlO1xuXG4gICAgICAgICAgICBvYmouYXR0cnMgPSB7fTtcblxuICAgICAgICAgICAgLy8gc2VyaWFsaXplIG9ubHkgYXR0cmlidXRlcyB0aGF0IGFyZSBub3QgZnVuY3Rpb24sIGltYWdlLCBET00sIG9yIG9iamVjdHMgd2l0aCBtZXRob2RzXG4gICAgICAgICAgICBmb3Ioa2V5IGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gYXR0cnNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUuX2lzRnVuY3Rpb24odmFsKSAmJiAhdHlwZS5faXNFbGVtZW50KHZhbCkgJiYgISh0eXBlLl9pc09iamVjdCh2YWwpICYmIHR5cGUuX2hhc01ldGhvZHModmFsKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVyID0gdGhpc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYXR0ciB2YWx1ZSBzbyB0aGF0IHdlIGNhbiBleHRyYWN0IHRoZSBkZWZhdWx0IHZhbHVlIGZyb20gdGhlIGdldHRlclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXN0b3JlIGF0dHIgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouYXR0cnNba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqLmNsYXNzTmFtZSA9IHRoaXMuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogY29udmVydCBOb2RlIGludG8gYSBKU09OIHN0cmluZy4gIFJldHVybnMgYSBKU09OIHN0cmluZy5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfX1cbiAgICAgICAgICovXG4gICAgICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b09iamVjdCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldFBhcmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgbGF5ZXIgYW5jZXN0b3JcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5MYXllcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldExheWVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5nZXRMYXllcigpIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBzdGFnZSBhbmNlc3RvclxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlN0YWdlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3RhZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlKFNUQUdFLCB0aGlzLl9nZXRTdGFnZSk7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRTdGFnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgIGlmKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0U3RhZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmaXJlIGV2ZW50XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSBldmVudCB0eXBlLiAgY2FuIGJlIGEgcmVndWxhciBldmVudCwgbGlrZSBjbGljaywgbW91c2VvdmVyLCBvciBtb3VzZW91dCwgb3IgaXQgY2FuIGJlIGEgY3VzdG9tIGV2ZW50LCBsaWtlIG15Q3VzdG9tRXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gW2V2dF0gZXZlbnQgb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2J1YmJsZV0gc2V0dGluZyB0aGUgdmFsdWUgdG8gZmFsc2UsIG9yIGxlYXZpbmcgaXQgdW5kZWZpbmVkLCB3aWxsIHJlc3VsdCBpbiB0aGUgZXZlbnRcbiAgICAgICAgICogIG5vdCBidWJibGluZy4gIFNldHRpbmcgdGhlIHZhbHVlIHRvIHRydWUgd2lsbCByZXN1bHQgaW4gdGhlIGV2ZW50IGJ1YmJsaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBtYW51YWxseSBmaXJlIGNsaWNrIGV2ZW50XG4gICAgICAgICAqIG5vZGUuZmlyZSgnY2xpY2snKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gZmlyZSBjdXN0b20gZXZlbnRcbiAgICAgICAgICogbm9kZS5maXJlKCdmb28nKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gZmlyZSBjdXN0b20gZXZlbnQgd2l0aCBjdXN0b20gZXZlbnQgb2JqZWN0XG4gICAgICAgICAqIG5vZGUuZmlyZSgnZm9vJywge1xuICAgICAgICAgKiAgIGJhcjogMTBcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIGZpcmUgY2xpY2sgZXZlbnQgdGhhdCBidWJibGVzXG4gICAgICAgICAqIG5vZGUuZmlyZSgnY2xpY2snLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICovXG4gICAgICAgIGZpcmU6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZ0LCBidWJibGUpIHtcbiAgICAgICAgICAgIC8vIGJ1YmJsZVxuICAgICAgICAgICAgaWYgKGJ1YmJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVBbmRCdWJibGUoZXZlbnRUeXBlLCBldnQgfHwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm8gYnViYmxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50VHlwZSwgZXZ0IHx8IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGFic29sdXRlIHRyYW5zZm9ybSBvZiB0aGUgbm9kZSB3aGljaCB0YWtlcyBpbnRvXG4gICAgICAgICAqICBhY2NvdW50IGl0cyBhbmNlc3RvciB0cmFuc2Zvcm1zXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWJzb2x1dGVUcmFuc2Zvcm06IGZ1bmN0aW9uKHRvcCkge1xuICAgICAgICAgICAgLy8gaWYgdXNpbmcgYW4gYXJndW1lbnQsIHdlIGNhbid0IGNhY2hlIHRoZSByZXN1bHQuXG4gICAgICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEFic29sdXRlVHJhbnNmb3JtKHRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBubyBhcmd1bWVudCwgd2UgY2FuIGNhY2hlIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDYWNoZShBQlNPTFVURV9UUkFOU0ZPUk0sIHRoaXMuX2dldEFic29sdXRlVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2dldEFic29sdXRlVHJhbnNmb3JtOiBmdW5jdGlvbih0b3ApIHtcbiAgICAgICAgICAgIHZhciBhdCA9IG5ldyBLaW5ldGljLlRyYW5zZm9ybSgpLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXNFbmFibGVkLCB0cmFucztcblxuICAgICAgICAgICAgLy8gc3RhcnQgd2l0aCBzdGFnZSBhbmQgdHJhdmVyc2UgZG93bndhcmRzIHRvIHNlbGZcbiAgICAgICAgICAgIHRoaXMuX2VhY2hBbmNlc3RvclJldmVyc2UoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXNFbmFibGVkID0gbm9kZS50cmFuc2Zvcm1zRW5hYmxlZCgpO1xuICAgICAgICAgICAgICAgIHRyYW5zID0gbm9kZS5nZXRUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1zRW5hYmxlZCA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXQubXVsdGlwbHkodHJhbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmFuc2Zvcm1zRW5hYmxlZCA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhdC50cmFuc2xhdGUobm9kZS54KCksIG5vZGUueSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0b3ApO1xuICAgICAgICAgICAgcmV0dXJuIGF0O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHRyYW5zZm9ybSBvZiB0aGUgbm9kZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIGdldFRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoVFJBTlNGT1JNLCB0aGlzLl9nZXRUcmFuc2Zvcm0pO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtID0gbmV3IEtpbmV0aWMuVHJhbnNmb3JtKCksXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMuZ2V0WCgpLFxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLmdldFkoKSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IEtpbmV0aWMuZ2V0QW5nbGUodGhpcy5nZXRSb3RhdGlvbigpKSxcbiAgICAgICAgICAgICAgICBzY2FsZVggPSB0aGlzLmdldFNjYWxlWCgpLFxuICAgICAgICAgICAgICAgIHNjYWxlWSA9IHRoaXMuZ2V0U2NhbGVZKCksXG4gICAgICAgICAgICAgICAgc2tld1ggPSB0aGlzLmdldFNrZXdYKCksXG4gICAgICAgICAgICAgICAgc2tld1kgPSB0aGlzLmdldFNrZXdZKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0WCA9IHRoaXMuZ2V0T2Zmc2V0WCgpLFxuICAgICAgICAgICAgICAgIG9mZnNldFkgPSB0aGlzLmdldE9mZnNldFkoKTtcblxuICAgICAgICAgICAgaWYoeCAhPT0gMCB8fCB5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbS50cmFuc2xhdGUoeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihyb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG0ucm90YXRlKHJvdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNrZXdYICE9PSAwIHx8IHNrZXdZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbS5za2V3KHNrZXdYLCBza2V3WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzY2FsZVggIT09IDEgfHwgc2NhbGVZICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgbS5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvZmZzZXRYICE9PSAwIHx8IG9mZnNldFkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBtLnRyYW5zbGF0ZSgtMSAqIG9mZnNldFgsIC0xICogb2Zmc2V0WSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogY2xvbmUgbm9kZS4gIFJldHVybnMgYSBuZXcgTm9kZSBpbnN0YW5jZSB3aXRoIGlkZW50aWNhbCBhdHRyaWJ1dGVzLiAgWW91IGNhbiBhbHNvIG92ZXJyaWRlXG4gICAgICAgICAqICB0aGUgbm9kZSBwcm9wZXJ0aWVzIHdpdGggYW4gb2JqZWN0IGxpdGVyYWwsIGVuYWJsaW5nIHlvdSB0byB1c2UgYW4gZXhpc3Rpbmcgbm9kZSBhcyBhIHRlbXBsYXRlXG4gICAgICAgICAqICBmb3IgYW5vdGhlciBub2RlXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBvdmVycmlkZSBhdHRyc1xuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBzaW1wbGUgY2xvbmVcbiAgICAgICAgICogdmFyIGNsb25lID0gbm9kZS5jbG9uZSgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBjbG9uZSBhIG5vZGUgYW5kIG92ZXJyaWRlIHRoZSB4IHBvc2l0aW9uXG4gICAgICAgICAqIHZhciBjbG9uZSA9IHJlY3QuY2xvbmUoe1xuICAgICAgICAgKiAgIHg6IDVcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBjbG9uZTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAvLyBpbnN0YW50aWF0ZSBuZXcgbm9kZVxuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMuZ2V0Q2xhc3NOYW1lKCksXG4gICAgICAgICAgICAgICAgYXR0cnMgPSBLaW5ldGljLlV0aWwuY2xvbmVPYmplY3QodGhpcy5hdHRycyksXG4gICAgICAgICAgICAgICAga2V5LCBhbGxMaXN0ZW5lcnMsIGxlbiwgbiwgbGlzdGVuZXI7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgYmxhY2sgYXR0cnNcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gQ0xPTkVfQkxBQ0tfTElTVCkge1xuICAgICAgICAgICAgICAgIHZhciBibG9ja0F0dHIgPSBDTE9ORV9CTEFDS19MSVNUW2ldO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1tibG9ja0F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwbHkgYXR0ciBvdmVycmlkZXNcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5vZGUgPSBuZXcgS2luZXRpY1tjbGFzc05hbWVdKGF0dHJzKTtcbiAgICAgICAgICAgIC8vIGNvcHkgb3ZlciBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGZvcihrZXkgaW4gdGhpcy5ldmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGFsbExpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnNba2V5XTtcbiAgICAgICAgICAgICAgICBsZW4gPSBhbGxMaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gYWxsTGlzdGVuZXJzW25dO1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgKiBkb24ndCBpbmNsdWRlIGtpbmV0aWMgbmFtZXNwYWNlZCBsaXN0ZW5lcnMgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAgKiAgdGhlc2UgYXJlIGdlbmVyYXRlZCBieSB0aGUgY29uc3RydWN0b3JzXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZihsaXN0ZW5lci5uYW1lLmluZGV4T2YoS0lORVRJQykgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgYXJyYXkgZG9lc24ndCBleGlzdCwgdGhlbiBjcmVhdGUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFub2RlLmV2ZW50TGlzdGVuZXJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmV2ZW50TGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZXZlbnRMaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSBkYXRhIFVSTC4gSWYgTUlNRSB0eXBlIGlzIG5vdFxuICAgICAgICAgKiBzcGVjaWZpZWQsIHRoZW4gXCJpbWFnZS9wbmdcIiB3aWxsIHJlc3VsdC4gRm9yIFwiaW1hZ2UvanBlZ1wiLCBzcGVjaWZ5IGEgcXVhbGl0eVxuICAgICAgICAgKiBsZXZlbCBhcyBxdWFsaXR5IChyYW5nZSAwLjAgLSAxLjApXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5taW1lVHlwZV0gY2FuIGJlIFwiaW1hZ2UvcG5nXCIgb3IgXCJpbWFnZS9qcGVnXCIuXG4gICAgICAgICAqICBcImltYWdlL3BuZ1wiIGlzIHRoZSBkZWZhdWx0XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdIHggcG9zaXRpb24gb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV0geSBwb3NpdGlvbiBvZiBjYW52YXMgc2VjdGlvblxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF0gd2lkdGggb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XSBoZWlnaHQgb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucXVhbGl0eV0ganBlZyBxdWFsaXR5LiAgSWYgdXNpbmcgYW4gXCJpbWFnZS9qcGVnXCIgbWltZVR5cGUsXG4gICAgICAgICAqICB5b3UgY2FuIHNwZWNpZnkgdGhlIHF1YWxpdHkgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdmVyeSBwb29yIHF1YWxpdHkgYW5kIDFcbiAgICAgICAgICogIGlzIHZlcnkgaGlnaCBxdWFsaXR5XG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgbWltZVR5cGUgPSBjb25maWcubWltZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBxdWFsaXR5ID0gY29uZmlnLnF1YWxpdHkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKSxcbiAgICAgICAgICAgICAgICB4ID0gY29uZmlnLnggfHwgMCxcbiAgICAgICAgICAgICAgICB5ID0gY29uZmlnLnkgfHwgMCxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBuZXcgS2luZXRpYy5TY2VuZUNhbnZhcyh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb25maWcud2lkdGggfHwgdGhpcy5nZXRXaWR0aCgpIHx8IChzdGFnZSA/IHN0YWdlLmdldFdpZHRoKCkgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjb25maWcuaGVpZ2h0IHx8IHRoaXMuZ2V0SGVpZ2h0KCkgfHwgKHN0YWdlID8gc3RhZ2UuZ2V0SGVpZ2h0KCkgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcblxuICAgICAgICAgICAgaWYoeCB8fCB5KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTEgKiB4LCAtMSAqIHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRyYXdTY2VuZShjYW52YXMpO1xuICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnZlcnRzIG5vZGUgaW50byBhbiBpbWFnZS4gIFNpbmNlIHRoZSB0b0ltYWdlXG4gICAgICAgICAqICBtZXRob2QgaXMgYXN5bmNocm9ub3VzLCBhIGNhbGxiYWNrIGlzIHJlcXVpcmVkLiAgdG9JbWFnZSBpcyBtb3N0IGNvbW1vbmx5IHVzZWRcbiAgICAgICAgICogIHRvIGNhY2hlIGNvbXBsZXggZHJhd2luZ3MgYXMgYW4gaW1hZ2Ugc28gdGhhdCB0aGV5IGRvbid0IGhhdmUgdG8gY29uc3RhbnRseSBiZSByZWRyYXduXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWcuY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgd2hlbiB0aGUgY29tcG9zaXRlIGhhcyBjb21wbGV0ZWRcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubWltZVR5cGVdIGNhbiBiZSBcImltYWdlL3BuZ1wiIG9yIFwiaW1hZ2UvanBlZ1wiLlxuICAgICAgICAgKiAgXCJpbWFnZS9wbmdcIiBpcyB0aGUgZGVmYXVsdFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XSB4IHBvc2l0aW9uIG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldIHkgcG9zaXRpb24gb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdIHdpZHRoIG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF0gaGVpZ2h0IG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnF1YWxpdHldIGpwZWcgcXVhbGl0eS4gIElmIHVzaW5nIGFuIFwiaW1hZ2UvanBlZ1wiIG1pbWVUeXBlLFxuICAgICAgICAgKiAgeW91IGNhbiBzcGVjaWZ5IHRoZSBxdWFsaXR5IGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHZlcnkgcG9vciBxdWFsaXR5IGFuZCAxXG4gICAgICAgICAqICBpcyB2ZXJ5IGhpZ2ggcXVhbGl0eVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgaW1hZ2UgPSBub2RlLnRvSW1hZ2Uoe1xuICAgICAgICAgKiAgIGNhbGxiYWNrOiBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgICogICAgIC8vIGRvIHN0dWZmIHdpdGggaW1nXG4gICAgICAgICAqICAgfVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRvSW1hZ2U6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgS2luZXRpYy5VdGlsLl9nZXRJbWFnZSh0aGlzLnRvRGF0YVVSTChjb25maWcpLCBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuY2FsbGJhY2soaW1nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTaXplOiBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgICAgICB0aGlzLnNldFdpZHRoKHNpemUud2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5zZXRIZWlnaHQoc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5nZXRIZWlnaHQoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cnMud2lkdGggfHwgMDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmhlaWdodCB8fCAwO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGNsYXNzIG5hbWUsIHdoaWNoIG1heSByZXR1cm4gU3RhZ2UsIExheWVyLCBHcm91cCwgb3Igc2hhcGUgY2xhc3MgbmFtZXMgbGlrZSBSZWN0LCBDaXJjbGUsIFRleHQsIGV0Yy5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZSB8fCB0aGlzLm5vZGVUeXBlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHRoZSBub2RlIHR5cGUsIHdoaWNoIG1heSByZXR1cm4gU3RhZ2UsIExheWVyLCBHcm91cCwgb3IgTm9kZVxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRUeXBlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlO1xuICAgICAgICB9LFxuICAgICAgICBnZXREcmFnRGlzdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gY29tcGFyZSB3aXRoIHVuZGVmaW5lZCBiZWNhdXNlIHdlIG5lZWQgdG8gdHJhY2sgMCB2YWx1ZVxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cnMuZHJhZ0Rpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5kcmFnRGlzdGFuY2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldERyYWdEaXN0YW5jZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gS2luZXRpYy5kcmFnRGlzdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc05hbWUgPT09IHNlbGVjdG9yIHx8IHRoaXMubm9kZVR5cGUgPT09IHNlbGVjdG9yID8gW3RoaXNdIDogW107XG4gICAgICAgIH0sXG4gICAgICAgIF9vZmY6IGZ1bmN0aW9uKHR5cGUsIG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBldnRMaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzW3R5cGVdLFxuICAgICAgICAgICAgICAgIGksIGV2dE5hbWU7XG5cbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGV2dExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGV2dE5hbWUgPSBldnRMaXN0ZW5lcnNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIHR3byBjb25kaXRpb25zIG11c3QgYmUgdHJ1ZSBpbiBvcmRlciB0byByZW1vdmUgYSBoYW5kbGVyOlxuICAgICAgICAgICAgICAgIC8vIDEpIHRoZSBjdXJyZW50IGV2ZW50IG5hbWUgY2Fubm90IGJlIGtpbmV0aWMgdW5sZXNzIHRoZSBldmVudCBuYW1lIGlzIGtpbmV0aWNcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzIGVuYWJsZXMgZGV2ZWxvcGVycyB0byBmb3JjZSByZW1vdmUgYSBraW5ldGljIHNwZWNpZmljIGxpc3RlbmVyIGZvciB3aGF0ZXZlciByZWFzb25cbiAgICAgICAgICAgICAgICAvLyAyKSBhbiBldmVudCBuYW1lIGlzIG5vdCBzcGVjaWZpZWQsIG9yIGlmIG9uZSBpcyBzcGVjaWZpZWQsIGl0IG1hdGNoZXMgdGhlIGN1cnJlbnQgZXZlbnQgbmFtZVxuICAgICAgICAgICAgICAgIGlmKChldnROYW1lICE9PSAna2luZXRpYycgfHwgbmFtZSA9PT0gJ2tpbmV0aWMnKSAmJiAoIW5hbWUgfHwgZXZ0TmFtZSA9PT0gbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZ0TGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZXZ0TGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZXZlbnRMaXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfZmlyZUNoYW5nZUV2ZW50OiBmdW5jdGlvbihhdHRyLCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZShhdHRyICsgQ0hBTkdFLCB7XG4gICAgICAgICAgICAgICAgb2xkVmFsOiBvbGRWYWwsXG4gICAgICAgICAgICAgICAgbmV3VmFsOiBuZXdWYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRJZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIHZhciBvbGRJZCA9IHRoaXMuZ2V0SWQoKTtcblxuICAgICAgICAgICAgS2luZXRpYy5fcmVtb3ZlSWQob2xkSWQpO1xuICAgICAgICAgICAgS2luZXRpYy5fYWRkSWQodGhpcywgaWQpO1xuICAgICAgICAgICAgdGhpcy5fc2V0QXR0cihJRCwgaWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldE5hbWU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBvbGROYW1lID0gdGhpcy5nZXROYW1lKCk7XG5cbiAgICAgICAgICAgIEtpbmV0aWMuX3JlbW92ZU5hbWUob2xkTmFtZSwgdGhpcy5faWQpO1xuICAgICAgICAgICAgS2luZXRpYy5fYWRkTmFtZSh0aGlzLCBuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3NldEF0dHIoTkFNRSwgbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBhdHRyXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJcbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWxcbiAgICAgICAgICogQHJldHVybnMge0tpbmV0aWMuTm9kZX1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbm9kZS5zZXRBdHRyKCd4JywgNSk7XG4gICAgICAgICAqL1xuICAgICAgICBzZXRBdHRyOiBmdW5jdGlvbihhdHRyLCB2YWwpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBTRVQgKyBLaW5ldGljLlV0aWwuX2NhcGl0YWxpemUoYXR0ciksXG4gICAgICAgICAgICAgICAgZnVuYyA9IHRoaXNbbWV0aG9kXTtcblxuICAgICAgICAgICAgaWYoS2luZXRpYy5VdGlsLl9pc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMsIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugc2V0IGRpcmVjdGx5XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKGF0dHIsIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX3NldEF0dHI6IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICB2YXIgb2xkVmFsO1xuICAgICAgICAgICAgaWYodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvbGRWYWwgPSB0aGlzLmF0dHJzW2tleV07XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudChrZXksIG9sZFZhbCwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX3NldENvbXBvbmVudEF0dHI6IGZ1bmN0aW9uKGtleSwgY29tcG9uZW50LCB2YWwpIHtcbiAgICAgICAgICAgIHZhciBvbGRWYWw7XG4gICAgICAgICAgICBpZih2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9sZFZhbCA9IHRoaXMuYXR0cnNba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICghb2xkVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB2YWx1ZSB0byBkZWZhdWx0IHZhbHVlIHVzaW5nIGdldEF0dHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gdGhpcy5nZXRBdHRyKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuYXR0cnNba2V5XVtjb21wb25lbnRdID0gdmFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVDaGFuZ2VFdmVudChrZXksIG9sZFZhbCwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2ZpcmVBbmRCdWJibGU6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZ0LCBjb21wYXJlU2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBva2F5VG9SdW4gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZihldnQgJiYgdGhpcy5ub2RlVHlwZSA9PT0gU0hBUEUpIHtcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0ID0gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZXZlbnRUeXBlID09PSBNT1VTRUVOVEVSICYmIGNvbXBhcmVTaGFwZSAmJiAodGhpcy5faWQgPT09IGNvbXBhcmVTaGFwZS5faWQgfHwgKHRoaXMuaXNBbmNlc3Rvck9mICYmIHRoaXMuaXNBbmNlc3Rvck9mKGNvbXBhcmVTaGFwZSkpKSkge1xuICAgICAgICAgICAgICAgIG9rYXlUb1J1biA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihldmVudFR5cGUgPT09IE1PVVNFTEVBVkUgJiYgY29tcGFyZVNoYXBlICYmICh0aGlzLl9pZCA9PT0gY29tcGFyZVNoYXBlLl9pZCB8fCAodGhpcy5pc0FuY2VzdG9yT2YgJiYgdGhpcy5pc0FuY2VzdG9yT2YoY29tcGFyZVNoYXBlKSkpKSB7XG4gICAgICAgICAgICAgICAgb2theVRvUnVuID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihva2F5VG9SdW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50VHlwZSwgZXZ0KTtcblxuICAgICAgICAgICAgICAgIC8vIHNpbXVsYXRlIGV2ZW50IGJ1YmJsaW5nXG4gICAgICAgICAgICAgICAgdmFyIHN0b3BCdWJibGUgPSAoZXZlbnRUeXBlID09PSBNT1VTRUVOVEVSIHx8IGV2ZW50VHlwZSA9PT0gTU9VU0VMRUFWRSkgJiYgKChjb21wYXJlU2hhcGUgJiYgY29tcGFyZVNoYXBlLmlzQW5jZXN0b3JPZiAmJiBjb21wYXJlU2hhcGUuaXNBbmNlc3Rvck9mKHRoaXMpKSB8fCAhIShjb21wYXJlU2hhcGUgJiYgY29tcGFyZVNoYXBlLmlzQW5jZXN0b3JPZikpO1xuICAgICAgICAgICAgICAgIGlmKGV2dCAmJiAhZXZ0LmNhbmNlbEJ1YmJsZSAmJiB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc0xpc3RlbmluZygpICYmICghc3RvcEJ1YmJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29tcGFyZVNoYXBlICYmIGNvbXBhcmVTaGFwZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVBbmRCdWJibGUuY2FsbCh0aGlzLnBhcmVudCwgZXZlbnRUeXBlLCBldnQsIGNvbXBhcmVTaGFwZS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZUFuZEJ1YmJsZS5jYWxsKHRoaXMucGFyZW50LCBldmVudFR5cGUsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9maXJlOiBmdW5jdGlvbihldmVudFR5cGUsIGV2dCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXSxcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICBldnQudHlwZSA9IGV2ZW50VHlwZTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNbaV0uaGFuZGxlci5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZHJhdyBib3RoIHNjZW5lIGFuZCBoaXQgZ3JhcGhzLiAgSWYgdGhlIG5vZGUgYmVpbmcgZHJhd24gaXMgdGhlIHN0YWdlLCBhbGwgb2YgdGhlIGxheWVycyB3aWxsIGJlIGNsZWFyZWQgYW5kIHJlZHJhd25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Ob2RlfVxuICAgICAgICAgKi9cbiAgICAgICAgZHJhdzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3SGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIG5vZGUgd2l0aCBKU09OIHN0cmluZy4gIERlLXNlcmlhbGl6dGlvbiBkb2VzIG5vdCBnZW5lcmF0ZSBjdXN0b21cbiAgICAgKiAgc2hhcGUgZHJhd2luZyBmdW5jdGlvbnMsIGltYWdlcywgb3IgZXZlbnQgaGFuZGxlcnMgKHRoaXMgd291bGQgbWFrZSB0aGVcbiAgICAgKiAgc2VyaWFsaXplZCBvYmplY3QgaHVnZSkuICBJZiB5b3VyIGFwcCB1c2VzIGN1c3RvbSBzaGFwZXMsIGltYWdlcywgYW5kXG4gICAgICogIGV2ZW50IGhhbmRsZXJzIChpdCBwcm9iYWJseSBkb2VzKSwgdGhlbiB5b3UgbmVlZCB0byBzZWxlY3QgdGhlIGFwcHJvcHJpYXRlXG4gICAgICogIHNoYXBlcyBhZnRlciBsb2FkaW5nIHRoZSBzdGFnZSBhbmQgc2V0IHRoZXNlIHByb3BlcnRpZXMgdmlhIG9uKCksIHNldERyYXdGdW5jKCksXG4gICAgICogIGFuZCBzZXRJbWFnZSgpIG1ldGhvZHNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBqc29uXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBbY29udGFpbmVyXSBvcHRpb25hbCBjb250YWluZXIgZG9tIGVsZW1lbnQgdXNlZCBvbmx5IGlmIHlvdSdyZVxuICAgICAqICBjcmVhdGluZyBhIHN0YWdlIG5vZGVcbiAgICAgKi9cbiAgICBLaW5ldGljLk5vZGUuY3JlYXRlID0gZnVuY3Rpb24oanNvbiwgY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVOb2RlKEpTT04ucGFyc2UoanNvbiksIGNvbnRhaW5lcik7XG4gICAgfTtcbiAgICBLaW5ldGljLk5vZGUuX2NyZWF0ZU5vZGUgPSBmdW5jdGlvbihvYmosIGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5nZXRDbGFzc05hbWUuY2FsbChvYmopLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBvYmouY2hpbGRyZW4sXG4gICAgICAgICAgICBubywgbGVuLCBuO1xuXG4gICAgICAgIC8vIGlmIGNvbnRhaW5lciB3YXMgcGFzc2VkIGluLCBhZGQgaXQgdG8gYXR0cnNcbiAgICAgICAgaWYoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBvYmouYXR0cnMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgbm8gPSBuZXcgS2luZXRpY1tjbGFzc05hbWVdKG9iai5hdHRycyk7XG4gICAgICAgIGlmKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIG5vLmFkZCh0aGlzLl9jcmVhdGVOb2RlKGNoaWxkcmVuW25dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm87XG4gICAgfTtcblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IGFkZCBnZXR0ZXJzIHNldHRlcnMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdwb3NpdGlvbicpO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgbm9kZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcbiAgICAgKiBAbmFtZSBwb3NpdGlvblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb3NcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnlcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHBvc2l0aW9uXG4gICAgICogdmFyIHBvc2l0aW9uID0gbm9kZS5wb3NpdGlvbigpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHBvc2l0aW9uXG4gICAgICogbm9kZS5wb3NpdGlvbih7XG4gICAgICogICB4OiA1XG4gICAgICogICB5OiAxMFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICd4JywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHggcG9zaXRpb25cbiAgICAgKiBAbmFtZSB4XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHhcbiAgICAgKiB2YXIgeCA9IG5vZGUueCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHhcbiAgICAgKiBub2RlLngoNSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3knLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgeSBwb3NpdGlvblxuICAgICAqIEBuYW1lIHlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHlcbiAgICAgKiB2YXIgeSA9IG5vZGUueSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHlcbiAgICAgKiBub2RlLnkoNSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ29wYWNpdHknLCAxKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgb3BhY2l0eS4gIE9wYWNpdHkgdmFsdWVzIHJhbmdlIGZyb20gMCB0byAxLlxuICAgICAqICBBIG5vZGUgd2l0aCBhbiBvcGFjaXR5IG9mIDAgaXMgZnVsbHkgdHJhbnNwYXJlbnQsIGFuZCBhIG5vZGVcbiAgICAgKiAgd2l0aCBhbiBvcGFjaXR5IG9mIDEgaXMgZnVsbHkgb3BhcXVlXG4gICAgICogQG5hbWUgb3BhY2l0eVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcGFjaXR5XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBvcGFjaXR5XG4gICAgICogdmFyIG9wYWNpdHkgPSBub2RlLm9wYWNpdHkoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBvcGFjaXR5XG4gICAgICogbm9kZS5vcGFjaXR5KDAuNSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyKEtpbmV0aWMuTm9kZSwgJ25hbWUnKTtcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICduYW1lJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IG5hbWVcbiAgICAgKiBAbmFtZSBuYW1lXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IG5hbWVcbiAgICAgKiB2YXIgbmFtZSA9IG5vZGUubmFtZSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IG5hbWVcbiAgICAgKiBub2RlLm5hbWUoJ2ZvbycpO1xuICAgICAqXG4gICAgICogLy8gYWxzbyBub2RlIG1heSBoYXZlIG11bHRpcGxlIG5hbWVzIChhcyBjc3MgY2xhc3NlcylcbiAgICAgKiBub2RlLm5hbWUoJ2ZvbyBiYXInKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXIoS2luZXRpYy5Ob2RlLCAnaWQnKTtcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdpZCcpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBpZFxuICAgICAqIEBuYW1lIGlkXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBpZFxuICAgICAqIHZhciBuYW1lID0gbm9kZS5pZCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGlkXG4gICAgICogbm9kZS5pZCgnZm9vJyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3JvdGF0aW9uJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHJvdGF0aW9uIGluIGRlZ3JlZXNcbiAgICAgKiBAbmFtZSByb3RhdGlvblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByb3RhdGlvblxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgcm90YXRpb24gaW4gZGVncmVlc1xuICAgICAqIHZhciByb3RhdGlvbiA9IG5vZGUucm90YXRpb24oKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCByb3RhdGlvbiBpbiBkZWdyZWVzXG4gICAgICogbm9kZS5yb3RhdGlvbig0NSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdzY2FsZScsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzY2FsZVxuICAgICAqIEBuYW1lIHNjYWxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNjYWxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlLnhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUueVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc2NhbGVcbiAgICAgKiB2YXIgc2NhbGUgPSBub2RlLnNjYWxlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2NhbGUgXG4gICAgICogc2hhcGUuc2NhbGUoe1xuICAgICAqICAgeDogMlxuICAgICAqICAgeTogM1xuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdzY2FsZVgnLCAxKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2NhbGUgeFxuICAgICAqIEBuYW1lIHNjYWxlWFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzY2FsZSB4XG4gICAgICogdmFyIHNjYWxlWCA9IG5vZGUuc2NhbGVYKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2NhbGUgeFxuICAgICAqIG5vZGUuc2NhbGVYKDIpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdzY2FsZVknLCAxKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2NhbGUgeVxuICAgICAqIEBuYW1lIHNjYWxlWVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzY2FsZSB5XG4gICAgICogdmFyIHNjYWxlWSA9IG5vZGUuc2NhbGVZKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2NhbGUgeVxuICAgICAqIG5vZGUuc2NhbGVZKDIpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnc2tldycsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBza2V3XG4gICAgICogQG5hbWUgc2tld1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBza2V3XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNrZXcueFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBza2V3LnlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNrZXdcbiAgICAgKiB2YXIgc2tldyA9IG5vZGUuc2tldygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNrZXcgXG4gICAgICogbm9kZS5za2V3KHtcbiAgICAgKiAgIHg6IDIwXG4gICAgICogICB5OiAxMFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdza2V3WCcsIDApO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBza2V3IHhcbiAgICAgKiBAbmFtZSBza2V3WFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBza2V3IHhcbiAgICAgKiB2YXIgc2tld1ggPSBub2RlLnNrZXdYKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2tldyB4XG4gICAgICogbm9kZS5za2V3WCgzKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnc2tld1knLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2tldyB5XG4gICAgICogQG5hbWUgc2tld1lcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc2tldyB5XG4gICAgICogdmFyIHNrZXdZID0gbm9kZS5za2V3WSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNrZXcgeVxuICAgICAqIG5vZGUuc2tld1koMyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdvZmZzZXQnLCBbJ3gnLCAneSddKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgb2Zmc2V0LiAgT2Zmc2V0cyB0aGUgZGVmYXVsdCBwb3NpdGlvbiBhbmQgcm90YXRpb24gcG9pbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldC54XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldC55XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBvZmZzZXRcbiAgICAgKiB2YXIgb2Zmc2V0ID0gbm9kZS5vZmZzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBvZmZzZXRcbiAgICAgKiBub2RlLm9mZnNldCh7XG4gICAgICogICB4OiAyMFxuICAgICAqICAgeTogMTBcbiAgICAgKiB9KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnb2Zmc2V0WCcsIDApO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBvZmZzZXQgeFxuICAgICAqIEBuYW1lIG9mZnNldFhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgb2Zmc2V0IHhcbiAgICAgKiB2YXIgb2Zmc2V0WCA9IG5vZGUub2Zmc2V0WCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IG9mZnNldCB4XG4gICAgICogbm9kZS5vZmZzZXRYKDMpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdvZmZzZXRZJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IG9mZnNldCB5XG4gICAgICogQG5hbWUgb2Zmc2V0WVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBvZmZzZXQgeVxuICAgICAqIHZhciBvZmZzZXRZID0gbm9kZS5vZmZzZXRZKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgb2Zmc2V0IHlcbiAgICAgKiBub2RlLm9mZnNldFkoMyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2RyYWdEaXN0YW5jZScpO1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2RyYWdEaXN0YW5jZScpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBkcmFnIGRpc3RhbmNlXG4gICAgICogQG5hbWUgZHJhZ0Rpc3RhbmNlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRpc3RhbmNlXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBkcmFnIGRpc3RhbmNlXG4gICAgICogdmFyIGRyYWdEaXN0YW5jZSA9IG5vZGUuZHJhZ0Rpc3RhbmNlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZGlzdGFuY2VcbiAgICAgKiAvLyBub2RlIHN0YXJ0cyBkcmFnZ2luZyBvbmx5IGlmIHBvaW50ZXIgbW92ZWQgbW9yZSB0aGVuIDMgcGl4ZWxzXG4gICAgICogbm9kZS5kcmFnRGlzdGFuY2UoMyk7XG4gICAgICogLy8gb3Igc2V0IGdsb2JhbGx5XG4gICAgICogS2luZXRpYy5kcmFnRGlzdGFuY2UgPSAzO1xuICAgICAqL1xuXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3dpZHRoJywgMCk7XG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnd2lkdGgnKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHdpZHRoXG4gICAgICogQG5hbWUgd2lkdGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHdpZHRoXG4gICAgICogdmFyIHdpZHRoID0gbm9kZS53aWR0aCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHdpZHRoXG4gICAgICogbm9kZS53aWR0aCgxMDApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZFNldHRlcihLaW5ldGljLk5vZGUsICdoZWlnaHQnLCAwKTtcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkT3ZlcmxvYWRlZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdoZWlnaHQnKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGhlaWdodFxuICAgICAqIEBuYW1lIGhlaWdodFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGhlaWdodFxuICAgICAqIHZhciBoZWlnaHQgPSBub2RlLmhlaWdodCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGhlaWdodFxuICAgICAqIG5vZGUuaGVpZ2h0KDEwMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2xpc3RlbmluZycsICdpbmhlcml0Jyk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBsaXN0ZW5pZyBhdHRyLiAgSWYgeW91IG5lZWQgdG8gZGV0ZXJtaW5lIGlmIGEgbm9kZSBpcyBsaXN0ZW5pbmcgb3Igbm90XG4gICAgICogICBieSB0YWtpbmcgaW50byBhY2NvdW50IGl0cyBwYXJlbnRzLCB1c2UgdGhlIGlzTGlzdGVuaW5nKCkgbWV0aG9kICBcbiAgICAgKiBAbmFtZSBsaXN0ZW5pbmdcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW58U3RyaW5nfSBsaXN0ZW5pbmcgQ2FuIGJlIFwiaW5oZXJpdFwiLCB0cnVlLCBvciBmYWxzZS4gIFRoZSBkZWZhdWx0IGlzIFwiaW5oZXJpdFwiLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufFN0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBsaXN0ZW5pbmcgYXR0clxuICAgICAqIHZhciBsaXN0ZW5pbmcgPSBub2RlLmxpc3RlbmluZygpO1xuICAgICAqXG4gICAgICogLy8gc3RvcCBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xuICAgICAqIG5vZGUubGlzdGVuaW5nKGZhbHNlKTtcbiAgICAgKlxuICAgICAqIC8vIGxpc3RlbiBmb3IgZXZlbnRzXG4gICAgICogbm9kZS5saXN0ZW5pbmcodHJ1ZSk7XG4gICAgICpcbiAgICAgKiAvLyBsaXN0ZW4gdG8gZXZlbnRzIGFjY29yZGluZyB0byB0aGUgcGFyZW50XG4gICAgICogbm9kZS5saXN0ZW5pbmcoJ2luaGVyaXQnKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnZmlsdGVycycsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsKSB7dGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtyZXR1cm4gdmFsO30pO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsdGVycy4gIEZpbHRlcnMgYXJlIGFwcGxpZWQgdG8gY2FjaGVkIGNhbnZhc2VzXG4gICAgICogQG5hbWUgZmlsdGVyc1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcnMgYXJyYXkgb2YgZmlsdGVyc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWx0ZXJzXG4gICAgICogdmFyIGZpbHRlcnMgPSBub2RlLmZpbHRlcnMoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBhIHNpbmdsZSBmaWx0ZXJcbiAgICAgKiBub2RlLmNhY2hlKCk7XG4gICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuQmx1cl0pO1xuICAgICAqXG4gICAgICogLy8gc2V0IG11bHRpcGxlIGZpbHRlcnNcbiAgICAgKiBub2RlLmNhY2hlKCk7XG4gICAgICogbm9kZS5maWx0ZXJzKFtcbiAgICAgKiAgIEtpbmV0aWMuRmlsdGVycy5CbHVyLFxuICAgICAqICAgS2luZXRpYy5GaWx0ZXJzLlNlcGlhLFxuICAgICAqICAgS2luZXRpYy5GaWx0ZXJzLkludmVydFxuICAgICAqIF0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICd2aXNpYmxlJywgJ2luaGVyaXQnKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHZpc2libGUgYXR0ci4gIENhbiBiZSBcImluaGVyaXRcIiwgdHJ1ZSwgb3IgZmFsc2UuICBUaGUgZGVmYXVsdCBpcyBcImluaGVyaXRcIi5cbiAgICAgKiAgIElmIHlvdSBuZWVkIHRvIGRldGVybWluZSBpZiBhIG5vZGUgaXMgdmlzaWJsZSBvciBub3RcbiAgICAgKiAgIGJ5IHRha2luZyBpbnRvIGFjY291bnQgaXRzIHBhcmVudHMsIHVzZSB0aGUgaXNWaXNpYmxlKCkgbWV0aG9kICBcbiAgICAgKiBAbmFtZSB2aXNpYmxlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtCb29sZWFufFN0cmluZ30gdmlzaWJsZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufFN0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCB2aXNpYmxlIGF0dHJcbiAgICAgKiB2YXIgdmlzaWJsZSA9IG5vZGUudmlzaWJsZSgpO1xuICAgICAqXG4gICAgICogLy8gbWFrZSBpbnZpc2libGVcbiAgICAgKiBub2RlLnZpc2libGUoZmFsc2UpO1xuICAgICAqXG4gICAgICogLy8gbWFrZSB2aXNpYmxlXG4gICAgICogbm9kZS52aXNpYmxlKHRydWUpO1xuICAgICAqXG4gICAgICogLy8gbWFrZSB2aXNpYmxlIGFjY29yZGluZyB0byB0aGUgcGFyZW50XG4gICAgICogbm9kZS52aXNpYmxlKCdpbmhlcml0Jyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3RyYW5zZm9ybXNFbmFibGVkJywgJ2FsbCcpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCB0cmFuc2Zvcm1zIHRoYXQgYXJlIGVuYWJsZWQuICBDYW4gYmUgXCJhbGxcIiwgXCJub25lXCIsIG9yIFwicG9zaXRpb25cIi4gIFRoZSBkZWZhdWx0XG4gICAgICogIGlzIFwiYWxsXCJcbiAgICAgKiBAbmFtZSB0cmFuc2Zvcm1zRW5hYmxlZFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbmFibGVkXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGVuYWJsZSBwb3NpdGlvbiB0cmFuc2Zvcm0gb25seSB0byBpbXByb3ZlIGRyYXcgcGVyZm9ybWFuY2VcbiAgICAgKiBub2RlLnRyYW5zZm9ybXNFbmFibGVkKCdwb3NpdGlvbicpO1xuICAgICAqXG4gICAgICogLy8gZW5hYmxlIGFsbCB0cmFuc2Zvcm1zXG4gICAgICogbm9kZS50cmFuc2Zvcm1zRW5hYmxlZCgnYWxsJyk7XG4gICAgICovXG5cblxuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBub2RlIHNpemVcbiAgICAgKiBAbmFtZSBzaXplXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNpemVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2l6ZS53aWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzaXplLmhlaWdodFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgbm9kZSBzaXplXG4gICAgICogdmFyIHNpemUgPSBub2RlLnNpemUoKTtcbiAgICAgKiB2YXIgeCA9IHNpemUueDtcbiAgICAgKiB2YXIgeSA9IHNpemUueTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaXplXG4gICAgICogbm9kZS5zaXplKHtcbiAgICAgKiAgIHdpZHRoOiAxMDAsXG4gICAgICogICBoZWlnaHQ6IDIwMFxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3NpemUnKTtcblxuICAgIEtpbmV0aWMuRmFjdG9yeS5iYWNrQ29tcGF0KEtpbmV0aWMuTm9kZSwge1xuICAgICAgICByb3RhdGVEZWc6ICdyb3RhdGUnLFxuICAgICAgICBzZXRSb3RhdGlvbkRlZzogJ3NldFJvdGF0aW9uJyxcbiAgICAgICAgZ2V0Um90YXRpb25EZWc6ICdnZXRSb3RhdGlvbidcbiAgICB9KTtcblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuTm9kZSk7XG59KSgpO1xuOyhmdW5jdGlvbigpIHtcclxuICAgIC8qKlxyXG4gICAgKiBHcmF5c2NhbGUgRmlsdGVyXHJcbiAgICAqIEBmdW5jdGlvblxyXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXHJcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGFcclxuICAgICogQGV4YW1wbGVcclxuICAgICogbm9kZS5jYWNoZSgpO1xyXG4gICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5HcmF5c2NhbGVdKTtcclxuICAgICovXHJcbiAgICBLaW5ldGljLkZpbHRlcnMuR3JheXNjYWxlID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcclxuICAgICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIGksIGJyaWdodG5lc3M7XHJcblxyXG4gICAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XHJcbiAgICAgICAgICAgIGJyaWdodG5lc3MgPSAwLjM0ICogZGF0YVtpXSArIDAuNSAqIGRhdGFbaSArIDFdICsgMC4xNiAqIGRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICAvLyByZWRcclxuICAgICAgICAgICAgZGF0YVtpXSA9IGJyaWdodG5lc3M7XHJcbiAgICAgICAgICAgIC8vIGdyZWVuXHJcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gYnJpZ2h0bmVzcztcclxuICAgICAgICAgICAgLy8gYmx1ZVxyXG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGJyaWdodG5lc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkoKTtcclxuOyhmdW5jdGlvbigpIHtcbiAgICAvKipcbiAgICAgKiBCcmlnaHRlbiBGaWx0ZXIuICBcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbm9kZS5jYWNoZSgpO1xuICAgICAqIG5vZGUuZmlsdGVycyhbS2luZXRpYy5GaWx0ZXJzLkJyaWdodGVuXSk7XG4gICAgICogbm9kZS5icmlnaHRuZXNzKDAuOCk7XG4gICAgICovXG4gICAgS2luZXRpYy5GaWx0ZXJzLkJyaWdodGVuID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG4gICAgICAgIHZhciBicmlnaHRuZXNzID0gdGhpcy5icmlnaHRuZXNzKCkgKiAyNTUsXG4gICAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgICAgIC8vIHJlZFxuICAgICAgICAgICAgZGF0YVtpXSArPSBicmlnaHRuZXNzO1xuICAgICAgICAgICAgLy8gZ3JlZW5cbiAgICAgICAgICAgIGRhdGFbaSArIDFdICs9IGJyaWdodG5lc3M7XG4gICAgICAgICAgICAvLyBibHVlXG4gICAgICAgICAgICBkYXRhW2kgKyAyXSArPSBicmlnaHRuZXNzO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnYnJpZ2h0bmVzcycsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGZpbHRlciBicmlnaHRuZXNzLiAgVGhlIGJyaWdodG5lc3MgaXMgYSBudW1iZXIgYmV0d2VlbiAtMSBhbmQgMS4mbmJzcDsgUG9zaXRpdmUgdmFsdWVzIFxuICAgICogIGJyaWdodGVuIHRoZSBwaXhlbHMgYW5kIG5lZ2F0aXZlIHZhbHVlcyBkYXJrZW4gdGhlbS4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5CcmlnaHRlbn0gZmlsdGVyLlxuICAgICogQG5hbWUgYnJpZ2h0bmVzc1xuICAgICogQG1ldGhvZFxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBicmlnaHRuZXNzIHZhbHVlIGJldHdlZW4gLTEgYW5kIDFcbiAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgKi9cblxufSkoKTtcbjsoZnVuY3Rpb24oKSB7XHJcbiAgICAvKipcclxuICAgICogSW52ZXJ0IEZpbHRlclxyXG4gICAgKiBAZnVuY3Rpb25cclxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xyXG4gICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIG5vZGUuY2FjaGUoKTtcclxuICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuSW52ZXJ0XSk7XHJcbiAgICAqL1xyXG4gICAgS2luZXRpYy5GaWx0ZXJzLkludmVydCA9IGZ1bmN0aW9uKGltYWdlRGF0YSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXHJcbiAgICAgICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBpO1xyXG5cclxuICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICAgICAgICAvLyByZWRcclxuICAgICAgICAgICAgZGF0YVtpXSA9IDI1NSAtIGRhdGFbaV07XHJcbiAgICAgICAgICAgIC8vIGdyZWVuXHJcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gMjU1IC0gZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIC8vIGJsdWVcclxuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSBkYXRhW2kgKyAyXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KSgpOzsvKlxuIHRoZSBHYXVzcyBmaWx0ZXJcbiBtYXN0ZXIgcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3BhdmVscG93ZXIva2luZXRpY2pzR2F1c3NGaWx0ZXIvXG4qL1xuKGZ1bmN0aW9uKCkge1xuICAgIC8qXG5cbiAgICAgU3RhY2tCbHVyIC0gYSBmYXN0IGFsbW9zdCBHYXVzc2lhbiBCbHVyIEZvciBDYW52YXNcblxuICAgICBWZXJzaW9uOiAgIDAuNVxuICAgICBBdXRob3I6ICAgIE1hcmlvIEtsaW5nZW1hbm5cbiAgICAgQ29udGFjdDogICBtYXJpb0BxdWFzaW1vbmRvLmNvbVxuICAgICBXZWJzaXRlOiAgIGh0dHA6Ly93d3cucXVhc2ltb25kby5jb20vU3RhY2tCbHVyRm9yQ2FudmFzXG4gICAgIFR3aXR0ZXI6ICAgQHF1YXNpbW9uZG9cblxuICAgICBJbiBjYXNlIHlvdSBmaW5kIHRoaXMgY2xhc3MgdXNlZnVsIC0gZXNwZWNpYWxseSBpbiBjb21tZXJjaWFsIHByb2plY3RzIC1cbiAgICAgSSBhbSBub3QgdG90YWxseSB1bmhhcHB5IGZvciBhIHNtYWxsIGRvbmF0aW9uIHRvIG15IFBheVBhbCBhY2NvdW50XG4gICAgIG1hcmlvQHF1YXNpbW9uZG8uZGVcblxuICAgICBPciBzdXBwb3J0IG1lIG9uIGZsYXR0cjpcbiAgICAgaHR0cHM6Ly9mbGF0dHIuY29tL3RoaW5nLzcyNzkxL1N0YWNrQmx1ci1hLWZhc3QtYWxtb3N0LUdhdXNzaWFuLUJsdXItRWZmZWN0LWZvci1DYW52YXNKYXZhc2NyaXB0XG5cbiAgICAgQ29weXJpZ2h0IChjKSAyMDEwIE1hcmlvIEtsaW5nZW1hbm5cblxuICAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICAgICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICAgICBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXRcbiAgICAgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4gICAgIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gICAgIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICAgICBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuICAgICBjb25kaXRpb25zOlxuXG4gICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gICAgIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFU1xuICAgICBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICAgICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVFxuICAgICBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSxcbiAgICAgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gICAgIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1JcbiAgICAgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gQmx1clN0YWNrKCkge1xuICAgICAgICB0aGlzLnIgPSAwO1xuICAgICAgICB0aGlzLmcgPSAwO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmEgPSAwO1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBtdWxfdGFibGUgPSBbXG4gICAgICAgIDUxMiw1MTIsNDU2LDUxMiwzMjgsNDU2LDMzNSw1MTIsNDA1LDMyOCwyNzEsNDU2LDM4OCwzMzUsMjkyLDUxMixcbiAgICAgICAgNDU0LDQwNSwzNjQsMzI4LDI5OCwyNzEsNDk2LDQ1Niw0MjAsMzg4LDM2MCwzMzUsMzEyLDI5MiwyNzMsNTEyLFxuICAgICAgICA0ODIsNDU0LDQyOCw0MDUsMzgzLDM2NCwzNDUsMzI4LDMxMiwyOTgsMjg0LDI3MSwyNTksNDk2LDQ3NSw0NTYsXG4gICAgICAgIDQzNyw0MjAsNDA0LDM4OCwzNzQsMzYwLDM0NywzMzUsMzIzLDMxMiwzMDIsMjkyLDI4MiwyNzMsMjY1LDUxMixcbiAgICAgICAgNDk3LDQ4Miw0NjgsNDU0LDQ0MSw0MjgsNDE3LDQwNSwzOTQsMzgzLDM3MywzNjQsMzU0LDM0NSwzMzcsMzI4LFxuICAgICAgICAzMjAsMzEyLDMwNSwyOTgsMjkxLDI4NCwyNzgsMjcxLDI2NSwyNTksNTA3LDQ5Niw0ODUsNDc1LDQ2NSw0NTYsXG4gICAgICAgIDQ0Niw0MzcsNDI4LDQyMCw0MTIsNDA0LDM5NiwzODgsMzgxLDM3NCwzNjcsMzYwLDM1NCwzNDcsMzQxLDMzNSxcbiAgICAgICAgMzI5LDMyMywzMTgsMzEyLDMwNywzMDIsMjk3LDI5MiwyODcsMjgyLDI3OCwyNzMsMjY5LDI2NSwyNjEsNTEyLFxuICAgICAgICA1MDUsNDk3LDQ4OSw0ODIsNDc1LDQ2OCw0NjEsNDU0LDQ0Nyw0NDEsNDM1LDQyOCw0MjIsNDE3LDQxMSw0MDUsXG4gICAgICAgIDM5OSwzOTQsMzg5LDM4MywzNzgsMzczLDM2OCwzNjQsMzU5LDM1NCwzNTAsMzQ1LDM0MSwzMzcsMzMyLDMyOCxcbiAgICAgICAgMzI0LDMyMCwzMTYsMzEyLDMwOSwzMDUsMzAxLDI5OCwyOTQsMjkxLDI4NywyODQsMjgxLDI3OCwyNzQsMjcxLFxuICAgICAgICAyNjgsMjY1LDI2MiwyNTksMjU3LDUwNyw1MDEsNDk2LDQ5MSw0ODUsNDgwLDQ3NSw0NzAsNDY1LDQ2MCw0NTYsXG4gICAgICAgIDQ1MSw0NDYsNDQyLDQzNyw0MzMsNDI4LDQyNCw0MjAsNDE2LDQxMiw0MDgsNDA0LDQwMCwzOTYsMzkyLDM4OCxcbiAgICAgICAgMzg1LDM4MSwzNzcsMzc0LDM3MCwzNjcsMzYzLDM2MCwzNTcsMzU0LDM1MCwzNDcsMzQ0LDM0MSwzMzgsMzM1LFxuICAgICAgICAzMzIsMzI5LDMyNiwzMjMsMzIwLDMxOCwzMTUsMzEyLDMxMCwzMDcsMzA0LDMwMiwyOTksMjk3LDI5NCwyOTIsXG4gICAgICAgIDI4OSwyODcsMjg1LDI4MiwyODAsMjc4LDI3NSwyNzMsMjcxLDI2OSwyNjcsMjY1LDI2MywyNjEsMjU5XG4gICAgXTtcblxuICAgIHZhciBzaGdfdGFibGUgPSBbXG4gICAgICAgIDksIDExLCAxMiwgMTMsIDEzLCAxNCwgMTQsIDE1LCAxNSwgMTUsIDE1LCAxNiwgMTYsIDE2LCAxNiwgMTcsXG4gICAgICAgIDE3LCAxNywgMTcsIDE3LCAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LCAxOCwgMTgsIDE4LCAxOCwgMTgsIDE5LFxuICAgICAgICAxOSwgMTksIDE5LCAxOSwgMTksIDE5LCAxOSwgMTksIDE5LCAxOSwgMTksIDE5LCAxOSwgMjAsIDIwLCAyMCxcbiAgICAgICAgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjAsIDIwLCAyMCwgMjEsXG4gICAgICAgIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLFxuICAgICAgICAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjEsIDIxLCAyMSwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMixcbiAgICAgICAgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsXG4gICAgICAgIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIyLCAyMiwgMjIsIDIzLFxuICAgICAgICAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMyxcbiAgICAgICAgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsXG4gICAgICAgIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLCAyMywgMjMsIDIzLFxuICAgICAgICAyMywgMjMsIDIzLCAyMywgMjMsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAgICAgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsXG4gICAgICAgIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LFxuICAgICAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCxcbiAgICAgICAgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBmaWx0ZXJHYXVzc0JsdXJSR0JBKCBpbWFnZURhdGEsIHJhZGl1cykge1xuXG4gICAgICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcblxuICAgICAgICB2YXIgeCwgeSwgaSwgcCwgeXAsIHlpLCB5dywgcl9zdW0sIGdfc3VtLCBiX3N1bSwgYV9zdW0sXG4gICAgICAgICAgICByX291dF9zdW0sIGdfb3V0X3N1bSwgYl9vdXRfc3VtLCBhX291dF9zdW0sXG4gICAgICAgICAgICByX2luX3N1bSwgZ19pbl9zdW0sIGJfaW5fc3VtLCBhX2luX3N1bSxcbiAgICAgICAgICAgIHByLCBwZywgcGIsIHBhLCByYnM7XG5cbiAgICAgICAgdmFyIGRpdiA9IHJhZGl1cyArIHJhZGl1cyArIDEsXG4gICAgICAgICAgICB3aWR0aE1pbnVzMSAgPSB3aWR0aCAtIDEsXG4gICAgICAgICAgICBoZWlnaHRNaW51czEgPSBoZWlnaHQgLSAxLFxuICAgICAgICAgICAgcmFkaXVzUGx1czEgID0gcmFkaXVzICsgMSxcbiAgICAgICAgICAgIHN1bUZhY3RvciA9IHJhZGl1c1BsdXMxICogKCByYWRpdXNQbHVzMSArIDEgKSAvIDIsXG4gICAgICAgICAgICBzdGFja1N0YXJ0ID0gbmV3IEJsdXJTdGFjaygpLFxuICAgICAgICAgICAgc3RhY2tFbmQgPSBudWxsLFxuICAgICAgICAgICAgc3RhY2sgPSBzdGFja1N0YXJ0LFxuICAgICAgICAgICAgc3RhY2tJbiA9IG51bGwsXG4gICAgICAgICAgICBzdGFja091dCA9IG51bGwsXG4gICAgICAgICAgICBtdWxfc3VtID0gbXVsX3RhYmxlW3JhZGl1c10sXG4gICAgICAgICAgICBzaGdfc3VtID0gc2hnX3RhYmxlW3JhZGl1c107XG5cbiAgICAgICAgZm9yICggaSA9IDE7IGkgPCBkaXY7IGkrKyApIHtcbiAgICAgICAgICAgIHN0YWNrID0gc3RhY2submV4dCA9IG5ldyBCbHVyU3RhY2soKTtcbiAgICAgICAgICAgIGlmICggaSA9PSByYWRpdXNQbHVzMSApe1xuICAgICAgICAgICAgICAgIHN0YWNrRW5kID0gc3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdGFjay5uZXh0ID0gc3RhY2tTdGFydDtcblxuICAgICAgICB5dyA9IHlpID0gMDtcblxuICAgICAgICBmb3IgKCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrIClcbiAgICAgICAge1xuICAgICAgICAgICAgcl9pbl9zdW0gPSBnX2luX3N1bSA9IGJfaW5fc3VtID0gYV9pbl9zdW0gPSByX3N1bSA9IGdfc3VtID0gYl9zdW0gPSBhX3N1bSA9IDA7XG5cbiAgICAgICAgICAgIHJfb3V0X3N1bSA9IHJhZGl1c1BsdXMxICogKCBwciA9IHBpeGVsc1t5aV0gKTtcbiAgICAgICAgICAgIGdfb3V0X3N1bSA9IHJhZGl1c1BsdXMxICogKCBwZyA9IHBpeGVsc1t5aSsxXSApO1xuICAgICAgICAgICAgYl9vdXRfc3VtID0gcmFkaXVzUGx1czEgKiAoIHBiID0gcGl4ZWxzW3lpKzJdICk7XG4gICAgICAgICAgICBhX291dF9zdW0gPSByYWRpdXNQbHVzMSAqICggcGEgPSBwaXhlbHNbeWkrM10gKTtcblxuICAgICAgICAgICAgcl9zdW0gKz0gc3VtRmFjdG9yICogcHI7XG4gICAgICAgICAgICBnX3N1bSArPSBzdW1GYWN0b3IgKiBwZztcbiAgICAgICAgICAgIGJfc3VtICs9IHN1bUZhY3RvciAqIHBiO1xuICAgICAgICAgICAgYV9zdW0gKz0gc3VtRmFjdG9yICogcGE7XG5cbiAgICAgICAgICAgIHN0YWNrID0gc3RhY2tTdGFydDtcblxuICAgICAgICAgICAgZm9yKCBpID0gMDsgaSA8IHJhZGl1c1BsdXMxOyBpKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YWNrLnIgPSBwcjtcbiAgICAgICAgICAgICAgICBzdGFjay5nID0gcGc7XG4gICAgICAgICAgICAgICAgc3RhY2suYiA9IHBiO1xuICAgICAgICAgICAgICAgIHN0YWNrLmEgPSBwYTtcbiAgICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciggaSA9IDE7IGkgPCByYWRpdXNQbHVzMTsgaSsrIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwID0geWkgKyAoKCB3aWR0aE1pbnVzMSA8IGkgPyB3aWR0aE1pbnVzMSA6IGkgKSA8PCAyICk7XG4gICAgICAgICAgICAgICAgcl9zdW0gKz0gKCBzdGFjay5yID0gKCBwciA9IHBpeGVsc1twXSkpICogKCByYnMgPSByYWRpdXNQbHVzMSAtIGkgKTtcbiAgICAgICAgICAgICAgICBnX3N1bSArPSAoIHN0YWNrLmcgPSAoIHBnID0gcGl4ZWxzW3ArMV0pKSAqIHJicztcbiAgICAgICAgICAgICAgICBiX3N1bSArPSAoIHN0YWNrLmIgPSAoIHBiID0gcGl4ZWxzW3ArMl0pKSAqIHJicztcbiAgICAgICAgICAgICAgICBhX3N1bSArPSAoIHN0YWNrLmEgPSAoIHBhID0gcGl4ZWxzW3ArM10pKSAqIHJicztcblxuICAgICAgICAgICAgICAgIHJfaW5fc3VtICs9IHByO1xuICAgICAgICAgICAgICAgIGdfaW5fc3VtICs9IHBnO1xuICAgICAgICAgICAgICAgIGJfaW5fc3VtICs9IHBiO1xuICAgICAgICAgICAgICAgIGFfaW5fc3VtICs9IHBhO1xuXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5uZXh0O1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHN0YWNrSW4gPSBzdGFja1N0YXJ0O1xuICAgICAgICAgICAgc3RhY2tPdXQgPSBzdGFja0VuZDtcbiAgICAgICAgICAgIGZvciAoIHggPSAwOyB4IDwgd2lkdGg7IHgrKyApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3lpKzNdID0gcGEgPSAoYV9zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtO1xuICAgICAgICAgICAgICAgIGlmICggcGEgIT09IDAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGEgPSAyNTUgLyBwYTtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxzW3lpXSAgID0gKChyX3N1bSAqIG11bF9zdW0pID4+IHNoZ19zdW0pICogcGE7XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsc1t5aSsxXSA9ICgoZ19zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtKSAqIHBhO1xuICAgICAgICAgICAgICAgICAgICBwaXhlbHNbeWkrMl0gPSAoKGJfc3VtICogbXVsX3N1bSkgPj4gc2hnX3N1bSkgKiBwYTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwaXhlbHNbeWldID0gcGl4ZWxzW3lpKzFdID0gcGl4ZWxzW3lpKzJdID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByX3N1bSAtPSByX291dF9zdW07XG4gICAgICAgICAgICAgICAgZ19zdW0gLT0gZ19vdXRfc3VtO1xuICAgICAgICAgICAgICAgIGJfc3VtIC09IGJfb3V0X3N1bTtcbiAgICAgICAgICAgICAgICBhX3N1bSAtPSBhX291dF9zdW07XG5cbiAgICAgICAgICAgICAgICByX291dF9zdW0gLT0gc3RhY2tJbi5yO1xuICAgICAgICAgICAgICAgIGdfb3V0X3N1bSAtPSBzdGFja0luLmc7XG4gICAgICAgICAgICAgICAgYl9vdXRfc3VtIC09IHN0YWNrSW4uYjtcbiAgICAgICAgICAgICAgICBhX291dF9zdW0gLT0gc3RhY2tJbi5hO1xuXG4gICAgICAgICAgICAgICAgcCA9ICAoIHl3ICsgKCAoIHAgPSB4ICsgcmFkaXVzICsgMSApIDwgd2lkdGhNaW51czEgPyBwIDogd2lkdGhNaW51czEgKSApIDw8IDI7XG5cbiAgICAgICAgICAgICAgICByX2luX3N1bSArPSAoIHN0YWNrSW4uciA9IHBpeGVsc1twXSk7XG4gICAgICAgICAgICAgICAgZ19pbl9zdW0gKz0gKCBzdGFja0luLmcgPSBwaXhlbHNbcCsxXSk7XG4gICAgICAgICAgICAgICAgYl9pbl9zdW0gKz0gKCBzdGFja0luLmIgPSBwaXhlbHNbcCsyXSk7XG4gICAgICAgICAgICAgICAgYV9pbl9zdW0gKz0gKCBzdGFja0luLmEgPSBwaXhlbHNbcCszXSk7XG5cbiAgICAgICAgICAgICAgICByX3N1bSArPSByX2luX3N1bTtcbiAgICAgICAgICAgICAgICBnX3N1bSArPSBnX2luX3N1bTtcbiAgICAgICAgICAgICAgICBiX3N1bSArPSBiX2luX3N1bTtcbiAgICAgICAgICAgICAgICBhX3N1bSArPSBhX2luX3N1bTtcblxuICAgICAgICAgICAgICAgIHN0YWNrSW4gPSBzdGFja0luLm5leHQ7XG5cbiAgICAgICAgICAgICAgICByX291dF9zdW0gKz0gKCBwciA9IHN0YWNrT3V0LnIgKTtcbiAgICAgICAgICAgICAgICBnX291dF9zdW0gKz0gKCBwZyA9IHN0YWNrT3V0LmcgKTtcbiAgICAgICAgICAgICAgICBiX291dF9zdW0gKz0gKCBwYiA9IHN0YWNrT3V0LmIgKTtcbiAgICAgICAgICAgICAgICBhX291dF9zdW0gKz0gKCBwYSA9IHN0YWNrT3V0LmEgKTtcblxuICAgICAgICAgICAgICAgIHJfaW5fc3VtIC09IHByO1xuICAgICAgICAgICAgICAgIGdfaW5fc3VtIC09IHBnO1xuICAgICAgICAgICAgICAgIGJfaW5fc3VtIC09IHBiO1xuICAgICAgICAgICAgICAgIGFfaW5fc3VtIC09IHBhO1xuXG4gICAgICAgICAgICAgICAgc3RhY2tPdXQgPSBzdGFja091dC5uZXh0O1xuXG4gICAgICAgICAgICAgICAgeWkgKz0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHl3ICs9IHdpZHRoO1xuICAgICAgICB9XG5cblxuICAgICAgICBmb3IgKCB4ID0gMDsgeCA8IHdpZHRoOyB4KysgKVxuICAgICAgICB7XG4gICAgICAgICAgICBnX2luX3N1bSA9IGJfaW5fc3VtID0gYV9pbl9zdW0gPSByX2luX3N1bSA9IGdfc3VtID0gYl9zdW0gPSBhX3N1bSA9IHJfc3VtID0gMDtcblxuICAgICAgICAgICAgeWkgPSB4IDw8IDI7XG4gICAgICAgICAgICByX291dF9zdW0gPSByYWRpdXNQbHVzMSAqICggcHIgPSBwaXhlbHNbeWldKTtcbiAgICAgICAgICAgIGdfb3V0X3N1bSA9IHJhZGl1c1BsdXMxICogKCBwZyA9IHBpeGVsc1t5aSsxXSk7XG4gICAgICAgICAgICBiX291dF9zdW0gPSByYWRpdXNQbHVzMSAqICggcGIgPSBwaXhlbHNbeWkrMl0pO1xuICAgICAgICAgICAgYV9vdXRfc3VtID0gcmFkaXVzUGx1czEgKiAoIHBhID0gcGl4ZWxzW3lpKzNdKTtcblxuICAgICAgICAgICAgcl9zdW0gKz0gc3VtRmFjdG9yICogcHI7XG4gICAgICAgICAgICBnX3N1bSArPSBzdW1GYWN0b3IgKiBwZztcbiAgICAgICAgICAgIGJfc3VtICs9IHN1bUZhY3RvciAqIHBiO1xuICAgICAgICAgICAgYV9zdW0gKz0gc3VtRmFjdG9yICogcGE7XG5cbiAgICAgICAgICAgIHN0YWNrID0gc3RhY2tTdGFydDtcblxuICAgICAgICAgICAgZm9yKCBpID0gMDsgaSA8IHJhZGl1c1BsdXMxOyBpKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YWNrLnIgPSBwcjtcbiAgICAgICAgICAgICAgICBzdGFjay5nID0gcGc7XG4gICAgICAgICAgICAgICAgc3RhY2suYiA9IHBiO1xuICAgICAgICAgICAgICAgIHN0YWNrLmEgPSBwYTtcbiAgICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHlwID0gd2lkdGg7XG5cbiAgICAgICAgICAgIGZvciggaSA9IDE7IGkgPD0gcmFkaXVzOyBpKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHlpID0gKCB5cCArIHggKSA8PCAyO1xuXG4gICAgICAgICAgICAgICAgcl9zdW0gKz0gKCBzdGFjay5yID0gKCBwciA9IHBpeGVsc1t5aV0pKSAqICggcmJzID0gcmFkaXVzUGx1czEgLSBpICk7XG4gICAgICAgICAgICAgICAgZ19zdW0gKz0gKCBzdGFjay5nID0gKCBwZyA9IHBpeGVsc1t5aSsxXSkpICogcmJzO1xuICAgICAgICAgICAgICAgIGJfc3VtICs9ICggc3RhY2suYiA9ICggcGIgPSBwaXhlbHNbeWkrMl0pKSAqIHJicztcbiAgICAgICAgICAgICAgICBhX3N1bSArPSAoIHN0YWNrLmEgPSAoIHBhID0gcGl4ZWxzW3lpKzNdKSkgKiByYnM7XG5cbiAgICAgICAgICAgICAgICByX2luX3N1bSArPSBwcjtcbiAgICAgICAgICAgICAgICBnX2luX3N1bSArPSBwZztcbiAgICAgICAgICAgICAgICBiX2luX3N1bSArPSBwYjtcbiAgICAgICAgICAgICAgICBhX2luX3N1bSArPSBwYTtcblxuICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2submV4dDtcblxuICAgICAgICAgICAgICAgIGlmKCBpIDwgaGVpZ2h0TWludXMxIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHlwICs9IHdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeWkgPSB4O1xuICAgICAgICAgICAgc3RhY2tJbiA9IHN0YWNrU3RhcnQ7XG4gICAgICAgICAgICBzdGFja091dCA9IHN0YWNrRW5kO1xuICAgICAgICAgICAgZm9yICggeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKyApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcCA9IHlpIDw8IDI7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW3ArM10gPSBwYSA9IChhX3N1bSAqIG11bF9zdW0pID4+IHNoZ19zdW07XG4gICAgICAgICAgICAgICAgaWYgKCBwYSA+IDAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGEgPSAyNTUgLyBwYTtcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxzW3BdICAgPSAoKHJfc3VtICogbXVsX3N1bSkgPj4gc2hnX3N1bSApICogcGE7XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsc1twKzFdID0gKChnX3N1bSAqIG11bF9zdW0pID4+IHNoZ19zdW0gKSAqIHBhO1xuICAgICAgICAgICAgICAgICAgICBwaXhlbHNbcCsyXSA9ICgoYl9zdW0gKiBtdWxfc3VtKSA+PiBzaGdfc3VtICkgKiBwYTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwaXhlbHNbcF0gPSBwaXhlbHNbcCsxXSA9IHBpeGVsc1twKzJdID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByX3N1bSAtPSByX291dF9zdW07XG4gICAgICAgICAgICAgICAgZ19zdW0gLT0gZ19vdXRfc3VtO1xuICAgICAgICAgICAgICAgIGJfc3VtIC09IGJfb3V0X3N1bTtcbiAgICAgICAgICAgICAgICBhX3N1bSAtPSBhX291dF9zdW07XG5cbiAgICAgICAgICAgICAgICByX291dF9zdW0gLT0gc3RhY2tJbi5yO1xuICAgICAgICAgICAgICAgIGdfb3V0X3N1bSAtPSBzdGFja0luLmc7XG4gICAgICAgICAgICAgICAgYl9vdXRfc3VtIC09IHN0YWNrSW4uYjtcbiAgICAgICAgICAgICAgICBhX291dF9zdW0gLT0gc3RhY2tJbi5hO1xuXG4gICAgICAgICAgICAgICAgcCA9ICggeCArICgoICggcCA9IHkgKyByYWRpdXNQbHVzMSkgPCBoZWlnaHRNaW51czEgPyBwIDogaGVpZ2h0TWludXMxICkgKiB3aWR0aCApKSA8PCAyO1xuXG4gICAgICAgICAgICAgICAgcl9zdW0gKz0gKCByX2luX3N1bSArPSAoIHN0YWNrSW4uciA9IHBpeGVsc1twXSkpO1xuICAgICAgICAgICAgICAgIGdfc3VtICs9ICggZ19pbl9zdW0gKz0gKCBzdGFja0luLmcgPSBwaXhlbHNbcCsxXSkpO1xuICAgICAgICAgICAgICAgIGJfc3VtICs9ICggYl9pbl9zdW0gKz0gKCBzdGFja0luLmIgPSBwaXhlbHNbcCsyXSkpO1xuICAgICAgICAgICAgICAgIGFfc3VtICs9ICggYV9pbl9zdW0gKz0gKCBzdGFja0luLmEgPSBwaXhlbHNbcCszXSkpO1xuXG4gICAgICAgICAgICAgICAgc3RhY2tJbiA9IHN0YWNrSW4ubmV4dDtcblxuICAgICAgICAgICAgICAgIHJfb3V0X3N1bSArPSAoIHByID0gc3RhY2tPdXQuciApO1xuICAgICAgICAgICAgICAgIGdfb3V0X3N1bSArPSAoIHBnID0gc3RhY2tPdXQuZyApO1xuICAgICAgICAgICAgICAgIGJfb3V0X3N1bSArPSAoIHBiID0gc3RhY2tPdXQuYiApO1xuICAgICAgICAgICAgICAgIGFfb3V0X3N1bSArPSAoIHBhID0gc3RhY2tPdXQuYSApO1xuXG4gICAgICAgICAgICAgICAgcl9pbl9zdW0gLT0gcHI7XG4gICAgICAgICAgICAgICAgZ19pbl9zdW0gLT0gcGc7XG4gICAgICAgICAgICAgICAgYl9pbl9zdW0gLT0gcGI7XG4gICAgICAgICAgICAgICAgYV9pbl9zdW0gLT0gcGE7XG5cbiAgICAgICAgICAgICAgICBzdGFja091dCA9IHN0YWNrT3V0Lm5leHQ7XG5cbiAgICAgICAgICAgICAgICB5aSArPSB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJsdXIgRmlsdGVyXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgQmx1clxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBub2RlLmNhY2hlKCk7XG4gICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuQmx1cl0pO1xuICAgICAqIG5vZGUuYmx1clJhZGl1cygxMCk7XG4gICAgICovXG4gICAgS2luZXRpYy5GaWx0ZXJzLkJsdXIgPSBmdW5jdGlvbiBCbHVyKGltYWdlRGF0YSkge1xuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5yb3VuZCh0aGlzLmJsdXJSYWRpdXMoKSk7XG5cbiAgICAgICAgaWYgKHJhZGl1cyA+IDApIHtcbiAgICAgICAgICAgIGZpbHRlckdhdXNzQmx1clJHQkEoaW1hZ2VEYXRhLCByYWRpdXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnYmx1clJhZGl1cycsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAqIGdldC9zZXQgYmx1ciByYWRpdXMuIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuQmx1cn0gZmlsdGVyXG4gICAgKiBAbmFtZSBibHVyUmFkaXVzXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSByYWRpdXNcbiAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICovXG59KSgpOzsoZnVuY3Rpb24oKSB7XG5cblx0ZnVuY3Rpb24gcGl4ZWxBdChpZGF0YSwgeCwgeSkge1xuXHRcdHZhciBpZHggPSAoeSAqIGlkYXRhLndpZHRoICsgeCkgKiA0O1xuXHRcdHZhciBkID0gW107XG5cdFx0ZC5wdXNoKGlkYXRhLmRhdGFbaWR4KytdLCBpZGF0YS5kYXRhW2lkeCsrXSwgaWRhdGEuZGF0YVtpZHgrK10sIGlkYXRhLmRhdGFbaWR4KytdKTtcblx0XHRyZXR1cm4gZDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJnYkRpc3RhbmNlKHAxLCBwMikge1xuXHRcdHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgKyBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKSArIE1hdGgucG93KHAxWzJdIC0gcDJbMl0sIDIpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJnYk1lYW4ocFRhYikge1xuXHRcdHZhciBtID0gWzAsIDAsIDBdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwVGFiLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRtWzBdICs9IHBUYWJbaV1bMF07XG5cdFx0XHRtWzFdICs9IHBUYWJbaV1bMV07XG5cdFx0XHRtWzJdICs9IHBUYWJbaV1bMl07XG5cdFx0fVxuXG5cdFx0bVswXSAvPSBwVGFiLmxlbmd0aDtcblx0XHRtWzFdIC89IHBUYWIubGVuZ3RoO1xuXHRcdG1bMl0gLz0gcFRhYi5sZW5ndGg7XG5cblx0XHRyZXR1cm4gbTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJhY2tncm91bmRNYXNrKGlkYXRhLCB0aHJlc2hvbGQpIHtcblx0XHR2YXIgcmdidl9ubyA9IHBpeGVsQXQoaWRhdGEsIDAsIDApO1xuXHRcdHZhciByZ2J2X25lID0gcGl4ZWxBdChpZGF0YSwgaWRhdGEud2lkdGggLSAxLCAwKTtcblx0XHR2YXIgcmdidl9zbyA9IHBpeGVsQXQoaWRhdGEsIDAsIGlkYXRhLmhlaWdodCAtIDEpO1xuXHRcdHZhciByZ2J2X3NlID0gcGl4ZWxBdChpZGF0YSwgaWRhdGEud2lkdGggLSAxLCBpZGF0YS5oZWlnaHQgLSAxKTtcblxuXG5cdFx0dmFyIHRocmVzID0gdGhyZXNob2xkIHx8IDEwO1xuXHRcdGlmIChyZ2JEaXN0YW5jZShyZ2J2X25vLCByZ2J2X25lKSA8IHRocmVzICYmIHJnYkRpc3RhbmNlKHJnYnZfbmUsIHJnYnZfc2UpIDwgdGhyZXMgJiYgcmdiRGlzdGFuY2Uocmdidl9zZSwgcmdidl9zbykgPCB0aHJlcyAmJiByZ2JEaXN0YW5jZShyZ2J2X3NvLCByZ2J2X25vKSA8IHRocmVzKSB7XG5cblx0XHRcdC8vIE1lYW4gY29sb3Jcblx0XHRcdHZhciBtZWFuID0gcmdiTWVhbihbcmdidl9uZSwgcmdidl9ubywgcmdidl9zZSwgcmdidl9zb10pO1xuXG5cdFx0XHQvLyBNYXNrIGJhc2VkIG9uIGNvbG9yIGRpc3RhbmNlXG5cdFx0XHR2YXIgbWFzayA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpZGF0YS53aWR0aCAqIGlkYXRhLmhlaWdodDsgaSsrKSB7XG5cdFx0XHRcdHZhciBkID0gcmdiRGlzdGFuY2UobWVhbiwgW2lkYXRhLmRhdGFbaSAqIDRdLCBpZGF0YS5kYXRhW2kgKiA0ICsgMV0sIGlkYXRhLmRhdGFbaSAqIDQgKyAyXV0pO1xuXHRcdFx0XHRtYXNrW2ldID0gKGQgPCB0aHJlcykgPyAwIDogMjU1O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWFzaztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhcHBseU1hc2soaWRhdGEsIG1hc2spIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGlkYXRhLndpZHRoICogaWRhdGEuaGVpZ2h0OyBpKyspIHtcblx0XHRcdGlkYXRhLmRhdGFbNCAqIGkgKyAzXSA9IG1hc2tbaV07XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZXJvZGVNYXNrKG1hc2ssIHN3LCBzaCkge1xuXG5cdFx0dmFyIHdlaWdodHMgPSBbMSwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMV07XG5cdFx0dmFyIHNpZGUgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh3ZWlnaHRzLmxlbmd0aCkpO1xuXHRcdHZhciBoYWxmU2lkZSA9IE1hdGguZmxvb3Ioc2lkZSAvIDIpO1xuXG5cdFx0dmFyIG1hc2tSZXN1bHQgPSBbXTtcblx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IHNoOyB5KyspIHtcblx0XHRcdGZvciAodmFyIHggPSAwOyB4IDwgc3c7IHgrKykge1xuXG5cdFx0XHRcdHZhciBzbyA9IHkgKiBzdyArIHg7XG5cdFx0XHRcdHZhciBhID0gMDtcblx0XHRcdFx0Zm9yICh2YXIgY3kgPSAwOyBjeSA8IHNpZGU7IGN5KyspIHtcblx0XHRcdFx0XHRmb3IgKHZhciBjeCA9IDA7IGN4IDwgc2lkZTsgY3grKykge1xuXHRcdFx0XHRcdFx0dmFyIHNjeSA9IHkgKyBjeSAtIGhhbGZTaWRlO1xuXHRcdFx0XHRcdFx0dmFyIHNjeCA9IHggKyBjeCAtIGhhbGZTaWRlO1xuXG5cdFx0XHRcdFx0XHRpZiAoc2N5ID49IDAgJiYgc2N5IDwgc2ggJiYgc2N4ID49IDAgJiYgc2N4IDwgc3cpIHtcblxuXHRcdFx0XHRcdFx0XHR2YXIgc3JjT2ZmID0gc2N5ICogc3cgKyBzY3g7XG5cdFx0XHRcdFx0XHRcdHZhciB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuXG5cdFx0XHRcdFx0XHRcdGEgKz0gbWFza1tzcmNPZmZdICogd3Q7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bWFza1Jlc3VsdFtzb10gPSAoYSA9PT0gMjU1ICogOCkgPyAyNTUgOiAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXNrUmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gZGlsYXRlTWFzayhtYXNrLCBzdywgc2gpIHtcblxuXHRcdHZhciB3ZWlnaHRzID0gWzEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDFdO1xuXHRcdHZhciBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKTtcblx0XHR2YXIgaGFsZlNpZGUgPSBNYXRoLmZsb29yKHNpZGUgLyAyKTtcblxuXHRcdHZhciBtYXNrUmVzdWx0ID0gW107XG5cdFx0Zm9yICh2YXIgeSA9IDA7IHkgPCBzaDsgeSsrKSB7XG5cdFx0XHRmb3IgKHZhciB4ID0gMDsgeCA8IHN3OyB4KyspIHtcblxuXHRcdFx0XHR2YXIgc28gPSB5ICogc3cgKyB4O1xuXHRcdFx0XHR2YXIgYSA9IDA7XG5cdFx0XHRcdGZvciAodmFyIGN5ID0gMDsgY3kgPCBzaWRlOyBjeSsrKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgY3ggPSAwOyBjeCA8IHNpZGU7IGN4KyspIHtcblx0XHRcdFx0XHRcdHZhciBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcblx0XHRcdFx0XHRcdHZhciBzY3ggPSB4ICsgY3ggLSBoYWxmU2lkZTtcblxuXHRcdFx0XHRcdFx0aWYgKHNjeSA+PSAwICYmIHNjeSA8IHNoICYmIHNjeCA+PSAwICYmIHNjeCA8IHN3KSB7XG5cblx0XHRcdFx0XHRcdFx0dmFyIHNyY09mZiA9IHNjeSAqIHN3ICsgc2N4O1xuXHRcdFx0XHRcdFx0XHR2YXIgd3QgPSB3ZWlnaHRzW2N5ICogc2lkZSArIGN4XTtcblxuXHRcdFx0XHRcdFx0XHRhICs9IG1hc2tbc3JjT2ZmXSAqIHd0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1hc2tSZXN1bHRbc29dID0gKGEgPj0gMjU1ICogNCkgPyAyNTUgOiAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXNrUmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gc21vb3RoRWRnZU1hc2sobWFzaywgc3csIHNoKSB7XG5cblx0XHR2YXIgd2VpZ2h0cyA9IFsxIC8gOSwgMSAvIDksIDEgLyA5LCAxIC8gOSwgMSAvIDksIDEgLyA5LCAxIC8gOSwgMSAvIDksIDEgLyA5XTtcblx0XHR2YXIgc2lkZSA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KHdlaWdodHMubGVuZ3RoKSk7XG5cdFx0dmFyIGhhbGZTaWRlID0gTWF0aC5mbG9vcihzaWRlIC8gMik7XG5cblx0XHR2YXIgbWFza1Jlc3VsdCA9IFtdO1xuXHRcdGZvciAodmFyIHkgPSAwOyB5IDwgc2g7IHkrKykge1xuXHRcdFx0Zm9yICh2YXIgeCA9IDA7IHggPCBzdzsgeCsrKSB7XG5cblx0XHRcdFx0dmFyIHNvID0geSAqIHN3ICsgeDtcblx0XHRcdFx0dmFyIGEgPSAwO1xuXHRcdFx0XHRmb3IgKHZhciBjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuXHRcdFx0XHRcdGZvciAodmFyIGN4ID0gMDsgY3ggPCBzaWRlOyBjeCsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2N5ID0geSArIGN5IC0gaGFsZlNpZGU7XG5cdFx0XHRcdFx0XHR2YXIgc2N4ID0geCArIGN4IC0gaGFsZlNpZGU7XG5cblx0XHRcdFx0XHRcdGlmIChzY3kgPj0gMCAmJiBzY3kgPCBzaCAmJiBzY3ggPj0gMCAmJiBzY3ggPCBzdykge1xuXG5cdFx0XHRcdFx0XHRcdHZhciBzcmNPZmYgPSBzY3kgKiBzdyArIHNjeDtcblx0XHRcdFx0XHRcdFx0dmFyIHd0ID0gd2VpZ2h0c1tjeSAqIHNpZGUgKyBjeF07XG5cblx0XHRcdFx0XHRcdFx0YSArPSBtYXNrW3NyY09mZl0gKiB3dDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtYXNrUmVzdWx0W3NvXSA9IGE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hc2tSZXN1bHQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBNYXNrIEZpbHRlclxuXHQgKiBAZnVuY3Rpb25cblx0ICogQG5hbWUgTWFza1xuXHQgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGFcblx0ICogQGV4YW1wbGVcbiAgICAgKiBub2RlLmNhY2hlKCk7XG4gICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuTWFza10pO1xuICAgICAqIG5vZGUudGhyZXNob2xkKDAuMSk7XG5cdCAqL1xuXHRLaW5ldGljLkZpbHRlcnMuTWFzayA9IGZ1bmN0aW9uKGltYWdlRGF0YSkge1xuXHRcdC8vIERldGVjdCBwaXhlbHMgY2xvc2UgdG8gdGhlIGJhY2tncm91bmQgY29sb3Jcblx0XHR2YXIgdGhyZXNob2xkID0gdGhpcy50aHJlc2hvbGQoKSxcbiAgICAgICAgbWFzayA9IGJhY2tncm91bmRNYXNrKGltYWdlRGF0YSwgdGhyZXNob2xkKTtcblx0XHRpZiAobWFzaykge1xuXHRcdFx0Ly8gRXJvZGVcblx0XHRcdG1hc2sgPSBlcm9kZU1hc2sobWFzaywgaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcblxuXHRcdFx0Ly8gRGlsYXRlXG5cdFx0XHRtYXNrID0gZGlsYXRlTWFzayhtYXNrLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuXG5cdFx0XHQvLyBHcmFkaWVudFxuXHRcdFx0bWFzayA9IHNtb290aEVkZ2VNYXNrKG1hc2ssIGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG5cblx0XHRcdC8vIEFwcGx5IG1hc2tcblx0XHRcdGFwcGx5TWFzayhpbWFnZURhdGEsIG1hc2spO1xuXHRcdFx0XG5cdFx0XHQvLyB0b2RvIDogVXBkYXRlIGhpdCByZWdpb24gZnVuY3Rpb24gYWNjb3JkaW5nIHRvIG1hc2tcblx0XHR9XG5cblx0XHRyZXR1cm4gaW1hZ2VEYXRhO1xuXHR9O1xuXG5cdEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAndGhyZXNob2xkJywgMCwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbn0pKCk7XG47KGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBSR0IgRmlsdGVyXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUkdCXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGFcbiAgICAgKiBAYXV0aG9yIGlwcG82MTVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5vZGUuY2FjaGUoKTtcbiAgICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5SR0JdKTtcbiAgICAgKiBub2RlLmJsdWUoMTIwKTtcbiAgICAgKiBub2RlLmdyZWVuKDIwMCk7XG4gICAgICovXG4gICAgS2luZXRpYy5GaWx0ZXJzLlJHQiA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIG5QaXhlbHMgPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIHJlZCA9IHRoaXMucmVkKCksXG4gICAgICAgICAgICBncmVlbiA9IHRoaXMuZ3JlZW4oKSxcbiAgICAgICAgICAgIGJsdWUgPSB0aGlzLmJsdWUoKSxcbiAgICAgICAgICAgIGksIGJyaWdodG5lc3M7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5QaXhlbHM7IGkgKz0gNCkge1xuICAgICAgICAgICAgYnJpZ2h0bmVzcyA9ICgwLjM0ICogZGF0YVtpXSArIDAuNSAqIGRhdGFbaSArIDFdICsgMC4xNiAqIGRhdGFbaSArIDJdKS8yNTU7XG4gICAgICAgICAgICBkYXRhW2kgICAgXSA9IGJyaWdodG5lc3MqcmVkOyAvLyByXG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGJyaWdodG5lc3MqZ3JlZW47IC8vIGdcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYnJpZ2h0bmVzcypibHVlOyAvLyBiXG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IGRhdGFbaSArIDNdOyAvLyBhbHBoYVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAncmVkJywgMCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMuX2ZpbHRlclVwVG9EYXRlID0gZmFsc2U7XG4gICAgICAgIGlmICh2YWwgPiAyNTUpIHtcbiAgICAgICAgICAgIHJldHVybiAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWwpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGZpbHRlciByZWQgdmFsdWUuIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuUkdCfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSByZWRcbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge0ludGVnZXJ9IHJlZCB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDI1NVxuICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnZ3JlZW4nLCAwLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyVXBUb0RhdGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHZhbCA+IDI1NSkge1xuICAgICAgICAgICAgcmV0dXJuIDI1NTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAqIGdldC9zZXQgZmlsdGVyIGdyZWVuIHZhbHVlLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLlJHQn0gZmlsdGVyLlxuICAgICogQG5hbWUgZ3JlZW5cbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge0ludGVnZXJ9IGdyZWVuIHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1XG4gICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdibHVlJywgMCwgS2luZXRpYy5WYWxpZGF0b3JzLlJHQkNvbXBvbmVudCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiAgICAvKipcbiAgICAqIGdldC9zZXQgZmlsdGVyIGJsdWUgdmFsdWUuIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuUkdCfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSBibHVlXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSBibHVlIHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1XG4gICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAqL1xufSkoKTtcbjsoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgKiBIU1YgRmlsdGVyLiBBZGp1c3RzIHRoZSBodWUsIHNhdHVyYXRpb24gYW5kIHZhbHVlXG4gICAgKiBAZnVuY3Rpb25cbiAgICAqIEBuYW1lIEhTVlxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xuICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxuICAgICogQGF1dGhvciBpcHBvNjE1XG4gICAgKiBAZXhhbXBsZVxuICAgICogaW1hZ2UuZmlsdGVycyhbS2luZXRpYy5GaWx0ZXJzLkhTVl0pO1xuICAgICogaW1hZ2UudmFsdWUoMjAwKTtcbiAgICAqL1xuXG4gICAgS2luZXRpYy5GaWx0ZXJzLkhTViA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIG5QaXhlbHMgPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIHYgPSBNYXRoLnBvdygyLHRoaXMudmFsdWUoKSksXG4gICAgICAgICAgICBzID0gTWF0aC5wb3coMix0aGlzLnNhdHVyYXRpb24oKSksXG4gICAgICAgICAgICBoID0gTWF0aC5hYnMoKHRoaXMuaHVlKCkpICsgMzYwKSAlIDM2MCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgLy8gQmFzaXMgZm9yIHRoZSB0ZWNobmlxdWUgdXNlZDpcbiAgICAgICAgLy8gaHR0cDovL2JlZXNidXp6LmJpei9jb2RlL2hzdl9jb2xvcl90cmFuc2Zvcm1zLnBocFxuICAgICAgICAvLyBWIGlzIHRoZSB2YWx1ZSBtdWx0aXBsaWVyICgxIGZvciBub25lLCAyIGZvciBkb3VibGUsIDAuNSBmb3IgaGFsZilcbiAgICAgICAgLy8gUyBpcyB0aGUgc2F0dXJhdGlvbiBtdWx0aXBsaWVyICgxIGZvciBub25lLCAyIGZvciBkb3VibGUsIDAuNSBmb3IgaGFsZilcbiAgICAgICAgLy8gSCBpcyB0aGUgaHVlIHNoaWZ0IGluIGRlZ3JlZXMgKDAgdG8gMzYwKVxuICAgICAgICAvLyB2c3UgPSBWKlMqY29zKEgqUEkvMTgwKTtcbiAgICAgICAgLy8gdnN3ID0gVipTKnNpbihIKlBJLzE4MCk7XG4gICAgICAgIC8vWyAuMjk5VisuNzAxdnN1Ky4xNjh2c3cgICAgLjU4N1YtLjU4N3ZzdSsuMzMwdnN3ICAgIC4xMTRWLS4xMTR2c3UtLjQ5N3ZzdyBdIFtSXVxuICAgICAgICAvL1sgLjI5OVYtLjI5OXZzdS0uMzI4dnN3ICAgIC41ODdWKy40MTN2c3UrLjAzNXZzdyAgICAuMTE0Vi0uMTE0dnN1Ky4yOTJ2c3cgXSpbR11cbiAgICAgICAgLy9bIC4yOTlWLS4zMDB2c3UrMS4yNXZzdyAgICAuNTg3Vi0uNTg4dnN1LTEuMDV2c3cgICAgLjExNFYrLjg4NnZzdS0uMjAzdnN3IF0gW0JdXG5cbiAgICAgICAgLy8gUHJlY29tcHV0ZSB0aGUgdmFsdWVzIGluIHRoZSBtYXRyaXg6XG4gICAgICAgIHZhciB2c3UgPSB2KnMqTWF0aC5jb3MoaCpNYXRoLlBJLzE4MCksXG4gICAgICAgICAgICB2c3cgPSB2KnMqTWF0aC5zaW4oaCpNYXRoLlBJLzE4MCk7XG4gICAgICAgIC8vIChyZXN1bHQgc3BvdCkoc291cmNlIHNwb3QpXG4gICAgICAgIHZhciByciA9IDAuMjk5KnYrMC43MDEqdnN1KzAuMTY3KnZzdyxcbiAgICAgICAgICAgIHJnID0gMC41ODcqdi0wLjU4Nyp2c3UrMC4zMzAqdnN3LFxuICAgICAgICAgICAgcmIgPSAwLjExNCp2LTAuMTE0KnZzdS0wLjQ5Nyp2c3c7XG4gICAgICAgIHZhciBnciA9IDAuMjk5KnYtMC4yOTkqdnN1LTAuMzI4KnZzdyxcbiAgICAgICAgICAgIGdnID0gMC41ODcqdiswLjQxMyp2c3UrMC4wMzUqdnN3LFxuICAgICAgICAgICAgZ2IgPSAwLjExNCp2LTAuMTE0KnZzdSswLjI5Myp2c3c7XG4gICAgICAgIHZhciBiciA9IDAuMjk5KnYtMC4zMDAqdnN1KzEuMjUwKnZzdyxcbiAgICAgICAgICAgIGJnID0gMC41ODcqdi0wLjU4Nip2c3UtMS4wNTAqdnN3LFxuICAgICAgICAgICAgYmIgPSAwLjExNCp2KzAuODg2KnZzdS0wLjIwMCp2c3c7XG5cbiAgICAgICAgdmFyIHIsZyxiLGE7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5QaXhlbHM7IGkgKz0gNCkge1xuICAgICAgICAgICAgciA9IGRhdGFbaSswXTtcbiAgICAgICAgICAgIGcgPSBkYXRhW2krMV07XG4gICAgICAgICAgICBiID0gZGF0YVtpKzJdO1xuICAgICAgICAgICAgYSA9IGRhdGFbaSszXTtcblxuICAgICAgICAgICAgZGF0YVtpKzBdID0gcnIqciArIHJnKmcgKyByYipiO1xuICAgICAgICAgICAgZGF0YVtpKzFdID0gZ3IqciArIGdnKmcgKyBnYipiO1xuICAgICAgICAgICAgZGF0YVtpKzJdID0gYnIqciArIGJnKmcgKyBiYipiO1xuICAgICAgICAgICAgZGF0YVtpKzNdID0gYTsgLy8gYWxwaGFcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnaHVlJywgMCwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiAgICAvKipcbiAgICAqIGdldC9zZXQgaHN2IGh1ZSBpbiBkZWdyZWVzLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLkhTVn0gb3Ige0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU0x9IGZpbHRlci5cbiAgICAqIEBuYW1lIGh1ZVxuICAgICogQG1ldGhvZFxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBodWUgdmFsdWUgYmV0d2VlbiAwIGFuZCAzNTlcbiAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnc2F0dXJhdGlvbicsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGhzdiBzYXR1cmF0aW9uLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLkhTVn0gb3Ige0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU0x9IGZpbHRlci5cbiAgICAqIEBuYW1lIHNhdHVyYXRpb25cbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gc2F0dXJhdGlvbiAwIGlzIG5vIGNoYW5nZSwgLTEuMCBoYWx2ZXMgdGhlIHNhdHVyYXRpb24sIDEuMCBkb3VibGVzLCBldGMuLlxuICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICd2YWx1ZScsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGhzdiB2YWx1ZS4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU1Z9IGZpbHRlci5cbiAgICAqIEBuYW1lIHZhbHVlXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIDAgaXMgbm8gY2hhbmdlLCAtMS4wIGhhbHZlcyB0aGUgdmFsdWUsIDEuMCBkb3VibGVzLCBldGMuLlxuICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAqL1xuXG59KSgpO1xuOyhmdW5jdGlvbiAoKSB7XG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2h1ZScsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGhzdiBodWUgaW4gZGVncmVlcy4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU1Z9IG9yIHtAbGluayBLaW5ldGljLkZpbHRlcnMuSFNMfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSBodWVcbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gaHVlIHZhbHVlIGJldHdlZW4gMCBhbmQgMzU5XG4gICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ3NhdHVyYXRpb24nLCAwLCBudWxsLCBLaW5ldGljLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuICAgIC8qKlxuICAgICogZ2V0L3NldCBoc3Ygc2F0dXJhdGlvbi4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU1Z9IG9yIHtAbGluayBLaW5ldGljLkZpbHRlcnMuSFNMfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSBzYXR1cmF0aW9uXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHNhdHVyYXRpb24gMCBpcyBubyBjaGFuZ2UsIC0xLjAgaGFsdmVzIHRoZSBzYXR1cmF0aW9uLCAxLjAgZG91YmxlcywgZXRjLi5cbiAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnbHVtaW5hbmNlJywgMCwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiAgICAvKipcbiAgICAqIGdldC9zZXQgaHNsIGx1bWluYW5jZS4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5IU0x9IGZpbHRlci5cbiAgICAqIEBuYW1lIHZhbHVlXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIDAgaXMgbm8gY2hhbmdlLCAtMS4wIGhhbHZlcyB0aGUgdmFsdWUsIDEuMCBkb3VibGVzLCBldGMuLlxuICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBIU0wgRmlsdGVyLiBBZGp1c3RzIHRoZSBodWUsIHNhdHVyYXRpb24gYW5kIGx1bWluYW5jZSAob3IgbGlnaHRuZXNzKVxuICAgICogQGZ1bmN0aW9uXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXG4gICAgKiBAYXV0aG9yIGlwcG82MTVcbiAgICAqIEBleGFtcGxlXG4gICAgKiBpbWFnZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuSFNMXSk7XG4gICAgKiBpbWFnZS5sdW1pbmFuY2UoMjAwKTtcbiAgICAqL1xuXG4gICAgS2luZXRpYy5GaWx0ZXJzLkhTTCA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIG5QaXhlbHMgPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIHYgPSAxLFxuICAgICAgICAgICAgcyA9IE1hdGgucG93KDIsdGhpcy5zYXR1cmF0aW9uKCkpLFxuICAgICAgICAgICAgaCA9IE1hdGguYWJzKCh0aGlzLmh1ZSgpKSArIDM2MCkgJSAzNjAsXG4gICAgICAgICAgICBsID0gdGhpcy5sdW1pbmFuY2UoKSoxMjcsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIEJhc2lzIGZvciB0aGUgdGVjaG5pcXVlIHVzZWQ6XG4gICAgICAgIC8vIGh0dHA6Ly9iZWVzYnV6ei5iaXovY29kZS9oc3ZfY29sb3JfdHJhbnNmb3Jtcy5waHBcbiAgICAgICAgLy8gViBpcyB0aGUgdmFsdWUgbXVsdGlwbGllciAoMSBmb3Igbm9uZSwgMiBmb3IgZG91YmxlLCAwLjUgZm9yIGhhbGYpXG4gICAgICAgIC8vIFMgaXMgdGhlIHNhdHVyYXRpb24gbXVsdGlwbGllciAoMSBmb3Igbm9uZSwgMiBmb3IgZG91YmxlLCAwLjUgZm9yIGhhbGYpXG4gICAgICAgIC8vIEggaXMgdGhlIGh1ZSBzaGlmdCBpbiBkZWdyZWVzICgwIHRvIDM2MClcbiAgICAgICAgLy8gdnN1ID0gVipTKmNvcyhIKlBJLzE4MCk7XG4gICAgICAgIC8vIHZzdyA9IFYqUypzaW4oSCpQSS8xODApO1xuICAgICAgICAvL1sgLjI5OVYrLjcwMXZzdSsuMTY4dnN3ICAgIC41ODdWLS41ODd2c3UrLjMzMHZzdyAgICAuMTE0Vi0uMTE0dnN1LS40OTd2c3cgXSBbUl1cbiAgICAgICAgLy9bIC4yOTlWLS4yOTl2c3UtLjMyOHZzdyAgICAuNTg3VisuNDEzdnN1Ky4wMzV2c3cgICAgLjExNFYtLjExNHZzdSsuMjkydnN3IF0qW0ddXG4gICAgICAgIC8vWyAuMjk5Vi0uMzAwdnN1KzEuMjV2c3cgICAgLjU4N1YtLjU4OHZzdS0xLjA1dnN3ICAgIC4xMTRWKy44ODZ2c3UtLjIwM3ZzdyBdIFtCXVxuXG4gICAgICAgIC8vIFByZWNvbXB1dGUgdGhlIHZhbHVlcyBpbiB0aGUgbWF0cml4OlxuICAgICAgICB2YXIgdnN1ID0gdipzKk1hdGguY29zKGgqTWF0aC5QSS8xODApLFxuICAgICAgICAgICAgdnN3ID0gdipzKk1hdGguc2luKGgqTWF0aC5QSS8xODApO1xuICAgICAgICAvLyAocmVzdWx0IHNwb3QpKHNvdXJjZSBzcG90KVxuICAgICAgICB2YXIgcnIgPSAwLjI5OSp2KzAuNzAxKnZzdSswLjE2Nyp2c3csXG4gICAgICAgICAgICByZyA9IDAuNTg3KnYtMC41ODcqdnN1KzAuMzMwKnZzdyxcbiAgICAgICAgICAgIHJiID0gMC4xMTQqdi0wLjExNCp2c3UtMC40OTcqdnN3O1xuICAgICAgICB2YXIgZ3IgPSAwLjI5OSp2LTAuMjk5KnZzdS0wLjMyOCp2c3csXG4gICAgICAgICAgICBnZyA9IDAuNTg3KnYrMC40MTMqdnN1KzAuMDM1KnZzdyxcbiAgICAgICAgICAgIGdiID0gMC4xMTQqdi0wLjExNCp2c3UrMC4yOTMqdnN3O1xuICAgICAgICB2YXIgYnIgPSAwLjI5OSp2LTAuMzAwKnZzdSsxLjI1MCp2c3csXG4gICAgICAgICAgICBiZyA9IDAuNTg3KnYtMC41ODYqdnN1LTEuMDUwKnZzdyxcbiAgICAgICAgICAgIGJiID0gMC4xMTQqdiswLjg4Nip2c3UtMC4yMDAqdnN3O1xuXG4gICAgICAgIHZhciByLGcsYixhO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuUGl4ZWxzOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHIgPSBkYXRhW2krMF07XG4gICAgICAgICAgICBnID0gZGF0YVtpKzFdO1xuICAgICAgICAgICAgYiA9IGRhdGFbaSsyXTtcbiAgICAgICAgICAgIGEgPSBkYXRhW2krM107XG5cbiAgICAgICAgICAgIGRhdGFbaSswXSA9IHJyKnIgKyByZypnICsgcmIqYiArIGw7XG4gICAgICAgICAgICBkYXRhW2krMV0gPSBncipyICsgZ2cqZyArIGdiKmIgKyBsO1xuICAgICAgICAgICAgZGF0YVtpKzJdID0gYnIqciArIGJnKmcgKyBiYipiICsgbDtcbiAgICAgICAgICAgIGRhdGFbaSszXSA9IGE7IC8vIGFscGhhXG4gICAgICAgIH1cbiAgICB9O1xufSkoKTtcbjsoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEVtYm9zcyBGaWx0ZXIuXG4gICAgICogUGl4YXN0aWMgTGliIC0gRW1ib3NzIGZpbHRlciAtIHYwLjEuMFxuICAgICAqIENvcHlyaWdodCAoYykgMjAwOCBKYWNvYiBTZWlkZWxpbiwganNlaWRlbGluQG5paGlsb2dpYy5kaywgaHR0cDovL2Jsb2cubmloaWxvZ2ljLmRrL1xuICAgICAqIExpY2Vuc2U6IFtodHRwOi8vd3d3LnBpeGFzdGljLmNvbS9saWIvbGljZW5zZS50eHRdXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGFcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5vZGUuY2FjaGUoKTtcbiAgICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5FbWJvc3NdKTtcbiAgICAgKiBub2RlLmVtYm9zc1N0cmVuZ3RoKDAuOCk7XG4gICAgICogbm9kZS5lbWJvc3NXaGl0ZUxldmVsKDAuMyk7XG4gICAgICogbm9kZS5lbWJvc3NEaXJlY3Rpb24oJ3JpZ2h0Jyk7XG4gICAgICogbm9kZS5lbWJvc3NCbGVuZCh0cnVlKTtcbiAgICAgKi9cbiAgICBLaW5ldGljLkZpbHRlcnMuRW1ib3NzID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuXG4gICAgICAgIC8vIHBpeGFzdGljIHN0cmVuZ3RoIGlzIGJldHdlZW4gMCBhbmQgMTAuICBJIHdhbnQgaXQgYmV0d2VlbiAwIGFuZCAxXG4gICAgICAgIC8vIHBpeGFzdGljIGdyZXlMZXZlbCBpcyBiZXR3ZWVuIDAgYW5kIDI1NS4gIEkgd2FudCBpdCBiZXR3ZWVuIDAgYW5kIDEuICBBbHNvLFxuICAgICAgICAvLyBhIG1heCB2YWx1ZSBvZiBncmV5TGV2ZWwgeWllbGRzIGEgd2hpdGUgZW1ib3NzLCBhbmQgdGhlIG1pbiB2YWx1ZSB5aWVsZHMgYSBibGFja1xuICAgICAgICAvLyBlbWJvc3MuICBUaGVyZWZvcmUsIEkgY2hhbmdlZCBncmV5TGV2ZWwgdG8gd2hpdGVMZXZlbFxuICAgICAgICB2YXIgc3RyZW5ndGggPSB0aGlzLmVtYm9zc1N0cmVuZ3RoKCkgKiAxMCxcbiAgICAgICAgICAgIGdyZXlMZXZlbCA9IHRoaXMuZW1ib3NzV2hpdGVMZXZlbCgpICogMjU1LFxuICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5lbWJvc3NEaXJlY3Rpb24oKSxcbiAgICAgICAgICAgIGJsZW5kID0gdGhpcy5lbWJvc3NCbGVuZCgpLFxuICAgICAgICAgICAgZGlyWSA9IDAsXG4gICAgICAgICAgICBkaXJYID0gMCxcbiAgICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIHcgPSBpbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgICBoID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICAgIHc0ID0gdyo0LFxuICAgICAgICAgICAgeSA9IGg7XG5cbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcbiAgICAgICAgICAgICAgICBkaXJZID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyWCA9IC0xO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICBkaXJZID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyWCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3AtcmlnaHQnOlxuICAgICAgICAgICAgICAgIGRpclkgPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJYID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICBkaXJZID0gMDtcbiAgICAgICAgICAgICAgICBkaXJYID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgICAgICAgICAgZGlyWSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyWCA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIGRpclkgPSAxO1xuICAgICAgICAgICAgICAgIGRpclggPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tLWxlZnQnOlxuICAgICAgICAgICAgICAgIGRpclkgPSAxO1xuICAgICAgICAgICAgICAgIGRpclggPSAtMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIGRpclkgPSAwO1xuICAgICAgICAgICAgICAgIGRpclggPSAtMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXRZID0gKHktMSkqdzQ7XG5cbiAgICAgICAgICAgIHZhciBvdGhlclkgPSBkaXJZO1xuICAgICAgICAgICAgaWYgKHkgKyBvdGhlclkgPCAxKXtcbiAgICAgICAgICAgICAgICBvdGhlclkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgKyBvdGhlclkgPiBoKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJZID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9mZnNldFlPdGhlciA9ICh5LTErb3RoZXJZKSp3KjQ7XG5cbiAgICAgICAgICAgIHZhciB4ID0gdztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0WSArICh4LTEpKjQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJYID0gZGlyWDtcbiAgICAgICAgICAgICAgICBpZiAoeCArIG90aGVyWCA8IDEpe1xuICAgICAgICAgICAgICAgICAgICBvdGhlclggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeCArIG90aGVyWCA+IHcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJYID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0T3RoZXIgPSBvZmZzZXRZT3RoZXIgKyAoeC0xK290aGVyWCkqNDtcblxuICAgICAgICAgICAgICAgIHZhciBkUiA9IGRhdGFbb2Zmc2V0XSAtIGRhdGFbb2Zmc2V0T3RoZXJdO1xuICAgICAgICAgICAgICAgIHZhciBkRyA9IGRhdGFbb2Zmc2V0KzFdIC0gZGF0YVtvZmZzZXRPdGhlcisxXTtcbiAgICAgICAgICAgICAgICB2YXIgZEIgPSBkYXRhW29mZnNldCsyXSAtIGRhdGFbb2Zmc2V0T3RoZXIrMl07XG5cbiAgICAgICAgICAgICAgICB2YXIgZGlmID0gZFI7XG4gICAgICAgICAgICAgICAgdmFyIGFic0RpZiA9IGRpZiA+IDAgPyBkaWYgOiAtZGlmO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFic0cgPSBkRyA+IDAgPyBkRyA6IC1kRztcbiAgICAgICAgICAgICAgICB2YXIgYWJzQiA9IGRCID4gMCA/IGRCIDogLWRCO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFic0cgPiBhYnNEaWYpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmID0gZEc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhYnNCID4gYWJzRGlmKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZiA9IGRCO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRpZiAqPSBzdHJlbmd0aDtcblxuICAgICAgICAgICAgICAgIGlmIChibGVuZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGRhdGFbb2Zmc2V0XSArIGRpZjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSBkYXRhW29mZnNldCsxXSArIGRpZjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBkYXRhW29mZnNldCsyXSArIGRpZjtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldF0gPSAociA+IDI1NSkgPyAyNTUgOiAociA8IDAgPyAwIDogcik7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gKGcgPiAyNTUpID8gMjU1IDogKGcgPCAwID8gMCA6IGcpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsyXSA9IChiID4gMjU1KSA/IDI1NSA6IChiIDwgMCA/IDAgOiBiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JleSA9IGdyZXlMZXZlbCAtIGRpZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyZXkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmV5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChncmV5ID4gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmV5ID0gMjU1O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gZGF0YVtvZmZzZXQrMV0gPSBkYXRhW29mZnNldCsyXSA9IGdyZXk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IHdoaWxlICgtLXgpO1xuICAgICAgICB9IHdoaWxlICgtLXkpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2VtYm9zc1N0cmVuZ3RoJywgMC41LCBudWxsLCBLaW5ldGljLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuICAgIC8qKlxuICAgICogZ2V0L3NldCBlbWJvc3Mgc3RyZW5ndGguIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuRW1ib3NzfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSBlbWJvc3NTdHJlbmd0aFxuICAgICogQG1ldGhvZFxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCBiZXR3ZWVuIDAgYW5kIDEuICBEZWZhdWx0IGlzIDAuNVxuICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdlbWJvc3NXaGl0ZUxldmVsJywgMC41LCBudWxsLCBLaW5ldGljLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xuICAgIC8qKlxuICAgICogZ2V0L3NldCBlbWJvc3Mgd2hpdGUgbGV2ZWwuIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuRW1ib3NzfSBmaWx0ZXIuXG4gICAgKiBAbmFtZSBlbWJvc3NXaGl0ZUxldmVsXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGVtYm9zc1doaXRlTGV2ZWwgYmV0d2VlbiAwIGFuZCAxLiAgRGVmYXVsdCBpcyAwLjVcbiAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnZW1ib3NzRGlyZWN0aW9uJywgJ3RvcC1sZWZ0JywgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcbiAgICAvKipcbiAgICAqIGdldC9zZXQgZW1ib3NzIGRpcmVjdGlvbi4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5FbWJvc3N9IGZpbHRlci5cbiAgICAqIEBuYW1lIGVtYm9zc0RpcmVjdGlvblxuICAgICogQG1ldGhvZFxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWJvc3NEaXJlY3Rpb24gY2FuIGJlIHRvcC1sZWZ0LCB0b3AsIHRvcC1yaWdodCwgcmlnaHQsIGJvdHRvbS1yaWdodCwgYm90dG9tLCBib3R0b20tbGVmdCBvciBsZWZ0XG4gICAgKiAgIFRoZSBkZWZhdWx0IGlzIHRvcC1sZWZ0XG4gICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTm9kZSwgJ2VtYm9zc0JsZW5kJywgZmFsc2UsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGVtYm9zcyBibGVuZC4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5FbWJvc3N9IGZpbHRlci5cbiAgICAqIEBuYW1lIGVtYm9zc0JsZW5kXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtCb29sZWFufSBlbWJvc3NCbGVuZFxuICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgKi9cbn0pKCk7XG5cblxuOyhmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVtYXAoZnJvbVZhbHVlLCBmcm9tTWluLCBmcm9tTWF4LCB0b01pbiwgdG9NYXgpIHtcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmFuZ2Ugb2YgdGhlIGRhdGFcbiAgICAgICAgdmFyIGZyb21SYW5nZSA9IGZyb21NYXggLSBmcm9tTWluLFxuICAgICAgICAgIHRvUmFuZ2UgPSB0b01heCAtIHRvTWluLFxuICAgICAgICAgIHRvVmFsdWU7XG5cbiAgICAgICAgLy8gSWYgZWl0aGVyIHJhbmdlIGlzIDAsIHRoZW4gdGhlIHZhbHVlIGNhbiBvbmx5IGJlIG1hcHBlZCB0byAxIHZhbHVlXG4gICAgICAgIGlmIChmcm9tUmFuZ2UgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0b01pbiArIHRvUmFuZ2UgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b1JhbmdlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9NaW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyAoMSkgdW50cmFuc2xhdGUsICgyKSB1bnNjYWxlLCAoMykgcmVzY2FsZSwgKDQpIHJldHJhbnNsYXRlXG4gICAgICAgIHRvVmFsdWUgPSAoZnJvbVZhbHVlIC0gZnJvbU1pbikgLyBmcm9tUmFuZ2U7XG4gICAgICAgIHRvVmFsdWUgPSAodG9SYW5nZSAqIHRvVmFsdWUpICsgdG9NaW47XG5cbiAgICAgICAgcmV0dXJuIHRvVmFsdWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqIEVuaGFuY2UgRmlsdGVyLiBBZGp1c3RzIHRoZSBjb2xvcnMgc28gdGhhdCB0aGV5IHNwYW4gdGhlIHdpZGVzdFxuICAgICogIHBvc3NpYmxlIHJhbmdlIChpZSAwLTI1NSkuIFBlcmZvcm1zIHcqaCBwaXhlbCByZWFkcyBhbmQgdypoIHBpeGVsXG4gICAgKiAgd3JpdGVzLlxuICAgICogQGZ1bmN0aW9uXG4gICAgKiBAbmFtZSBFbmhhbmNlXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXG4gICAgKiBAYXV0aG9yIGlwcG82MTVcbiAgICAqIEBleGFtcGxlXG4gICAgKiBub2RlLmNhY2hlKCk7XG4gICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5FbmhhbmNlXSk7XG4gICAgKiBub2RlLmVuaGFuY2UoMC40KTtcbiAgICAqL1xuICAgIEtpbmV0aWMuRmlsdGVycy5FbmhhbmNlID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgICAgblN1YlBpeGVscyA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgICAgck1pbiA9IGRhdGFbMF0sIHJNYXggPSByTWluLCByLFxuICAgICAgICAgICAgZ01pbiA9IGRhdGFbMV0sIGdNYXggPSBnTWluLCBnLFxuICAgICAgICAgICAgYk1pbiA9IGRhdGFbMl0sIGJNYXggPSBiTWluLCBiLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGVuaGFuY2luZyBhbnl0aGluZyAtIGRvbid0IGRvIGFueSBjb21wdXRhdGlvblxuICAgICAgICB2YXIgZW5oYW5jZUFtb3VudCA9IHRoaXMuZW5oYW5jZSgpO1xuICAgICAgICBpZiggZW5oYW5jZUFtb3VudCA9PT0gMCApeyByZXR1cm47IH1cblxuICAgICAgICAvLyAxc3QgUGFzcyAtIGZpbmQgdGhlIG1pbiBhbmQgbWF4IGZvciBlYWNoIGNoYW5uZWw6XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuU3ViUGl4ZWxzOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHIgPSBkYXRhW2kgKyAwXTtcbiAgICAgICAgICAgIGlmIChyIDwgck1pbikgeyByTWluID0gcjsgfVxuICAgICAgICAgICAgZWxzZSBpZiAociA+IHJNYXgpIHsgck1heCA9IHI7IH1cbiAgICAgICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChnIDwgZ01pbikgeyBnTWluID0gZzsgfSBlbHNlXG4gICAgICAgICAgICBpZiAoZyA+IGdNYXgpIHsgZ01heCA9IGc7IH1cbiAgICAgICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcbiAgICAgICAgICAgIGlmIChiIDwgYk1pbikgeyBiTWluID0gYjsgfSBlbHNlXG4gICAgICAgICAgICBpZiAoYiA+IGJNYXgpIHsgYk1heCA9IGI7IH1cbiAgICAgICAgICAgIC8vYSA9IGRhdGFbaSArIDNdO1xuICAgICAgICAgICAgLy9pZiAoYSA8IGFNaW4pIHsgYU1pbiA9IGE7IH0gZWxzZVxuICAgICAgICAgICAgLy9pZiAoYSA+IGFNYXgpIHsgYU1heCA9IGE7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9ubHkgMSBsZXZlbCAtIGRvbid0IHJlbWFwXG4gICAgICAgIGlmKCByTWF4ID09PSByTWluICl7IHJNYXggPSAyNTU7IHJNaW4gPSAwOyB9XG4gICAgICAgIGlmKCBnTWF4ID09PSBnTWluICl7IGdNYXggPSAyNTU7IGdNaW4gPSAwOyB9XG4gICAgICAgIGlmKCBiTWF4ID09PSBiTWluICl7IGJNYXggPSAyNTU7IGJNaW4gPSAwOyB9XG5cbiAgICAgICAgdmFyIHJNaWQsIHJHb2FsTWF4LHJHb2FsTWluLFxuICAgICAgICAgICAgZ01pZCwgZ0dvYWxNYXgsZ0dvYWxNaW4sXG4gICAgICAgICAgICBiTWlkLCBiR29hbE1heCxiR29hbE1pbjtcblxuICAgICAgICAvLyBJZiB0aGUgZW5oYW5jZW1lbnQgaXMgcG9zaXRpdmUgLSBzdHJldGNoIHRoZSBoaXN0b2dyYW0gXG4gICAgICAgIGlmICggZW5oYW5jZUFtb3VudCA+IDAgKXtcbiAgICAgICAgICAgIHJHb2FsTWF4ID0gck1heCArIGVuaGFuY2VBbW91bnQqKDI1NS1yTWF4KTtcbiAgICAgICAgICAgIHJHb2FsTWluID0gck1pbiAtIGVuaGFuY2VBbW91bnQqKHJNaW4tMCk7XG4gICAgICAgICAgICBnR29hbE1heCA9IGdNYXggKyBlbmhhbmNlQW1vdW50KigyNTUtZ01heCk7XG4gICAgICAgICAgICBnR29hbE1pbiA9IGdNaW4gLSBlbmhhbmNlQW1vdW50KihnTWluLTApO1xuICAgICAgICAgICAgYkdvYWxNYXggPSBiTWF4ICsgZW5oYW5jZUFtb3VudCooMjU1LWJNYXgpO1xuICAgICAgICAgICAgYkdvYWxNaW4gPSBiTWluIC0gZW5oYW5jZUFtb3VudCooYk1pbi0wKTtcbiAgICAgICAgLy8gSWYgdGhlIGVuaGFuY2VtZW50IGlzIG5lZ2F0aXZlIC0gY29tcHJlc3MgdGhlIGhpc3RvZ3JhbVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgck1pZCA9IChyTWF4ICsgck1pbikqMC41O1xuICAgICAgICAgICAgckdvYWxNYXggPSByTWF4ICsgZW5oYW5jZUFtb3VudCoock1heC1yTWlkKTtcbiAgICAgICAgICAgIHJHb2FsTWluID0gck1pbiArIGVuaGFuY2VBbW91bnQqKHJNaW4tck1pZCk7XG4gICAgICAgICAgICBnTWlkID0gKGdNYXggKyBnTWluKSowLjU7XG4gICAgICAgICAgICBnR29hbE1heCA9IGdNYXggKyBlbmhhbmNlQW1vdW50KihnTWF4LWdNaWQpO1xuICAgICAgICAgICAgZ0dvYWxNaW4gPSBnTWluICsgZW5oYW5jZUFtb3VudCooZ01pbi1nTWlkKTtcbiAgICAgICAgICAgIGJNaWQgPSAoYk1heCArIGJNaW4pKjAuNTtcbiAgICAgICAgICAgIGJHb2FsTWF4ID0gYk1heCArIGVuaGFuY2VBbW91bnQqKGJNYXgtYk1pZCk7XG4gICAgICAgICAgICBiR29hbE1pbiA9IGJNaW4gKyBlbmhhbmNlQW1vdW50KihiTWluLWJNaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFzcyAyIC0gcmVtYXAgZXZlcnl0aGluZywgZXhjZXB0IHRoZSBhbHBoYVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgblN1YlBpeGVsczsgaSArPSA0KSB7XG4gICAgICAgICAgICBkYXRhW2kgKyAwXSA9IHJlbWFwKGRhdGFbaSArIDBdLCByTWluLCByTWF4LCByR29hbE1pbiwgckdvYWxNYXgpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSByZW1hcChkYXRhW2kgKyAxXSwgZ01pbiwgZ01heCwgZ0dvYWxNaW4sIGdHb2FsTWF4KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gcmVtYXAoZGF0YVtpICsgMl0sIGJNaW4sIGJNYXgsIGJHb2FsTWluLCBiR29hbE1heCk7XG4gICAgICAgICAgICAvL2RhdGFbaSArIDNdID0gcmVtYXAoZGF0YVtpICsgM10sIGFNaW4sIGFNYXgsIGFHb2FsTWluLCBhR29hbE1heCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdlbmhhbmNlJywgMCwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcblxuICAgIC8qKlxuICAgICogZ2V0L3NldCBlbmhhbmNlLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLkVuaGFuY2V9IGZpbHRlci5cbiAgICAqIEBuYW1lIGVuaGFuY2VcbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge0Zsb2F0fSBhbW91bnRcbiAgICAqIEByZXR1cm5zIHtGbG9hdH1cbiAgICAqL1xufSkoKTtcbjsoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgICogUG9zdGVyaXplIEZpbHRlci4gQWRqdXN0cyB0aGUgY2hhbm5lbHMgc28gdGhhdCB0aGVyZSBhcmUgbm8gbW9yZVxuICAgICAqICB0aGFuIG4gZGlmZmVyZW50IHZhbHVlcyBmb3IgdGhhdCBjaGFubmVsLiBUaGlzIGlzIGFsc28gYXBwbGllZFxuICAgICAqICB0byB0aGUgYWxwaGEgY2hhbm5lbC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBQb3N0ZXJpemVcbiAgICAgKiBAYXV0aG9yIGlwcG82MTVcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbm9kZS5jYWNoZSgpO1xuICAgICAqIG5vZGUuZmlsdGVycyhbS2luZXRpYy5GaWx0ZXJzLlBvc3Rlcml6ZV0pO1xuICAgICAqIG5vZGUubGV2ZWxzKDAuOCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZpbHRlcnMuUG9zdGVyaXplID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgICAgICAvLyBsZXZlbCBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMjU1XG4gICAgICAgIHZhciBsZXZlbHMgPSBNYXRoLnJvdW5kKHRoaXMubGV2ZWxzKCkgKiAyNTQpICsgMSxcbiAgICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgICAgc2NhbGUgPSAoMjU1IC8gbGV2ZWxzKSxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5mbG9vcihkYXRhW2ldIC8gc2NhbGUpICogc2NhbGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdsZXZlbHMnLCAwLjUsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAqIGdldC9zZXQgbGV2ZWxzLiAgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuICBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLlBvc3Rlcml6ZX0gZmlsdGVyLlxuICAgICogQG5hbWUgbGV2ZWxzXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIGJldHdlZW4gMCBhbmQgMVxuICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAqL1xufSkoKTs7KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5vaXNlIEZpbHRlci4gUmFuZG9tbHkgYWRkcyBvciBzdWJzdHJhY3RzIHRvIHRoZSBjb2xvciBjaGFubmVsc1xyXG4gICAgICogQGZ1bmN0aW9uXHJcbiAgICAgKiBAbmFtZSBOb2lzZVxyXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxyXG4gICAgICogQGF1dGhvciBpcHBvNjE1XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbm9kZS5jYWNoZSgpO1xyXG4gICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuTm9pc2VdKTtcclxuICAgICAqIG5vZGUubm9pc2UoMC44KTtcclxuICAgICAqL1xyXG4gICAgS2luZXRpYy5GaWx0ZXJzLk5vaXNlID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xyXG4gICAgICAgIHZhciBhbW91bnQgPSB0aGlzLm5vaXNlKCkgKiAyNTUsXHJcbiAgICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcclxuICAgICAgICAgICAgblBpeGVscyA9IGRhdGEubGVuZ3RoLFxyXG4gICAgICAgICAgICBoYWxmID0gYW1vdW50IC8gMixcclxuICAgICAgICAgICAgaTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5QaXhlbHM7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBkYXRhW2kgKyAwXSArPSBoYWxmIC0gMiAqIGhhbGYgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICBkYXRhW2kgKyAxXSArPSBoYWxmIC0gMiAqIGhhbGYgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICBkYXRhW2kgKyAyXSArPSBoYWxmIC0gMiAqIGhhbGYgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdub2lzZScsIDAuMiwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcclxuXHJcbiAgICAvKipcclxuICAgICogZ2V0L3NldCBub2lzZSBhbW91bnQuICBNdXN0IGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLk5vaXNlfSBmaWx0ZXIuXHJcbiAgICAqIEBuYW1lIG5vaXNlXHJcbiAgICAqIEBtZXRob2RcclxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcclxuICAgICogQHBhcmFtIHtOdW1iZXJ9IG5vaXNlXHJcbiAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAqL1xyXG59KSgpO1xyXG47KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBpeGVsYXRlIEZpbHRlci4gQXZlcmFnZXMgZ3JvdXBzIG9mIHBpeGVscyBhbmQgcmVkcmF3c1xyXG4gICAgICogIHRoZW0gYXMgbGFyZ2VyIHBpeGVsc1xyXG4gICAgICogQGZ1bmN0aW9uXHJcbiAgICAgKiBAbmFtZSBQaXhlbGF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRmlsdGVyc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxyXG4gICAgICogQGF1dGhvciBpcHBvNjE1XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbm9kZS5jYWNoZSgpO1xyXG4gICAgICogbm9kZS5maWx0ZXJzKFtLaW5ldGljLkZpbHRlcnMuUGl4ZWxhdGVdKTtcclxuICAgICAqIG5vZGUucGl4ZWxTaXplKDEwKTtcclxuICAgICAqL1xyXG5cclxuICAgIEtpbmV0aWMuRmlsdGVycy5QaXhlbGF0ZSA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcclxuXHJcbiAgICAgICAgdmFyIHBpeGVsU2l6ZSA9IE1hdGguY2VpbCh0aGlzLnBpeGVsU2l6ZSgpKSxcclxuICAgICAgICAgICAgd2lkdGggPSBpbWFnZURhdGEud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQsXHJcbiAgICAgICAgICAgIHgsIHksIGksXHJcbiAgICAgICAgICAgIC8vcGl4ZWxzUGVyQmluID0gcGl4ZWxTaXplICogcGl4ZWxTaXplLFxyXG4gICAgICAgICAgICByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSxcclxuICAgICAgICAgICAgbkJpbnNYID0gTWF0aC5jZWlsKHdpZHRoIC8gcGl4ZWxTaXplKSxcclxuICAgICAgICAgICAgbkJpbnNZID0gTWF0aC5jZWlsKGhlaWdodCAvIHBpeGVsU2l6ZSksXHJcbiAgICAgICAgICAgIHhCaW5TdGFydCwgeEJpbkVuZCwgeUJpblN0YXJ0LCB5QmluRW5kLFxyXG4gICAgICAgICAgICB4QmluLCB5QmluLCBwaXhlbHNJbkJpbjtcclxuICAgICAgICBpbWFnZURhdGEgPSBpbWFnZURhdGEuZGF0YTtcclxuXHJcbiAgICAgICAgZm9yICh4QmluID0gMDsgeEJpbiA8IG5CaW5zWDsgeEJpbiArPSAxKSB7XHJcbiAgICAgICAgICAgIGZvciAoeUJpbiA9IDA7IHlCaW4gPCBuQmluc1k7IHlCaW4gKz0gMSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY29sb3IgYWNjdW1sYXRvcnMgdG8gMFxyXG4gICAgICAgICAgICAgICAgcmVkID0gMDtcclxuICAgICAgICAgICAgICAgIGdyZWVuID0gMDtcclxuICAgICAgICAgICAgICAgIGJsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgYWxwaGEgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBwaXhlbHMgYXJlIGluY2x1ZGVkIGluIHRoaXMgYmluXHJcbiAgICAgICAgICAgICAgICB4QmluU3RhcnQgPSB4QmluICogcGl4ZWxTaXplO1xyXG4gICAgICAgICAgICAgICAgeEJpbkVuZCA9IHhCaW5TdGFydCArIHBpeGVsU2l6ZTtcclxuICAgICAgICAgICAgICAgIHlCaW5TdGFydCA9IHlCaW4gKiBwaXhlbFNpemU7XHJcbiAgICAgICAgICAgICAgICB5QmluRW5kID0geUJpblN0YXJ0ICsgcGl4ZWxTaXplO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCBhbGwgb2YgdGhlIHBpeGVscyB0byB0aGlzIGJpbiFcclxuICAgICAgICAgICAgICAgIHBpeGVsc0luQmluID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAoeCA9IHhCaW5TdGFydDsgeCA8IHhCaW5FbmQ7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCB4ID49IHdpZHRoICl7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh5ID0geUJpblN0YXJ0OyB5IDwgeUJpbkVuZDsgeSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB5ID49IGhlaWdodCApeyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gKHdpZHRoICogeSArIHgpICogNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkICs9IGltYWdlRGF0YVtpICsgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyZWVuICs9IGltYWdlRGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsdWUgKz0gaW1hZ2VEYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEgKz0gaW1hZ2VEYXRhW2kgKyAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzSW5CaW4gKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBjaGFubmVscyBhcmUgYmV0d2VlbiAwLTI1NVxyXG4gICAgICAgICAgICAgICAgcmVkID0gcmVkIC8gcGl4ZWxzSW5CaW47XHJcbiAgICAgICAgICAgICAgICBncmVlbiA9IGdyZWVuIC8gcGl4ZWxzSW5CaW47XHJcbiAgICAgICAgICAgICAgICBibHVlID0gYmx1ZSAvIHBpeGVsc0luQmluO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERyYXcgdGhpcyBiaW5cclxuICAgICAgICAgICAgICAgIGZvciAoeCA9IHhCaW5TdGFydDsgeCA8IHhCaW5FbmQ7IHggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCB4ID49IHdpZHRoICl7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh5ID0geUJpblN0YXJ0OyB5IDwgeUJpbkVuZDsgeSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB5ID49IGhlaWdodCApeyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gKHdpZHRoICogeSArIHgpICogNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2kgKyAwXSA9IHJlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2kgKyAxXSA9IGdyZWVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGFbaSArIDJdID0gYmx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW2kgKyAzXSA9IGFscGhhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAncGl4ZWxTaXplJywgOCwgbnVsbCwgS2luZXRpYy5GYWN0b3J5LmFmdGVyU2V0RmlsdGVyKTtcclxuXHJcbiAgICAvKipcclxuICAgICogZ2V0L3NldCBwaXhlbCBzaXplLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLlBpeGVsYXRlfSBmaWx0ZXIuXHJcbiAgICAqIEBuYW1lIHBpeGVsU2l6ZVxyXG4gICAgKiBAbWV0aG9kXHJcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXHJcbiAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcGl4ZWxTaXplXHJcbiAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxyXG4gICAgKi9cclxufSkoKTs7KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRocmVzaG9sZCBGaWx0ZXIuIFB1c2hlcyBhbnkgdmFsdWUgYWJvdmUgdGhlIG1pZCBwb2ludCB0byBcclxuICAgICAqICB0aGUgbWF4IGFuZCBhbnkgdmFsdWUgYmVsb3cgdGhlIG1pZCBwb2ludCB0byB0aGUgbWluLlxyXG4gICAgICogIFRoaXMgYWZmZWN0cyB0aGUgYWxwaGEgY2hhbm5lbC5cclxuICAgICAqIEBmdW5jdGlvblxyXG4gICAgICogQG5hbWUgVGhyZXNob2xkXHJcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXHJcbiAgICAgKiBAYXV0aG9yIGlwcG82MTVcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBub2RlLmNhY2hlKCk7XHJcbiAgICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5UaHJlc2hvbGRdKTtcclxuICAgICAqIG5vZGUudGhyZXNob2xkKDAuMSk7XHJcbiAgICAgKi9cclxuXHJcbiAgICBLaW5ldGljLkZpbHRlcnMuVGhyZXNob2xkID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xyXG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMudGhyZXNob2xkKCkgKiAyNTUsXHJcbiAgICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcclxuICAgICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsXHJcbiAgICAgICAgICAgIGk7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBkYXRhW2ldID0gZGF0YVtpXSA8IGxldmVsID8gMCA6IDI1NTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAndGhyZXNob2xkJywgMC41LCBudWxsLCBLaW5ldGljLkZhY3RvcnkuYWZ0ZXJTZXRGaWx0ZXIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBnZXQvc2V0IHRocmVzaG9sZC4gIE11c3QgYmUgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuIFVzZSB3aXRoIHtAbGluayBLaW5ldGljLkZpbHRlcnMuVGhyZXNob2xkfSBvciB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLk1hc2t9IGZpbHRlci5cclxuICAgICogQG5hbWUgdGhyZXNob2xkXHJcbiAgICAqIEBtZXRob2RcclxuICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcclxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHRocmVzaG9sZFxyXG4gICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgKi9cclxufSkoKTs7KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIFNlcGlhIEZpbHRlclxuICAgICAqIEJhc2VkIG9uOiBQaXhhc3RpYyBMaWIgLSBTZXBpYSBmaWx0ZXIgLSB2MC4xLjBcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMDggSmFjb2IgU2VpZGVsaW4sIGpzZWlkZWxpbkBuaWhpbG9naWMuZGssIGh0dHA6Ly9ibG9nLm5paGlsb2dpYy5kay9cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBTZXBpYVxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhXG4gICAgICogQGF1dGhvciBKYWNvYiBTZWlkZWxpbiA8anNlaWRlbGluQG5paGlsb2dpYy5kaz5cbiAgICAgKiBAbGljZW5zZSBNUEwgdjEuMSBbaHR0cDovL3d3dy5waXhhc3RpYy5jb20vbGliL2xpY2Vuc2UudHh0XVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbm9kZS5jYWNoZSgpO1xuICAgICAqIG5vZGUuZmlsdGVycyhbS2luZXRpYy5GaWx0ZXJzLlNlcGlhXSk7XG4gICAgICovXG4gICAgS2luZXRpYy5GaWx0ZXJzLlNlcGlhID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgICAgdyA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICAgIHkgPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgICAgdzQgPSB3KjQsXG4gICAgICAgICAgICBvZmZzZXRZLCB4LCBvZmZzZXQsIG9yLCBvZywgb2IsIHIsIGcsIGI7XG4gICAgICAgIFxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBvZmZzZXRZID0gKHktMSkqdzQ7XG4gICAgICAgICAgICB4ID0gdztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXRZICsgKHgtMSkqNDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBvciA9IGRhdGFbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICBvZyA9IGRhdGFbb2Zmc2V0KzFdO1xuICAgICAgICAgICAgICAgIG9iID0gZGF0YVtvZmZzZXQrMl07XG5cbiAgICAgICAgICAgICAgICByID0gb3IgKiAwLjM5MyArIG9nICogMC43NjkgKyBvYiAqIDAuMTg5O1xuICAgICAgICAgICAgICAgIGcgPSBvciAqIDAuMzQ5ICsgb2cgKiAwLjY4NiArIG9iICogMC4xNjg7XG4gICAgICAgICAgICAgICAgYiA9IG9yICogMC4yNzIgKyBvZyAqIDAuNTM0ICsgb2IgKiAwLjEzMTtcblxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHIgPiAyNTUgPyAyNTUgOiByO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gZyA+IDI1NSA/IDI1NSA6IGc7XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSBiID4gMjU1ID8gMjU1IDogYjtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCszXSA9IGRhdGFbb2Zmc2V0KzNdO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS14KTtcbiAgICAgICAgfSB3aGlsZSAoLS15KTtcbiAgICB9O1xufSkoKTtcbjsoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFNvbGFyaXplIEZpbHRlclxuICAgICAqIFBpeGFzdGljIExpYiAtIFNvbGFyaXplIGZpbHRlciAtIHYwLjEuMFxuICAgICAqIENvcHlyaWdodCAoYykgMjAwOCBKYWNvYiBTZWlkZWxpbiwganNlaWRlbGluQG5paGlsb2dpYy5kaywgaHR0cDovL2Jsb2cubmloaWxvZ2ljLmRrL1xuICAgICAqIExpY2Vuc2U6IFtodHRwOi8vd3d3LnBpeGFzdGljLmNvbS9saWIvbGljZW5zZS50eHRdXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgU29sYXJpemVcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YVxuICAgICAqIEBleGFtcGxlXG4gICAgICogbm9kZS5jYWNoZSgpO1xuICAgICAqIG5vZGUuZmlsdGVycyhbS2luZXRpYy5GaWx0ZXJzLlNvbGFyaXplXSk7XG4gICAgICovXG4gICAgS2luZXRpYy5GaWx0ZXJzLlNvbGFyaXplID0gZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgICAgdyA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICAgIGggPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgICAgdzQgPSB3KjQsXG4gICAgICAgICAgICB5ID0gaDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0WSA9ICh5LTEpKnc0O1xuICAgICAgICAgICAgdmFyIHggPSB3O1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBvZmZzZXRZICsgKHgtMSkqNDtcbiAgICAgICAgICAgICAgICB2YXIgciA9IGRhdGFbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGRhdGFbb2Zmc2V0KzFdO1xuICAgICAgICAgICAgICAgIHZhciBiID0gZGF0YVtvZmZzZXQrMl07XG5cbiAgICAgICAgICAgICAgICBpZiAociA+IDEyNykge1xuICAgICAgICAgICAgICAgICAgICByID0gMjU1IC0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGcgPiAxMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgZyA9IDI1NSAtIGc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiID4gMTI3KSB7XG4gICAgICAgICAgICAgICAgICAgIGIgPSAyNTUgLSBiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHI7XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSBnO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gYjtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0teCk7XG4gICAgICAgIH0gd2hpbGUgKC0teSk7XG4gICAgfTtcbn0pKCk7XG5cblxuOy8qanNoaW50IG5ld2NhcDpmYWxzZSAqL1xuKGZ1bmN0aW9uICgpIHtcblxuICAvKlxuICAgKiBUb1BvbGFyIEZpbHRlci4gQ29udmVydHMgaW1hZ2UgZGF0YSB0byBwb2xhciBjb29yZGluYXRlcy4gUGVyZm9ybXMgXG4gICAqICB3KmgqNCBwaXhlbCByZWFkcyBhbmQgdypoIHBpeGVsIHdyaXRlcy4gVGhlIHIgYXhpcyBpcyBwbGFjZWQgYWxvbmdcbiAgICogIHdoYXQgd291bGQgYmUgdGhlIHkgYXhpcyBhbmQgdGhlIHRoZXRhIGF4aXMgYWxvbmcgdGhlIHggYXhpcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBhdXRob3IgaXBwbzYxNVxuICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBzcmMsIHRoZSBzb3VyY2UgaW1hZ2UgZGF0YSAod2hhdCB3aWxsIGJlIHRyYW5zZm9ybWVkKVxuICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gZHN0LCB0aGUgZGVzdGluYXRpb24gaW1hZ2UgZGF0YSAod2hlcmUgaXQgd2lsbCBiZSBzYXZlZClcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdFxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdC5wb2xhckNlbnRlclhdIGhvcml6b250YWwgbG9jYXRpb24gZm9yIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZSxcbiAgICogIGRlZmF1bHQgaXMgaW4gdGhlIG1pZGRsZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdC5wb2xhckNlbnRlclldIHZlcnRpY2FsIGxvY2F0aW9uIGZvciB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsXG4gICAqICBkZWZhdWx0IGlzIGluIHRoZSBtaWRkbGVcbiAgICovXG5cbiAgICB2YXIgVG9Qb2xhciA9IGZ1bmN0aW9uKHNyYyxkc3Qsb3B0KXtcblxuICAgICAgICB2YXIgc3JjUGl4ZWxzID0gc3JjLmRhdGEsXG4gICAgICAgICAgICBkc3RQaXhlbHMgPSBkc3QuZGF0YSxcbiAgICAgICAgICAgIHhTaXplID0gc3JjLndpZHRoLFxuICAgICAgICAgICAgeVNpemUgPSBzcmMuaGVpZ2h0LFxuICAgICAgICAgICAgeE1pZCA9IG9wdC5wb2xhckNlbnRlclggfHwgeFNpemUvMixcbiAgICAgICAgICAgIHlNaWQgPSBvcHQucG9sYXJDZW50ZXJZIHx8IHlTaXplLzIsXG4gICAgICAgICAgICBpLCB4LCB5LCByPTAsZz0wLGI9MCxhPTA7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCByYWRpdXNcbiAgICAgICAgdmFyIHJhZCwgck1heCA9IE1hdGguc3FydCggeE1pZCp4TWlkICsgeU1pZCp5TWlkICk7XG4gICAgICAgIHggPSB4U2l6ZSAtIHhNaWQ7XG4gICAgICAgIHkgPSB5U2l6ZSAtIHlNaWQ7XG4gICAgICAgIHJhZCA9IE1hdGguc3FydCggeCp4ICsgeSp5ICk7XG4gICAgICAgIHJNYXggPSAocmFkID4gck1heCk/cmFkOnJNYXg7XG5cbiAgICAgICAgLy8gV2UnbGwgYmUgdWlzbmcgeSBhcyB0aGUgcmFkaXVzLCBhbmQgeCBhcyB0aGUgYW5nbGUgKHRoZXRhPXQpXG4gICAgICAgIHZhciByU2l6ZSA9IHlTaXplLFxuICAgICAgICAgICAgdFNpemUgPSB4U2l6ZSxcbiAgICAgICAgICAgIHJhZGl1cywgdGhldGE7XG5cbiAgICAgICAgLy8gV2Ugd2FudCB0byBjb3ZlciBhbGwgYW5nbGVzICgwLTM2MCkgYW5kIHdlIG5lZWQgdG8gY29udmVydCB0b1xuICAgICAgICAvLyByYWRpYW5zICgqUEkvMTgwKVxuICAgICAgICB2YXIgY29udmVyc2lvbiA9IDM2MC90U2l6ZSpNYXRoLlBJLzE4MCwgc2luLCBjb3M7XG5cbiAgICAgICAgLy8gdmFyIHgxLCB4MiwgeDFpLCB4MmksIHkxLCB5MiwgeTFpLCB5MmksIHNjYWxlO1xuXG4gICAgICAgIGZvciggdGhldGE9MDsgdGhldGE8dFNpemU7IHRoZXRhKz0xICl7XG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbih0aGV0YSpjb252ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvcyA9IE1hdGguY29zKHRoZXRhKmNvbnZlcnNpb24pO1xuICAgICAgICAgICAgZm9yKCByYWRpdXM9MDsgcmFkaXVzPHJTaXplOyByYWRpdXMrPTEgKXtcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5mbG9vcih4TWlkK3JNYXgqcmFkaXVzL3JTaXplKmNvcyk7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoeU1pZCtyTWF4KnJhZGl1cy9yU2l6ZSpzaW4pO1xuICAgICAgICAgICAgICAgIGkgPSAoeSp4U2l6ZSArIHgpKjQ7XG4gICAgICAgICAgICAgICAgciA9IHNyY1BpeGVsc1tpKzBdO1xuICAgICAgICAgICAgICAgIGcgPSBzcmNQaXhlbHNbaSsxXTtcbiAgICAgICAgICAgICAgICBiID0gc3JjUGl4ZWxzW2krMl07XG4gICAgICAgICAgICAgICAgYSA9IHNyY1BpeGVsc1tpKzNdO1xuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgaXRcbiAgICAgICAgICAgICAgICAvL2kgPSAodGhldGEgKiB4U2l6ZSArIHJhZGl1cykgKiA0O1xuICAgICAgICAgICAgICAgIGkgPSAodGhldGEgKyByYWRpdXMqeFNpemUpICogNDtcbiAgICAgICAgICAgICAgICBkc3RQaXhlbHNbaSswXSA9IHI7XG4gICAgICAgICAgICAgICAgZHN0UGl4ZWxzW2krMV0gPSBnO1xuICAgICAgICAgICAgICAgIGRzdFBpeGVsc1tpKzJdID0gYjtcbiAgICAgICAgICAgICAgICBkc3RQaXhlbHNbaSszXSA9IGE7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICAqIEZyb21Qb2xhciBGaWx0ZXIuIENvbnZlcnRzIGltYWdlIGRhdGEgZnJvbSBwb2xhciBjb29yZGluYXRlcyBiYWNrIHRvIHJlY3Rhbmd1bGFyLlxuICAgICAqICBQZXJmb3JtcyB3KmgqNCBwaXhlbCByZWFkcyBhbmQgdypoIHBpeGVsIHdyaXRlcy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYXV0aG9yIGlwcG82MTVcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GaWx0ZXJzXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IHNyYywgdGhlIHNvdXJjZSBpbWFnZSBkYXRhICh3aGF0IHdpbGwgYmUgdHJhbnNmb3JtZWQpXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IGRzdCwgdGhlIGRlc3RpbmF0aW9uIGltYWdlIGRhdGEgKHdoZXJlIGl0IHdpbGwgYmUgc2F2ZWQpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0LnBvbGFyQ2VudGVyWF0gaG9yaXpvbnRhbCBsb2NhdGlvbiBmb3IgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlLFxuICAgICAqICBkZWZhdWx0IGlzIGluIHRoZSBtaWRkbGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdC5wb2xhckNlbnRlclldIHZlcnRpY2FsIGxvY2F0aW9uIGZvciB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsXG4gICAgICogIGRlZmF1bHQgaXMgaW4gdGhlIG1pZGRsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0LnBvbGFyUm90YXRpb25dIGFtb3VudCB0byByb3RhdGUgdGhlIGltYWdlIGNvdW50ZXJjbG9ja3dpcyxcbiAgICAgKiAgMCBpcyBubyByb3RhdGlvbiwgMzYwIGRlZ3JlZXMgaXMgYSBmdWxsIHJvdGF0aW9uXG4gICAgICovXG5cbiAgICB2YXIgRnJvbVBvbGFyID0gZnVuY3Rpb24oc3JjLGRzdCxvcHQpe1xuXG4gICAgICAgIHZhciBzcmNQaXhlbHMgPSBzcmMuZGF0YSxcbiAgICAgICAgICAgIGRzdFBpeGVscyA9IGRzdC5kYXRhLFxuICAgICAgICAgICAgeFNpemUgPSBzcmMud2lkdGgsXG4gICAgICAgICAgICB5U2l6ZSA9IHNyYy5oZWlnaHQsXG4gICAgICAgICAgICB4TWlkID0gb3B0LnBvbGFyQ2VudGVyWCB8fCB4U2l6ZS8yLFxuICAgICAgICAgICAgeU1pZCA9IG9wdC5wb2xhckNlbnRlclkgfHwgeVNpemUvMixcbiAgICAgICAgICAgIGksIHgsIHksIGR4LCBkeSwgcj0wLGc9MCxiPTAsYT0wO1xuXG5cbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCByYWRpdXNcbiAgICAgICAgdmFyIHJhZCwgck1heCA9IE1hdGguc3FydCggeE1pZCp4TWlkICsgeU1pZCp5TWlkICk7XG4gICAgICAgIHggPSB4U2l6ZSAtIHhNaWQ7XG4gICAgICAgIHkgPSB5U2l6ZSAtIHlNaWQ7XG4gICAgICAgIHJhZCA9IE1hdGguc3FydCggeCp4ICsgeSp5ICk7XG4gICAgICAgIHJNYXggPSAocmFkID4gck1heCk/cmFkOnJNYXg7XG5cbiAgICAgICAgLy8gV2UnbGwgYmUgdWlzbmcgeCBhcyB0aGUgcmFkaXVzLCBhbmQgeSBhcyB0aGUgYW5nbGUgKHRoZXRhPXQpXG4gICAgICAgIHZhciByU2l6ZSA9IHlTaXplLFxuICAgICAgICB0U2l6ZSA9IHhTaXplLFxuICAgICAgICByYWRpdXMsIHRoZXRhLFxuICAgICAgICBwaGFzZVNoaWZ0ID0gb3B0LnBvbGFyUm90YXRpb24gfHwgMDtcblxuICAgICAgICAvLyBXZSBuZWVkIHRvIGNvbnZlcnQgdG8gZGVncmVlcyBhbmQgd2UgbmVlZCB0byBtYWtlIHN1cmVcbiAgICAgICAgLy8gaXQncyBiZXR3ZWVuICgwLTM2MClcbiAgICAgICAgLy8gdmFyIGNvbnZlcnNpb24gPSB0U2l6ZS8zNjAqMTgwL01hdGguUEk7XG4gICAgICAgIC8vdmFyIGNvbnZlcnNpb24gPSB0U2l6ZS8zNjAqMTgwL01hdGguUEk7XG5cbiAgICAgICAgdmFyIHgxLCB5MTtcblxuICAgICAgICBmb3IoIHg9MDsgeDx4U2l6ZTsgeCs9MSApe1xuICAgICAgICAgICAgZm9yKCB5PTA7IHk8eVNpemU7IHkrPTEgKXtcbiAgICAgICAgICAgICAgICBkeCA9IHggLSB4TWlkO1xuICAgICAgICAgICAgICAgIGR5ID0geSAtIHlNaWQ7XG4gICAgICAgICAgICAgICAgcmFkaXVzID0gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpKnJTaXplL3JNYXg7XG4gICAgICAgICAgICAgICAgdGhldGEgPSAoTWF0aC5hdGFuMihkeSxkeCkqMTgwL01hdGguUEkgKyAzNjAgKyBwaGFzZVNoaWZ0KSUzNjA7XG4gICAgICAgICAgICAgICAgdGhldGEgPSB0aGV0YSp0U2l6ZS8zNjA7XG4gICAgICAgICAgICAgICAgeDEgPSBNYXRoLmZsb29yKHRoZXRhKTtcbiAgICAgICAgICAgICAgICB5MSA9IE1hdGguZmxvb3IocmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpID0gKHkxKnhTaXplICsgeDEpKjQ7XG4gICAgICAgICAgICAgICAgciA9IHNyY1BpeGVsc1tpKzBdO1xuICAgICAgICAgICAgICAgIGcgPSBzcmNQaXhlbHNbaSsxXTtcbiAgICAgICAgICAgICAgICBiID0gc3JjUGl4ZWxzW2krMl07XG4gICAgICAgICAgICAgICAgYSA9IHNyY1BpeGVsc1tpKzNdO1xuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgaXRcbiAgICAgICAgICAgICAgICBpID0gKHkqeFNpemUgKyB4KSo0O1xuICAgICAgICAgICAgICAgIGRzdFBpeGVsc1tpKzBdID0gcjtcbiAgICAgICAgICAgICAgICBkc3RQaXhlbHNbaSsxXSA9IGc7XG4gICAgICAgICAgICAgICAgZHN0UGl4ZWxzW2krMl0gPSBiO1xuICAgICAgICAgICAgICAgIGRzdFBpeGVsc1tpKzNdID0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8vS2luZXRpYy5GaWx0ZXJzLlRvUG9sYXIgPSBLaW5ldGljLlV0aWwuX0ZpbHRlcldyYXBEb3VibGVCdWZmZXIoVG9Qb2xhcik7XG4gICAgLy9LaW5ldGljLkZpbHRlcnMuRnJvbVBvbGFyID0gS2luZXRpYy5VdGlsLl9GaWx0ZXJXcmFwRG91YmxlQnVmZmVyKEZyb21Qb2xhcik7XG5cbiAgICAvLyBjcmVhdGUgYSB0ZW1wb3JhcnkgY2FudmFzIGZvciB3b3JraW5nIC0gc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgY2FsbHNcbiAgICB2YXIgdGVtcENhbnZhcyA9IEtpbmV0aWMuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICAvKlxuICAgICAqIEthbGVpZG9zY29wZSBGaWx0ZXIuIFxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIEthbGVpZG9zY29wZVxuICAgICAqIEBhdXRob3IgaXBwbzYxNVxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkZpbHRlcnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5vZGUuY2FjaGUoKTtcbiAgICAgKiBub2RlLmZpbHRlcnMoW0tpbmV0aWMuRmlsdGVycy5LYWxlaWRvc2NvcGVdKTtcbiAgICAgKiBub2RlLmthbGVpZG9zY29wZVBvd2VyKDMpO1xuICAgICAqIG5vZGUua2FsZWlkb3Njb3BlQW5nbGUoNDUpO1xuICAgICAqL1xuICAgIEtpbmV0aWMuRmlsdGVycy5LYWxlaWRvc2NvcGUgPSBmdW5jdGlvbihpbWFnZURhdGEpe1xuICAgICAgICB2YXIgeFNpemUgPSBpbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgICB5U2l6ZSA9IGltYWdlRGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHgseSx4b2ZmLGksIHIsZyxiLGEsIHNyY1BvcywgZHN0UG9zO1xuICAgICAgICB2YXIgcG93ZXIgPSBNYXRoLnJvdW5kKCB0aGlzLmthbGVpZG9zY29wZVBvd2VyKCkgKTtcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5yb3VuZCggdGhpcy5rYWxlaWRvc2NvcGVBbmdsZSgpICk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBNYXRoLmZsb29yKHhTaXplKihhbmdsZSUzNjApLzM2MCk7XG5cbiAgICAgICAgaWYoIHBvd2VyIDwgMSApe3JldHVybjt9XG5cbiAgICAgICAgLy8gV29yayB3aXRoIG91ciBzaGFyZWQgYnVmZmVyIGNhbnZhc1xuICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0geFNpemU7XG4gICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0geVNpemU7XG4gICAgICAgIHZhciBzY3JhdGNoRGF0YSA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5nZXRJbWFnZURhdGEoMCwwLHhTaXplLHlTaXplKTtcblxuICAgICAgICAvLyBDb252ZXJ0IHRoaGUgb3JpZ2luYWwgdG8gcG9sYXIgY29vcmRpbmF0ZXNcbiAgICAgICAgVG9Qb2xhciggaW1hZ2VEYXRhLCBzY3JhdGNoRGF0YSwge1xuICAgICAgICAgICAgcG9sYXJDZW50ZXJYOnhTaXplLzIsXG4gICAgICAgICAgICBwb2xhckNlbnRlclk6eVNpemUvMlxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgaG93IGJpZyBlYWNoIHNlY3Rpb24gd2lsbCBiZSwgaWYgaXQncyB0b28gc21hbGwgXG4gICAgICAgIC8vIG1ha2UgaXQgYmlnZ2VyXG4gICAgICAgIHZhciBtaW5TZWN0aW9uU2l6ZSA9IHhTaXplIC8gTWF0aC5wb3coMixwb3dlcik7XG4gICAgICAgIHdoaWxlKCBtaW5TZWN0aW9uU2l6ZSA8PSA4KXtcbiAgICAgICAgICAgIG1pblNlY3Rpb25TaXplID0gbWluU2VjdGlvblNpemUqMjtcbiAgICAgICAgICAgIHBvd2VyIC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgbWluU2VjdGlvblNpemUgPSBNYXRoLmNlaWwobWluU2VjdGlvblNpemUpO1xuICAgICAgICB2YXIgc2VjdGlvblNpemUgPSBtaW5TZWN0aW9uU2l6ZTtcblxuICAgICAgICAvLyBDb3B5IHRoZSBvZmZzZXQgcmVnaW9uIHRvIDBcbiAgICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSBzaXplIG9mIGZpbHRlciBhbmQgbG9jYXRpb24gb2YgdGhlIG9mZnNldCB3ZSBtYXkgbmVlZFxuICAgICAgICAvLyB0byBjb3B5IHRoZSBzZWN0aW9uIGJhY2t3YXJkcyB0byBwcmV2ZW50IGl0IGZyb20gcmV3cml0aW5nIGl0c2VsZlxuICAgICAgICB2YXIgeFN0YXJ0ID0gMCxcbiAgICAgICAgICB4RW5kID0gc2VjdGlvblNpemUsXG4gICAgICAgICAgeERlbHRhID0gMTtcbiAgICAgICAgaWYoIG9mZnNldCttaW5TZWN0aW9uU2l6ZSA+IHhTaXplICl7XG4gICAgICAgICAgICB4U3RhcnQgPSBzZWN0aW9uU2l6ZTtcbiAgICAgICAgICAgIHhFbmQgPSAwO1xuICAgICAgICAgICAgeERlbHRhID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKCB5PTA7IHk8eVNpemU7IHkrPTEgKXtcbiAgICAgICAgICAgIGZvciggeD14U3RhcnQ7IHggIT09IHhFbmQ7IHgrPXhEZWx0YSApe1xuICAgICAgICAgICAgICAgIHhvZmYgPSBNYXRoLnJvdW5kKHgrb2Zmc2V0KSV4U2l6ZTtcbiAgICAgICAgICAgICAgICBzcmNQb3MgPSAoeFNpemUqeSt4b2ZmKSo0O1xuICAgICAgICAgICAgICAgIHIgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyswXTtcbiAgICAgICAgICAgICAgICBnID0gc2NyYXRjaERhdGEuZGF0YVtzcmNQb3MrMV07XG4gICAgICAgICAgICAgICAgYiA9IHNjcmF0Y2hEYXRhLmRhdGFbc3JjUG9zKzJdO1xuICAgICAgICAgICAgICAgIGEgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcyszXTtcbiAgICAgICAgICAgICAgICBkc3RQb3MgPSAoeFNpemUqeSt4KSo0O1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zKzBdID0gcjtcbiAgICAgICAgICAgICAgICBzY3JhdGNoRGF0YS5kYXRhW2RzdFBvcysxXSA9IGc7XG4gICAgICAgICAgICAgICAgc2NyYXRjaERhdGEuZGF0YVtkc3RQb3MrMl0gPSBiO1xuICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zKzNdID0gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBlcmZvcm0gdGhlIGFjdHVhbCBlZmZlY3RcbiAgICAgICAgZm9yKCB5PTA7IHk8eVNpemU7IHkrPTEgKXtcbiAgICAgICAgICAgIHNlY3Rpb25TaXplID0gTWF0aC5mbG9vciggbWluU2VjdGlvblNpemUgKTtcbiAgICAgICAgICAgIGZvciggaT0wOyBpPHBvd2VyOyBpKz0xICl7XG4gICAgICAgICAgICAgICAgZm9yKCB4PTA7IHg8c2VjdGlvblNpemUrMTsgeCs9MSApe1xuICAgICAgICAgICAgICAgICAgICBzcmNQb3MgPSAoeFNpemUqeSt4KSo0O1xuICAgICAgICAgICAgICAgICAgICByID0gc2NyYXRjaERhdGEuZGF0YVtzcmNQb3MrMF07XG4gICAgICAgICAgICAgICAgICAgIGcgPSBzY3JhdGNoRGF0YS5kYXRhW3NyY1BvcysxXTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IHNjcmF0Y2hEYXRhLmRhdGFbc3JjUG9zKzJdO1xuICAgICAgICAgICAgICAgICAgICBhID0gc2NyYXRjaERhdGEuZGF0YVtzcmNQb3MrM107XG4gICAgICAgICAgICAgICAgICAgIGRzdFBvcyA9ICh4U2l6ZSp5K3NlY3Rpb25TaXplKjIteC0xKSo0O1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoRGF0YS5kYXRhW2RzdFBvcyswXSA9IHI7XG4gICAgICAgICAgICAgICAgICAgIHNjcmF0Y2hEYXRhLmRhdGFbZHN0UG9zKzFdID0gZztcbiAgICAgICAgICAgICAgICAgICAgc2NyYXRjaERhdGEuZGF0YVtkc3RQb3MrMl0gPSBiO1xuICAgICAgICAgICAgICAgICAgICBzY3JhdGNoRGF0YS5kYXRhW2RzdFBvcyszXSA9IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlY3Rpb25TaXplICo9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IGJhY2sgZnJvbSBwb2xhciBjb29yZGluYXRlc1xuICAgICAgICBGcm9tUG9sYXIoc2NyYXRjaERhdGEsaW1hZ2VEYXRhLHtwb2xhclJvdGF0aW9uOjB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiBnZXQvc2V0IGthbGVpZG9zY29wZSBwb3dlci4gVXNlIHdpdGgge0BsaW5rIEtpbmV0aWMuRmlsdGVycy5LYWxlaWRvc2NvcGV9IGZpbHRlci5cbiAgICAqIEBuYW1lIGthbGVpZG9zY29wZVBvd2VyXG4gICAgKiBAbWV0aG9kXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSBwb3dlciBvZiBrYWxlaWRvc2NvcGVcbiAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICovXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdrYWxlaWRvc2NvcGVQb3dlcicsIDIsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAqIGdldC9zZXQga2FsZWlkb3Njb3BlIGFuZ2xlLiBVc2Ugd2l0aCB7QGxpbmsgS2luZXRpYy5GaWx0ZXJzLkthbGVpZG9zY29wZX0gZmlsdGVyLlxuICAgICogQG5hbWUga2FsZWlkb3Njb3BlQW5nbGVcbiAgICAqIEBtZXRob2RcbiAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgKiBAcGFyYW0ge0ludGVnZXJ9IGRlZ3JlZXNcbiAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICovXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdrYWxlaWRvc2NvcGVBbmdsZScsIDAsIG51bGwsIEtpbmV0aWMuRmFjdG9yeS5hZnRlclNldEZpbHRlcik7XG5cbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIHZhciBCQVRDSF9EUkFXX1NUT1BfVElNRV9ESUZGID0gNTAwO1xuXG4gICAgdmFyIG5vdyA9KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoS2luZXRpYy5yb290LnBlcmZvcm1hbmNlICYmIEtpbmV0aWMucm9vdC5wZXJmb3JtYW5jZS5ub3cpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gS2luZXRpYy5yb290LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoKTtcblxuICAgIHZhciBSQUYgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBLaW5ldGljLnJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICB8fCBLaW5ldGljLnJvb3Qud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICB8fCBLaW5ldGljLnJvb3QubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICB8fCBLaW5ldGljLnJvb3Qub1JlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgfHwgS2luZXRpYy5yb290Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICB8fCBGUkFGO1xuICAgIH0pKCk7XG5cbiAgICBmdW5jdGlvbiBGUkFGKGNhbGxiYWNrKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVxdWVzdEFuaW1GcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFJBRi5hcHBseShLaW5ldGljLnJvb3QsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEFuaW1hdGlvbiBjb25zdHJ1Y3Rvci4gIEEgc3RhZ2UgaXMgdXNlZCB0byBjb250YWluIG11bHRpcGxlIGxheWVycyBhbmQgaGFuZGxlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lLiAgVGhlIGZ1bmN0aW9uIGlzIHBhc3NlZCBhIGZyYW1lIG9iamVjdCwgd2hpY2ggY29udGFpbnNcbiAgICAgKiAgdGltZURpZmYsIGxhc3RUaW1lLCB0aW1lLCBhbmQgZnJhbWVSYXRlIHByb3BlcnRpZXMuICBUaGUgdGltZURpZmYgcHJvcGVydHkgaXMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIHBhc3NlZFxuICAgICAqICBzaW5jZSB0aGUgbGFzdCBhbmltYXRpb24gZnJhbWUuICBUaGUgbGFzdFRpbWUgcHJvcGVydHkgaXMgdGltZSBpbiBtaWxsaXNlY29uZHMgdGhhdCBlbGFwc2VkIGZyb20gdGhlIG1vbWVudCB0aGUgYW5pbWF0aW9uIHN0YXJ0ZWRcbiAgICAgKiAgdG8gdGhlIGxhc3QgYW5pbWF0aW9uIGZyYW1lLiAgVGhlIHRpbWUgcHJvcGVydHkgaXMgdGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRoYXQgZWxsYXBzZWQgZnJvbSB0aGUgbW9tZW50IHRoZSBhbmltYXRpb24gc3RhcnRlZFxuICAgICAqICB0byB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUuICBUaGUgZnJhbWVSYXRlIHByb3BlcnR5IGlzIHRoZSBjdXJyZW50IGZyYW1lIHJhdGUgaW4gZnJhbWVzIC8gc2Vjb25kLiBSZXR1cm4gZmFsc2UgZnJvbSBmdW5jdGlvbixcbiAgICAgKiAgaWYgeW91IGRvbid0IG5lZWQgdG8gcmVkcmF3IGxheWVyL2xheWVycyBvbiBzb21lIGZyYW1lcy5cbiAgICAgKiBAcGFyYW0ge0tpbmV0aWMuTGF5ZXJ8QXJyYXl9IFtsYXllcnNdIGxheWVyKHMpIHRvIGJlIHJlZHJhd24gb24gZWFjaCBhbmltYXRpb24gZnJhbWUuIENhbiBiZSBhIGxheWVyLCBhbiBhcnJheSBvZiBsYXllcnMsIG9yIG51bGwuXG4gICAgICogIE5vdCBzcGVjaWZ5aW5nIGEgbm9kZSB3aWxsIHJlc3VsdCBpbiBubyByZWRyYXcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBtb3ZlIGEgbm9kZSB0byB0aGUgcmlnaHQgYXQgNTAgcGl4ZWxzIC8gc2Vjb25kXG4gICAgICogdmFyIHZlbG9jaXR5ID0gNTA7XG4gICAgICpcbiAgICAgKiB2YXIgYW5pbSA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xuICAgICAqICAgdmFyIGRpc3QgPSB2ZWxvY2l0eSAqIChmcmFtZS50aW1lRGlmZiAvIDEwMDApO1xuICAgICAqICAgbm9kZS5tb3ZlKGRpc3QsIDApO1xuICAgICAqIH0sIGxheWVyKTtcbiAgICAgKlxuICAgICAqIGFuaW0uc3RhcnQoKTtcbiAgICAgKi9cbiAgICBLaW5ldGljLkFuaW1hdGlvbiA9IGZ1bmN0aW9uKGZ1bmMsIGxheWVycykge1xuICAgICAgICB2YXIgQW5pbSA9IEtpbmV0aWMuQW5pbWF0aW9uO1xuICAgICAgICB0aGlzLmZ1bmMgPSBmdW5jO1xuICAgICAgICB0aGlzLnNldExheWVycyhsYXllcnMpO1xuICAgICAgICB0aGlzLmlkID0gQW5pbS5hbmltSWRDb3VudGVyKys7XG4gICAgICAgIHRoaXMuZnJhbWUgPSB7XG4gICAgICAgICAgICB0aW1lOiAwLFxuICAgICAgICAgICAgdGltZURpZmY6IDAsXG4gICAgICAgICAgICBsYXN0VGltZTogbm93KClcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXG4gICAgICogQW5pbWF0aW9uIG1ldGhvZHNcbiAgICAgKi9cbiAgICBLaW5ldGljLkFuaW1hdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZXQgbGF5ZXJzIHRvIGJlIHJlZHJhd24gb24gZWFjaCBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BbmltYXRpb24ucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7S2luZXRpYy5MYXllcnxBcnJheX0gW2xheWVyc10gbGF5ZXIocykgdG8gYmUgcmVkcmF3bi4mbmJzcDsgQ2FuIGJlIGEgbGF5ZXIsIGFuIGFycmF5IG9mIGxheWVycywgb3IgbnVsbC4gIE5vdCBzcGVjaWZ5aW5nIGEgbm9kZSB3aWxsIHJlc3VsdCBpbiBubyByZWRyYXcuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRMYXllcnM6IGZ1bmN0aW9uKGxheWVycykge1xuICAgICAgICAgICAgdmFyIGxheXMgPSBbXTtcbiAgICAgICAgICAgIC8vIGlmIHBhc3NpbmcgaW4gbm8gbGF5ZXJzXG4gICAgICAgICAgICBpZiAoIWxheWVycykge1xuICAgICAgICAgICAgICAgIGxheXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHBhc3NpbmcgaW4gYW4gYXJyYXkgb2YgTGF5ZXJzXG4gICAgICAgICAgICAvLyBOT1RFOiBsYXllcnMgY291bGQgYmUgYW4gYXJyYXkgb3IgS2luZXRpYy5Db2xsZWN0aW9uLiAgZm9yIHNpbXBsaWNpdHksIEknbSBqdXN0IGluc3BlY3RpbmdcbiAgICAgICAgICAgIC8vIHRoZSBsZW5ndGggcHJvcGVydHkgdG8gY2hlY2sgZm9yIGJvdGggY2FzZXNcbiAgICAgICAgICAgIGVsc2UgaWYgKGxheWVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGF5cyA9IGxheWVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHBhc3NpbmcgaW4gYSBMYXllclxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGF5cyA9IFtsYXllcnNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxheWVycyA9IGxheXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgbGF5ZXJzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQW5pbWF0aW9uLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGF5ZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxheWVycztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFkZCBsYXllci4gIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGF5ZXIgd2FzIGFkZGVkLCBhbmQgZmFsc2UgaWYgaXQgd2FzIG5vdFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkFuaW1hdGlvbi5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtLaW5ldGljLkxheWVyfSBsYXllclxuICAgICAgICAgKi9cbiAgICAgICAgYWRkTGF5ZXI6IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5sYXllcnMsXG4gICAgICAgICAgICAgICAgbGVuLCBuO1xuXG4gICAgICAgICAgICBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgbGVuID0gbGF5ZXJzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCB0aGUgbGF5ZXIgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyc1tuXS5faWQgPT09IGxheWVyLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZSBpZiBhbmltYXRpb24gaXMgcnVubmluZyBvciBub3QuICByZXR1cm5zIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BbmltYXRpb24ucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBpc1J1bm5pbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEgPSBLaW5ldGljLkFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gYS5hbmltYXRpb25zLFxuICAgICAgICAgICAgICAgIGxlbiA9IGFuaW1hdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG47XG5cbiAgICAgICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgaWYoYW5pbWF0aW9uc1tuXS5pZCA9PT0gdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdGFydCBhbmltYXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BbmltYXRpb24ucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgQW5pbSA9IEtpbmV0aWMuQW5pbWF0aW9uO1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLnRpbWVEaWZmID0gMDtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUubGFzdFRpbWUgPSBub3coKTtcbiAgICAgICAgICAgIEFuaW0uX2FkZEFuaW1hdGlvbih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3AgYW5pbWF0aW9uXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQW5pbWF0aW9uLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBLaW5ldGljLkFuaW1hdGlvbi5fcmVtb3ZlQW5pbWF0aW9uKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBfdXBkYXRlRnJhbWVPYmplY3Q6IGZ1bmN0aW9uKHRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUudGltZURpZmYgPSB0aW1lIC0gdGhpcy5mcmFtZS5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUubGFzdFRpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5mcmFtZS50aW1lICs9IHRoaXMuZnJhbWUudGltZURpZmY7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLmZyYW1lUmF0ZSA9IDEwMDAgLyB0aGlzLmZyYW1lLnRpbWVEaWZmO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLkFuaW1hdGlvbi5hbmltYXRpb25zID0gW107XG4gICAgS2luZXRpYy5BbmltYXRpb24uYW5pbUlkQ291bnRlciA9IDA7XG4gICAgS2luZXRpYy5BbmltYXRpb24uYW5pbVJ1bm5pbmcgPSBmYWxzZTtcblxuICAgIEtpbmV0aWMuQW5pbWF0aW9uLl9hZGRBbmltYXRpb24gPSBmdW5jdGlvbihhbmltKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW0pO1xuICAgICAgICB0aGlzLl9oYW5kbGVBbmltYXRpb24oKTtcbiAgICB9O1xuICAgIEtpbmV0aWMuQW5pbWF0aW9uLl9yZW1vdmVBbmltYXRpb24gPSBmdW5jdGlvbihhbmltKSB7XG4gICAgICAgIHZhciBpZCA9IGFuaW0uaWQsXG4gICAgICAgICAgICBhbmltYXRpb25zID0gdGhpcy5hbmltYXRpb25zLFxuICAgICAgICAgICAgbGVuID0gYW5pbWF0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICBuO1xuXG4gICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICBpZihhbmltYXRpb25zW25dLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UobiwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5BbmltYXRpb24uX3J1bkZyYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGF5ZXJIYXNoID0ge30sXG4gICAgICAgICAgICBhbmltYXRpb25zID0gdGhpcy5hbmltYXRpb25zLFxuICAgICAgICAgICAgYW5pbSwgbGF5ZXJzLCBmdW5jLCBuLCBpLCBsYXllcnNMZW4sIGxheWVyLCBrZXksIG5lZWRSZWRyYXc7XG4gICAgICAgIC8qXG4gICAgICAgICAqIGxvb3AgdGhyb3VnaCBhbGwgYW5pbWF0aW9ucyBhbmQgZXhlY3V0ZSBhbmltYXRpb25cbiAgICAgICAgICogIGZ1bmN0aW9uLiAgaWYgdGhlIGFuaW1hdGlvbiBvYmplY3QgaGFzIHNwZWNpZmllZCBub2RlLFxuICAgICAgICAgKiAgd2UgY2FuIGFkZCB0aGUgbm9kZSB0byB0aGUgbm9kZXMgaGFzaCB0byBlbGltaW5hdGVcbiAgICAgICAgICogIGRyYXdpbmcgdGhlIHNhbWUgbm9kZSBtdWx0aXBsZSB0aW1lcy4gIFRoZSBub2RlIHByb3BlcnR5XG4gICAgICAgICAqICBjYW4gYmUgdGhlIHN0YWdlIGl0c2VsZiBvciBhIGxheWVyXG4gICAgICAgICAqL1xuICAgICAgICAvKlxuICAgICAgICAgKiBXQVJOSU5HOiBkb24ndCBjYWNoZSBhbmltYXRpb25zLmxlbmd0aCBiZWNhdXNlIGl0IGNvdWxkIGNoYW5nZSB3aGlsZVxuICAgICAgICAgKiB0aGUgZm9yIGxvb3AgaXMgcnVubmluZywgY2F1c2luZyBhIEpTIGVycm9yXG4gICAgICAgICAqL1xuXG4gICAgICAgIGZvcihuID0gMDsgbiA8IGFuaW1hdGlvbnMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgIGFuaW0gPSBhbmltYXRpb25zW25dO1xuICAgICAgICAgICAgbGF5ZXJzID0gYW5pbS5sYXllcnM7XG4gICAgICAgICAgICBmdW5jID0gYW5pbS5mdW5jO1xuXG5cbiAgICAgICAgICAgIGFuaW0uX3VwZGF0ZUZyYW1lT2JqZWN0KG5vdygpKTtcbiAgICAgICAgICAgIGxheWVyc0xlbiA9IGxheWVycy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIGlmIGFuaW1hdGlvbiBvYmplY3QgaGFzIGEgZnVuY3Rpb24sIGV4ZWN1dGUgaXRcbiAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgYW5pbSBieXBhc3NpbmcgZHJhd2luZ1xuICAgICAgICAgICAgICAgIG5lZWRSZWRyYXcgPSAoZnVuYy5jYWxsKGFuaW0sIGFuaW0uZnJhbWUpICE9PSBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5lZWRSZWRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5lZWRSZWRyYXcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXJzTGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBsYXllcnNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLl9pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllckhhc2hbbGF5ZXIuX2lkXSA9IGxheWVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGF5ZXJIYXNoKSB7XG4gICAgICAgICAgICBsYXllckhhc2hba2V5XS5kcmF3KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuQW5pbWF0aW9uLl9hbmltYXRpb25Mb29wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBBbmltID0gS2luZXRpYy5BbmltYXRpb247XG5cbiAgICAgICAgaWYoQW5pbS5hbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1GcmFtZShBbmltLl9hbmltYXRpb25Mb29wKTtcbiAgICAgICAgICAgIEFuaW0uX3J1bkZyYW1lcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgQW5pbS5hbmltUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLkFuaW1hdGlvbi5faGFuZGxlQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgaWYoIXRoaXMuYW5pbVJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbVJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhhdC5fYW5pbWF0aW9uTG9vcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBtb3ZlVG8gPSBLaW5ldGljLk5vZGUucHJvdG90eXBlLm1vdmVUbztcbiAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgICAgICBtb3ZlVG8uY2FsbCh0aGlzLCBjb250YWluZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBiYXRjaCBkcmF3XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkJhc2UucHJvdG90eXBlXG4gICAgICovXG4gICAgS2luZXRpYy5CYXNlTGF5ZXIucHJvdG90eXBlLmJhdGNoRHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBBbmltID0gS2luZXRpYy5BbmltYXRpb247XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhdGNoQW5pbSkge1xuICAgICAgICAgICAgdGhpcy5iYXRjaEFuaW0gPSBuZXcgQW5pbShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5sYXN0QmF0Y2hEcmF3VGltZSAmJiBub3coKSAtIHRoYXQubGFzdEJhdGNoRHJhd1RpbWUgPiBCQVRDSF9EUkFXX1NUT1BfVElNRV9ESUZGKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYmF0Y2hBbmltLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdEJhdGNoRHJhd1RpbWUgPSBub3coKTtcblxuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hBbmltLmlzUnVubmluZygpKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hBbmltLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogYmF0Y2ggZHJhd1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBLaW5ldGljLlN0YWdlLnByb3RvdHlwZS5iYXRjaERyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5nZXRDaGlsZHJlbigpLmVhY2goZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgICAgIGxheWVyLmJhdGNoRHJhdygpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSkodGhpcyk7XG47KGZ1bmN0aW9uKCkge1xuICAgIHZhciBibGFja2xpc3QgPSB7XG4gICAgICAgIG5vZGU6IDEsXG4gICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICBlYXNpbmc6IDEsXG4gICAgICAgIG9uRmluaXNoOiAxLFxuICAgICAgICB5b3lvOiAxXG4gICAgfSxcblxuICAgIFBBVVNFRCA9IDEsXG4gICAgUExBWUlORyA9IDIsXG4gICAgUkVWRVJTSU5HID0gMyxcblxuICAgIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUd2VlbiBjb25zdHJ1Y3Rvci4gIFR3ZWVucyBlbmFibGUgeW91IHRvIGFuaW1hdGUgYSBub2RlIGJldHdlZW4gdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGEgbmV3IHN0YXRlLlxuICAgICAqICBZb3UgY2FuIHBsYXksIHBhdXNlLCByZXZlcnNlLCBzZWVrLCByZXNldCwgYW5kIGZpbmlzaCB0d2VlbnMuICBCeSBkZWZhdWx0LCB0d2VlbnMgYXJlIGFuaW1hdGVkIHVzaW5nXG4gICAgICogIGEgbGluZWFyIGVhc2luZy4gIEZvciBtb3JlIHR3ZWVuaW5nIG9wdGlvbnMsIGNoZWNrIG91dCB7QGxpbmsgS2luZXRpYy5FYXNpbmdzfVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBpbnN0YW50aWF0ZSBuZXcgdHdlZW4gd2hpY2ggZnVsbHkgcm90YXRlcyBhIG5vZGUgaW4gMSBzZWNvbmRcbiAgICAgKiB2YXIgdHdlZW4gPSBuZXcgS2luZXRpYy5Ud2Vlbih7XG4gICAgICogICBub2RlOiBub2RlLFxuICAgICAqICAgcm90YXRpb25EZWc6IDM2MCxcbiAgICAgKiAgIGR1cmF0aW9uOiAxLFxuICAgICAqICAgZWFzaW5nOiBLaW5ldGljLkVhc2luZ3MuRWFzZUluT3V0XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBwbGF5IHR3ZWVuXG4gICAgICogdHdlZW4ucGxheSgpO1xuICAgICAqXG4gICAgICogLy8gcGF1c2UgdHdlZW5cbiAgICAgKiB0d2Vlbi5wYXVzZSgpO1xuICAgICAqL1xuICAgIEtpbmV0aWMuVHdlZW4gPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgbm9kZSA9IGNvbmZpZy5ub2RlLFxuICAgICAgICAgICAgbm9kZUlkID0gbm9kZS5faWQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZyA9IGNvbmZpZy5lYXNpbmcgfHwgS2luZXRpYy5FYXNpbmdzLkxpbmVhcixcbiAgICAgICAgICAgIHlveW8gPSAhIWNvbmZpZy55b3lvLFxuICAgICAgICAgICAga2V5O1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmR1cmF0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZHVyYXRpb24gPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5kdXJhdGlvbiA9PT0gMCkgeyAgLy8gemVybyBpcyBiYWQgdmFsdWUgZm9yIGR1cmF0aW9uXG4gICAgICAgICAgICBkdXJhdGlvbiA9IDAuMDAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHVyYXRpb24gPSBjb25maWcuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5faWQgPSBpZENvdW50ZXIrKztcblxuICAgICAgICB0aGlzLmFuaW0gPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0LnR3ZWVuLm9uRW50ZXJGcmFtZSgpO1xuICAgICAgICB9LCBub2RlLmdldExheWVyKCkgfHwgKChub2RlIGluc3RhbmNlb2YgS2luZXRpYy5TdGFnZSkgPyBub2RlLmdldExheWVycygpIDogbnVsbCkpO1xuXG4gICAgICAgIHRoaXMudHdlZW4gPSBuZXcgVHdlZW4oa2V5LCBmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICB0aGF0Ll90d2VlbkZ1bmMoaSk7XG4gICAgICAgIH0sIGVhc2luZywgMCwgMSwgZHVyYXRpb24gKiAxMDAwLCB5b3lvKTtcblxuICAgICAgICB0aGlzLl9hZGRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAvLyBpbml0IGF0dHJzIG1hcFxuICAgICAgICBpZiAoIUtpbmV0aWMuVHdlZW4uYXR0cnNbbm9kZUlkXSkge1xuICAgICAgICAgICAgS2luZXRpYy5Ud2Vlbi5hdHRyc1tub2RlSWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFLaW5ldGljLlR3ZWVuLmF0dHJzW25vZGVJZF1bdGhpcy5faWRdKSB7XG4gICAgICAgICAgICBLaW5ldGljLlR3ZWVuLmF0dHJzW25vZGVJZF1bdGhpcy5faWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5pdCB0d2VlbnMgbWFwXG4gICAgICAgIGlmICghS2luZXRpYy5Ud2Vlbi50d2VlbnNbbm9kZUlkXSkge1xuICAgICAgICAgICAgS2luZXRpYy5Ud2Vlbi50d2VlbnNbbm9kZUlkXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChrZXkgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoYmxhY2tsaXN0W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEF0dHIoa2V5LCBjb25maWdba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gY2FsbGJhY2tzXG4gICAgICAgIHRoaXMub25GaW5pc2ggPSBjb25maWcub25GaW5pc2g7XG4gICAgICAgIHRoaXMub25SZXNldCA9IGNvbmZpZy5vblJlc2V0O1xuICAgIH07XG5cbiAgICAvLyBzdGFydC9kaWZmIG9iamVjdCA9IGF0dHJzLm5vZGVJZC50d2VlbklkLmF0dHJcbiAgICBLaW5ldGljLlR3ZWVuLmF0dHJzID0ge307XG4gICAgLy8gdHdlZW5JZCA9IHR3ZWVucy5ub2RlSWQuYXR0clxuICAgIEtpbmV0aWMuVHdlZW4udHdlZW5zID0ge307XG5cbiAgICBLaW5ldGljLlR3ZWVuLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX2FkZEF0dHI6IGZ1bmN0aW9uKGtleSwgZW5kKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSxcbiAgICAgICAgICAgICAgICBub2RlSWQgPSBub2RlLl9pZCxcbiAgICAgICAgICAgICAgICBzdGFydCwgZGlmZiwgdHdlZW5JZCwgbiwgbGVuO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgY29uZmxpY3QgZnJvbSB0d2VlbiBtYXAgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICB0d2VlbklkID0gS2luZXRpYy5Ud2Vlbi50d2VlbnNbbm9kZUlkXVtrZXldO1xuXG4gICAgICAgICAgICBpZiAodHdlZW5JZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBLaW5ldGljLlR3ZWVuLmF0dHJzW25vZGVJZF1bdHdlZW5JZF1ba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHRvIHR3ZWVuIG1hcFxuICAgICAgICAgICAgc3RhcnQgPSBub2RlLmdldEF0dHIoa2V5KTtcblxuICAgICAgICAgICAgaWYgKEtpbmV0aWMuVXRpbC5faXNBcnJheShlbmQpKSB7XG4gICAgICAgICAgICAgICAgZGlmZiA9IFtdO1xuICAgICAgICAgICAgICAgIGxlbiA9IGVuZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChuPTA7IG48bGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5wdXNoKGVuZFtuXSAtIHN0YXJ0W25dKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpZmYgPSBlbmQgLSBzdGFydDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgS2luZXRpYy5Ud2Vlbi5hdHRyc1tub2RlSWRdW3RoaXMuX2lkXVtrZXldID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBkaWZmOiBkaWZmXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgS2luZXRpYy5Ud2Vlbi50d2VlbnNbbm9kZUlkXVtrZXldID0gdGhpcy5faWQ7XG4gICAgICAgIH0sXG4gICAgICAgIF90d2VlbkZ1bmM6IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ub2RlLFxuICAgICAgICAgICAgICAgIGF0dHJzID0gS2luZXRpYy5Ud2Vlbi5hdHRyc1tub2RlLl9pZF1bdGhpcy5faWRdLFxuICAgICAgICAgICAgICAgIGtleSwgYXR0ciwgc3RhcnQsIGRpZmYsIG5ld1ZhbCwgbiwgbGVuO1xuXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGF0dHIgPSBhdHRyc1trZXldO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gYXR0ci5zdGFydDtcbiAgICAgICAgICAgICAgICBkaWZmID0gYXR0ci5kaWZmO1xuXG4gICAgICAgICAgICAgICAgaWYgKEtpbmV0aWMuVXRpbC5faXNBcnJheShzdGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IHN0YXJ0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuPTA7IG48bGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbC5wdXNoKHN0YXJ0W25dICsgKGRpZmZbbl0gKiBpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbCA9IHN0YXJ0ICsgKGRpZmYgKiBpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHIoa2V5LCBuZXdWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfYWRkTGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgLy8gc3RhcnQgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLnR3ZWVuLm9uUGxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuYW5pbS5zdGFydCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudHdlZW4ub25SZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5hbmltLnN0YXJ0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzdG9wIGxpc3RlbmVyc1xuICAgICAgICAgICAgdGhpcy50d2Vlbi5vblBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5hbmltLnN0b3AoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnR3ZWVuLm9uRmluaXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoYXQub25GaW5pc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vbkZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnR3ZWVuLm9uUmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5vblJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub25SZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwbGF5XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHdlZW4ucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtUd2Vlbn1cbiAgICAgICAgICovXG4gICAgICAgIHBsYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50d2Vlbi5wbGF5KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldmVyc2VcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ud2Vlbi5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge1R3ZWVufVxuICAgICAgICAgKi9cbiAgICAgICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnR3ZWVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogcmVzZXRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ud2Vlbi5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge1R3ZWVufVxuICAgICAgICAgKi9cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50d2Vlbi5yZXNldCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZWVrXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVHdlZW4ucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gdCB0aW1lIGluIHNlY29uZHMgYmV0d2VlbiAwIGFuZCB0aGUgZHVyYXRpb25cbiAgICAgICAgICogQHJldHVybnMge1R3ZWVufVxuICAgICAgICAgKi9cbiAgICAgICAgc2VlazogZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgdGhpcy50d2Vlbi5zZWVrKHQgKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogcGF1c2VcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ud2Vlbi5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge1R3ZWVufVxuICAgICAgICAgKi9cbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50d2Vlbi5wYXVzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmaW5pc2hcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ud2Vlbi5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge1R3ZWVufVxuICAgICAgICAgKi9cbiAgICAgICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudHdlZW4uZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRlc3Ryb3lcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ud2Vlbi5wcm90b3R5cGVcbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5vZGVJZCA9IHRoaXMubm9kZS5faWQsXG4gICAgICAgICAgICAgICAgdGhpc0lkID0gdGhpcy5faWQsXG4gICAgICAgICAgICAgICAgYXR0cnMgPSBLaW5ldGljLlR3ZWVuLnR3ZWVuc1tub2RlSWRdLFxuICAgICAgICAgICAgICAgIGtleTtcblxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBLaW5ldGljLlR3ZWVuLnR3ZWVuc1tub2RlSWRdW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBLaW5ldGljLlR3ZWVuLmF0dHJzW25vZGVJZF1bdGhpc0lkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgVHdlZW4gPSBmdW5jdGlvbihwcm9wLCBwcm9wRnVuYywgZnVuYywgYmVnaW4sIGZpbmlzaCwgZHVyYXRpb24sIHlveW8pIHtcbiAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgICAgdGhpcy5wcm9wRnVuYyA9IHByb3BGdW5jO1xuICAgICAgICB0aGlzLmJlZ2luID0gYmVnaW47XG4gICAgICAgIHRoaXMuX3BvcyA9IGJlZ2luO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuX2NoYW5nZSA9IDA7XG4gICAgICAgIHRoaXMucHJldlBvcyA9IDA7XG4gICAgICAgIHRoaXMueW95byA9IHlveW87XG4gICAgICAgIHRoaXMuX3RpbWUgPSAwO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IDA7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCA9IDA7XG4gICAgICAgIHRoaXMuZnVuYyA9IGZ1bmM7XG4gICAgICAgIHRoaXMuX2NoYW5nZSA9IGZpbmlzaCAtIHRoaXMuYmVnaW47XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9O1xuICAgIC8qXG4gICAgICogVHdlZW4gbWV0aG9kc1xuICAgICAqL1xuICAgIFR3ZWVuLnByb3RvdHlwZSA9IHtcbiAgICAgICAgZmlyZTogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXNbc3RyXTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRUaW1lOiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZih0ID4gdGhpcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMueW95bykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lID0gdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYodCA8IDApIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnlveW8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldFRpbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZQb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgICAgICB0aGlzLnByb3BGdW5jKHApO1xuICAgICAgICAgICAgdGhpcy5fcG9zID0gcDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UG9zaXRpb246IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmKHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHQgPSB0aGlzLl90aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVuYyh0LCB0aGlzLmJlZ2luLCB0aGlzLl9jaGFuZ2UsIHRoaXMuZHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBQTEFZSU5HO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gdGhpcy5nZXRUaW1lcigpIC0gdGhpcy5fdGltZTtcbiAgICAgICAgICAgIHRoaXMub25FbnRlckZyYW1lKCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ29uUGxheScpO1xuICAgICAgICB9LFxuICAgICAgICByZXZlcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBSRVZFUlNJTkc7XG4gICAgICAgICAgICB0aGlzLl90aW1lID0gdGhpcy5kdXJhdGlvbiAtIHRoaXMuX3RpbWU7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSB0aGlzLmdldFRpbWVyKCkgLSB0aGlzLl90aW1lO1xuICAgICAgICAgICAgdGhpcy5vbkVudGVyRnJhbWUoKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnb25SZXZlcnNlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlZWs6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0O1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnb25TZWVrJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnb25SZXNldCcpO1xuICAgICAgICB9LFxuICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5fdGltZSA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdvbkZpbmlzaCcpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLmdldFBvc2l0aW9uKHRoaXMuX3RpbWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlckZyYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5nZXRUaW1lcigpIC0gdGhpcy5fc3RhcnRUaW1lO1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZSA9PT0gUExBWUlORykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZSh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IFJFVkVSU0lORykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZSh0aGlzLmR1cmF0aW9uIC0gdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBQQVVTRUQ7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ29uUGF1c2UnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VGltZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiBUaGVzZSBlYXNlcyB3ZXJlIHBvcnRlZCBmcm9tIGFuIEFkb2JlIEZsYXNoIHR3ZWVuaW5nIGxpYnJhcnkgdG8gSmF2YVNjcmlwdFxuICAgICogYnkgWGFyaWNcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBFYXNpbmdzXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKi9cbiAgICBLaW5ldGljLkVhc2luZ3MgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIGJhY2sgZWFzZSBpblxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0JhY2tFYXNlSW4nOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogYmFjayBlYXNlIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0JhY2tFYXNlT3V0JzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoKCB0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogYmFjayBlYXNlIGluIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0JhY2tFYXNlSW5PdXQnOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICBpZigodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBlbGFzdGljIGVhc2UgaW5cbiAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FYXNpbmdzXG4gICAgICAgICovXG4gICAgICAgICdFbGFzdGljRWFzZUluJzogZnVuY3Rpb24odCwgYiwgYywgZCwgYSwgcCkge1xuICAgICAgICAgICAgLy8gYWRkZWQgcyA9IDBcbiAgICAgICAgICAgIHZhciBzID0gMDtcbiAgICAgICAgICAgIGlmKHQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCh0IC89IGQpID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYiArIGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighcCkge1xuICAgICAgICAgICAgICAgIHAgPSBkICogMC4zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIWEgfHwgYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGVsYXN0aWMgZWFzZSBvdXRcbiAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FYXNpbmdzXG4gICAgICAgICovXG4gICAgICAgICdFbGFzdGljRWFzZU91dCc6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgICAgIC8vIGFkZGVkIHMgPSAwXG4gICAgICAgICAgICB2YXIgcyA9IDA7XG4gICAgICAgICAgICBpZih0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigodCAvPSBkKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIgKyBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIXApIHtcbiAgICAgICAgICAgICAgICBwID0gZCAqIDAuMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKGEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYyArIGIpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBlbGFzdGljIGVhc2UgaW4gb3V0XG4gICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRWFzaW5nc1xuICAgICAgICAqL1xuICAgICAgICAnRWxhc3RpY0Vhc2VJbk91dCc6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgICAgIC8vIGFkZGVkIHMgPSAwXG4gICAgICAgICAgICB2YXIgcyA9IDA7XG4gICAgICAgICAgICBpZih0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigodCAvPSBkIC8gMikgPT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiICsgYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFwKSB7XG4gICAgICAgICAgICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0IDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMC41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogMC41ICsgYyArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGJvdW5jZSBlYXNlIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0JvdW5jZUVhc2VPdXQnOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICBpZigodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih0IDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgMC43NSkgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih0IDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgMC45Mzc1KSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgMC45ODQzNzUpICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogYm91bmNlIGVhc2UgaW5cbiAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FYXNpbmdzXG4gICAgICAgICovXG4gICAgICAgICdCb3VuY2VFYXNlSW4nOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAtIEtpbmV0aWMuRWFzaW5ncy5Cb3VuY2VFYXNlT3V0KGQgLSB0LCAwLCBjLCBkKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGJvdW5jZSBlYXNlIGluIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0JvdW5jZUVhc2VJbk91dCc6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmKHQgPCBkIC8gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBLaW5ldGljLkVhc2luZ3MuQm91bmNlRWFzZUluKHQgKiAyLCAwLCBjLCBkKSAqIDAuNSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gS2luZXRpYy5FYXNpbmdzLkJvdW5jZUVhc2VPdXQodCAqIDIgLSBkLCAwLCBjLCBkKSAqIDAuNSArIGMgKiAwLjUgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBlYXNlIGluXG4gICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRWFzaW5nc1xuICAgICAgICAqL1xuICAgICAgICAnRWFzZUluJzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBlYXNlIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0Vhc2VPdXQnOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBlYXNlIGluIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0Vhc2VJbk91dCc6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogc3Ryb25nIGVhc2UgaW5cbiAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FYXNpbmdzXG4gICAgICAgICovXG4gICAgICAgICdTdHJvbmdFYXNlSW4nOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIHN0cm9uZyBlYXNlIG91dFxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ1N0cm9uZ0Vhc2VPdXQnOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICgoIHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICogc3Ryb25nIGVhc2UgaW4gb3V0XG4gICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRWFzaW5nc1xuICAgICAgICAqL1xuICAgICAgICAnU3Ryb25nRWFzZUluT3V0JzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICAgICAgaWYoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAqIGxpbmVhclxuICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkVhc2luZ3NcbiAgICAgICAgKi9cbiAgICAgICAgJ0xpbmVhcic6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIEtpbmV0aWMuREQgPSB7XG4gICAgICAgIC8vIHByb3BlcnRpZXNcbiAgICAgICAgYW5pbTogbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH0pLFxuICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAganVzdERyYWdnZWQ6IGZhbHNlLFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgIH0sXG4gICAgICAgIG5vZGU6IG51bGwsXG5cbiAgICAgICAgLy8gbWV0aG9kc1xuICAgICAgICBfZHJhZzogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICB2YXIgZGQgPSBLaW5ldGljLkRELFxuICAgICAgICAgICAgICAgIG5vZGUgPSBkZC5ub2RlO1xuXG4gICAgICAgICAgICBpZihub2RlKSB7XG4gICAgICAgICAgICAgICBpZighZGQuaXNEcmFnZ2luZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gbm9kZS5nZXRTdGFnZSgpLmdldFBvaW50ZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ0Rpc3RhbmNlID0gbm9kZS5kcmFnRGlzdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhwb3MueCAtIGRkLnN0YXJ0UG9pbnRlclBvcy54KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHBvcy55IC0gZGQuc3RhcnRQb2ludGVyUG9zLnkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGRyYWdEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZS5fc2V0RHJhZ1Bvc2l0aW9uKGV2dCk7XG4gICAgICAgICAgICAgICAgaWYoIWRkLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGQuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZmlyZSgnZHJhZ3N0YXJ0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdkcmFnc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0IDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dCA6IGV2dFxuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBleGVjdXRlIG9uZHJhZ21vdmUgaWYgZGVmaW5lZFxuICAgICAgICAgICAgICAgIG5vZGUuZmlyZSgnZHJhZ21vdmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnZHJhZ21vdmUnLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgOiBub2RlLFxuICAgICAgICAgICAgICAgICAgICBldnQgOiBldnRcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2VuZERyYWdCZWZvcmU6IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERCxcbiAgICAgICAgICAgICAgICBub2RlID0gZGQubm9kZSxcbiAgICAgICAgICAgICAgICBub2RlVHlwZSwgbGF5ZXI7XG5cbiAgICAgICAgICAgIGlmKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgbGF5ZXIgPSBub2RlLmdldExheWVyKCk7XG4gICAgICAgICAgICAgICAgZGQuYW5pbS5zdG9wKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBvbmx5IGZpcmUgZHJhZ2VuZCBldmVudCBpZiB0aGUgZHJhZyBhbmQgZHJvcFxuICAgICAgICAgICAgICAgIC8vIG9wZXJhdGlvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgICAgICAgICAgICAgIGlmKGRkLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGQuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkZC5qdXN0RHJhZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldnQuZHJhZ0VuZE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIGRkLm5vZGU7XG5cbiAgICAgICAgICAgICAgICAobGF5ZXIgfHwgbm9kZSkuZHJhdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfZW5kRHJhZ0FmdGVyOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGV2dCA9IGV2dCB8fCB7fTtcblxuICAgICAgICAgICAgdmFyIGRyYWdFbmROb2RlID0gZXZ0LmRyYWdFbmROb2RlO1xuXG4gICAgICAgICAgICBpZiAoZXZ0ICYmIGRyYWdFbmROb2RlKSB7XG4gICAgICAgICAgICAgICAgZHJhZ0VuZE5vZGUuZmlyZSgnZHJhZ2VuZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdkcmFnZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0IDogZHJhZ0VuZE5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGV2dCA6IGV2dFxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIE5vZGUgZXh0ZW5kZXJzXG5cbiAgICAvKipcbiAgICAgKiBpbml0aWF0ZSBkcmFnIGFuZCBkcm9wXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICovXG4gICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zdGFydERyYWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERCxcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy5nZXRTdGFnZSgpLFxuICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLmdldExheWVyKCksXG4gICAgICAgICAgICBwb3MgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgIGFwID0gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYocG9zKSB7XG4gICAgICAgICAgICBpZiAoZGQubm9kZSkge1xuICAgICAgICAgICAgICAgIGRkLm5vZGUuc3RvcERyYWcoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGQubm9kZSA9IHRoaXM7XG4gICAgICAgICAgICBkZC5zdGFydFBvaW50ZXJQb3MgPSBwb3M7XG4gICAgICAgICAgICBkZC5vZmZzZXQueCA9IHBvcy54IC0gYXAueDtcbiAgICAgICAgICAgIGRkLm9mZnNldC55ID0gcG9zLnkgLSBhcC55O1xuICAgICAgICAgICAgZGQuYW5pbS5zZXRMYXllcnMobGF5ZXIgfHwgdGhpcy5nZXRMYXllcnMoKSk7XG4gICAgICAgICAgICBkZC5hbmltLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldERyYWdQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuX3NldERyYWdQb3NpdGlvbiA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICB2YXIgZGQgPSBLaW5ldGljLkRELFxuICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRTdGFnZSgpLmdldFBvaW50ZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgZGJmID0gdGhpcy5nZXREcmFnQm91bmRGdW5jKCk7XG4gICAgICAgIGlmICghcG9zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld05vZGVQb3MgPSB7XG4gICAgICAgICAgICB4OiBwb3MueCAtIGRkLm9mZnNldC54LFxuICAgICAgICAgICAgeTogcG9zLnkgLSBkZC5vZmZzZXQueVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKGRiZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdOb2RlUG9zID0gZGJmLmNhbGwodGhpcywgbmV3Tm9kZVBvcywgZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEFic29sdXRlUG9zaXRpb24obmV3Tm9kZVBvcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9sYXN0UG9zIHx8IHRoaXMuX2xhc3RQb3MueCAhPT0gbmV3Tm9kZVBvcy54IHx8XG4gICAgICAgICAgICB0aGlzLl9sYXN0UG9zLnkgIT09IG5ld05vZGVQb3MueSkge1xuICAgICAgICAgICAgZGQuYW5pbS5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0UG9zID0gbmV3Tm9kZVBvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogc3RvcCBkcmFnIGFuZCBkcm9wXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLk5vZGUucHJvdG90eXBlXG4gICAgICovXG4gICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zdG9wRHJhZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGQgPSBLaW5ldGljLkRELFxuICAgICAgICAgICAgZXZ0ID0ge307XG4gICAgICAgIGRkLl9lbmREcmFnQmVmb3JlKGV2dCk7XG4gICAgICAgIGRkLl9lbmREcmFnQWZ0ZXIoZXZ0KTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zZXREcmFnZ2FibGUgPSBmdW5jdGlvbihkcmFnZ2FibGUpIHtcbiAgICAgICAgdGhpcy5fc2V0QXR0cignZHJhZ2dhYmxlJywgZHJhZ2dhYmxlKTtcbiAgICAgICAgdGhpcy5fZHJhZ0NoYW5nZSgpO1xuICAgIH07XG5cbiAgICB2YXIgb3JpZ0Rlc3Ryb3kgPSBLaW5ldGljLk5vZGUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERDtcblxuICAgICAgICAvLyBzdG9wIEREXG4gICAgICAgIGlmKGRkLm5vZGUgJiYgZGQubm9kZS5faWQgPT09IHRoaXMuX2lkKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc3RvcERyYWcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9yaWdEZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGRldGVybWluZSBpZiBub2RlIGlzIGN1cnJlbnRseSBpbiBkcmFnIGFuZCBkcm9wIG1vZGVcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLmlzRHJhZ2dpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERDtcbiAgICAgICAgcmV0dXJuICEhKGRkLm5vZGUgJiYgZGQubm9kZS5faWQgPT09IHRoaXMuX2lkICYmIGRkLmlzRHJhZ2dpbmcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLl9saXN0ZW5EcmFnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9kcmFnQ2xlYW51cCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmdldENsYXNzTmFtZSgpID09PSAnU3RhZ2UnKSB7XG4gICAgICAgICAgICB0aGlzLm9uKCdjb250ZW50TW91c2Vkb3duLmtpbmV0aWMgY29udGVudFRvdWNoc3RhcnQua2luZXRpYycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgIGlmKCFLaW5ldGljLkRELm5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGFydERyYWcoZXZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub24oJ21vdXNlZG93bi5raW5ldGljIHRvdWNoc3RhcnQua2luZXRpYycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSByaWdodCBhbmQgbWlkZGxlIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICBpZiAoZXZ0LmV2dC5idXR0b24gPT09IDEgfHwgZXZ0LmV2dC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZighS2luZXRpYy5ERC5ub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhcnREcmFnKGV2dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsaXN0ZW5pbmcgaXMgcmVxdWlyZWQgZm9yIGRyYWcgYW5kIGRyb3BcbiAgICAgICAgLypcbiAgICAgICAgdGhpcy5fbGlzdGVuaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZkFuZEFuY2VzdG9yQ2FjaGUoJ2xpc3RlbmluZ0VuYWJsZWQnKTtcbiAgICAgICAgKi9cbiAgICB9O1xuXG4gICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5fZHJhZ0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmF0dHJzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuRHJhZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgdGhpcy5fZHJhZ0NsZWFudXAoKTtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIGZvcmNlIGRyYWcgYW5kIGRyb3AgdG8gZW5kXG4gICAgICAgICAgICAgKiBpZiB0aGlzIG5vZGUgaXMgY3VycmVudGx5IGluXG4gICAgICAgICAgICAgKiBkcmFnIGFuZCBkcm9wIG1vZGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHN0YWdlID0gdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICAgICAgdmFyIGRkID0gS2luZXRpYy5ERDtcbiAgICAgICAgICAgIGlmKHN0YWdlICYmIGRkLm5vZGUgJiYgZGQubm9kZS5faWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICAgICAgZGQubm9kZS5zdG9wRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuX2RyYWdDbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmdldENsYXNzTmFtZSgpID09PSAnU3RhZ2UnKSB7XG4gICAgICAgICAgICB0aGlzLm9mZignY29udGVudE1vdXNlZG93bi5raW5ldGljJyk7XG4gICAgICAgICAgICB0aGlzLm9mZignY29udGVudFRvdWNoc3RhcnQua2luZXRpYycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vZmYoJ21vdXNlZG93bi5raW5ldGljJyk7XG4gICAgICAgICAgICB0aGlzLm9mZigndG91Y2hzdGFydC5raW5ldGljJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLk5vZGUsICdkcmFnQm91bmRGdW5jJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGRyYWcgYm91bmQgZnVuY3Rpb24uICBUaGlzIGlzIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRcbiAgICAgKiAgZHJhZyBhbmQgZHJvcCBwb3NpdGlvblxuICAgICAqIEBuYW1lIGRyYWdCb3VuZEZ1bmNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTm9kZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmFnQm91bmRGdW5jXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGRyYWcgYm91bmQgZnVuY3Rpb25cbiAgICAgKiB2YXIgZHJhZ0JvdW5kRnVuYyA9IG5vZGUuZHJhZ0JvdW5kRnVuYygpO1xuICAgICAqXG4gICAgICogLy8gY3JlYXRlIHZlcnRpY2FsIGRyYWcgYW5kIGRyb3BcbiAgICAgKiBub2RlLmRyYWdCb3VuZEZ1bmMoZnVuY3Rpb24ocG9zKXtcbiAgICAgKiAgIHJldHVybiB7XG4gICAgICogICAgIHg6IHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLngsXG4gICAgICogICAgIHk6IHBvcy55XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlcihLaW5ldGljLk5vZGUsICdkcmFnZ2FibGUnLCBmYWxzZSk7XG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Ob2RlLCAnZHJhZ2dhYmxlJyk7XG5cbiAgICAgLyoqXG4gICAgICogZ2V0L3NldCBkcmFnZ2FibGUgZmxhZ1xuICAgICAqIEBuYW1lIGRyYWdnYWJsZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Ob2RlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZHJhZ2dhYmxlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZHJhZ2dhYmxlIGZsYWdcbiAgICAgKiB2YXIgZHJhZ2dhYmxlID0gbm9kZS5kcmFnZ2FibGUoKTtcbiAgICAgKlxuICAgICAqIC8vIGVuYWJsZSBkcmFnIGFuZCBkcm9wXG4gICAgICogbm9kZS5kcmFnZ2FibGUodHJ1ZSk7XG4gICAgICpcbiAgICAgKiAvLyBkaXNhYmxlIGRyYWcgYW5kIGRyb3BcbiAgICAgKiBub2RlLmRyYWdnYWJsZShmYWxzZSk7XG4gICAgICovXG5cbiAgICB2YXIgaHRtbCA9IEtpbmV0aWMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIEtpbmV0aWMuREQuX2VuZERyYWdCZWZvcmUsIHRydWUpO1xuICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBLaW5ldGljLkRELl9lbmREcmFnQmVmb3JlLCB0cnVlKTtcblxuICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIEtpbmV0aWMuREQuX2VuZERyYWdBZnRlciwgZmFsc2UpO1xuICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBLaW5ldGljLkRELl9lbmREcmFnQWZ0ZXIsIGZhbHNlKTtcblxufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgS2luZXRpYy5VdGlsLmFkZE1ldGhvZHMoS2luZXRpYy5Db250YWluZXIsIHtcbiAgICAgICAgX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgS2luZXRpYy5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICBLaW5ldGljLk5vZGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBhIHtAbGluayBLaW5ldGljLkNvbGxlY3Rpb259IG9mIGRpcmVjdCBkZXNjZW5kYW50IG5vZGVzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZmlsdGVyRnVuY10gZmlsdGVyIGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLkNvbGxlY3Rpb259XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIGdldCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICogdmFyIGNoaWxkcmVuID0gbGF5ZXIuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gZ2V0IG9ubHkgY2lyY2xlc1xuICAgICAgICAgKiB2YXIgY2lyY2xlcyA9IGxheWVyLmdldENoaWxkcmVuKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgKiAgICByZXR1cm4gbm9kZS5nZXRDbGFzc05hbWUoKSA9PT0gJ0NpcmNsZSc7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uKGZpbHRlckZ1bmMpIHtcbiAgICAgICAgICAgIGlmICghZmlsdGVyRnVuYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IG5ldyBLaW5ldGljLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGQpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRnVuYyhjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZSBpZiBub2RlIGhhcyBjaGlsZHJlblxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBoYXNDaGlsZHJlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZHJlbigpLmxlbmd0aCA+IDA7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW1vdmUgYWxsIGNoaWxkcmVuXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gS2luZXRpYy5Db2xsZWN0aW9uLnRvQ29sbGVjdGlvbih0aGlzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHBhcmVudCB0byBwcmV2ZW50IG1hbnkgX3NldENoaWxkcmVuSW5kaWNlcyBjYWxsc1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgY2hpbGQuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oYXNDaGlsZHJlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBLaW5ldGljLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZGVzdHJveSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95Q2hpbGRyZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBLaW5ldGljLkNvbGxlY3Rpb24udG9Db2xsZWN0aW9uKHRoaXMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgcGFyZW50IHRvIHByZXZlbnQgbWFueSBfc2V0Q2hpbGRyZW5JbmRpY2VzIGNhbGxzXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNoaWxkLnBhcmVudDtcbiAgICAgICAgICAgICAgICBjaGlsZC5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY2hpbGQuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBLaW5ldGljLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIG5vZGUgb3Igbm9kZXMgdG8gY29udGFpbmVyLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHsuLi5LaW5ldGljLk5vZGV9IGNoaWxkXG4gICAgICAgICAqIEByZXR1cm5zIHtDb250YWluZXJ9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxheWVyLmFkZChzaGFwZTEsIHNoYXBlMiwgc2hhcGUzKTtcbiAgICAgICAgICovXG4gICAgICAgIGFkZDogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldFBhcmVudCgpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubW92ZVRvKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlQWRkKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkLmluZGV4ID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZSgnYWRkJywge1xuICAgICAgICAgICAgICAgIGNoaWxkOiBjaGlsZFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGlmIG5vZGUgdW5kZXIgZHJhZyB3ZSBuZWVkIHRvIHVwZGF0ZSBkcmFnIGFuaW1hdGlvblxuICAgICAgICAgICAgaWYgKGNoaWxkLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuREQuYW5pbS5zZXRMYXllcnMoY2hpbGQuZ2V0TGF5ZXIoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoYWluYWJsZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gZGVzdHJveSBjaGlsZHJlblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUNoaWxkcmVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGVuIGRlc3Ryb3kgc2VsZlxuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gYSB7QGxpbmsgS2luZXRpYy5Db2xsZWN0aW9ufSBvZiBub2RlcyB0aGF0IG1hdGNoIHRoZSBzZWxlY3Rvci4gIFVzZSAnIycgZm9yIGlkIHNlbGVjdGlvbnNcbiAgICAgICAgICogYW5kICcuJyBmb3IgbmFtZSBzZWxlY3Rpb25zLiAgWW91IGNhbiBhbHNvIHNlbGVjdCBieSB0eXBlIG9yIGNsYXNzIG5hbWUuIFBhc3MgbXVsdGlwbGUgc2VsZWN0b3JzXG4gICAgICAgICAqIHNlcGFyYXRlZCBieSBhIHNwYWNlLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gICAgICAgICAqIEByZXR1cm5zIHtDb2xsZWN0aW9ufVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBzZWxlY3Qgbm9kZSB3aXRoIGlkIGZvb1xuICAgICAgICAgKiB2YXIgbm9kZSA9IHN0YWdlLmZpbmQoJyNmb28nKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gc2VsZWN0IG5vZGVzIHdpdGggbmFtZSBiYXIgaW5zaWRlIGxheWVyXG4gICAgICAgICAqIHZhciBub2RlcyA9IGxheWVyLmZpbmQoJy5iYXInKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gc2VsZWN0IGFsbCBncm91cHMgaW5zaWRlIGxheWVyXG4gICAgICAgICAqIHZhciBub2RlcyA9IGxheWVyLmZpbmQoJ0dyb3VwJyk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIHNlbGVjdCBhbGwgcmVjdGFuZ2xlcyBpbnNpZGUgbGF5ZXJcbiAgICAgICAgICogdmFyIG5vZGVzID0gbGF5ZXIuZmluZCgnUmVjdCcpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBzZWxlY3Qgbm9kZSB3aXRoIGFuIGlkIG9mIGZvbyBvciBhIG5hbWUgb2YgYmFyIGluc2lkZSBsYXllclxuICAgICAgICAgKiB2YXIgbm9kZXMgPSBsYXllci5maW5kKCcjZm9vLCAuYmFyJyk7XG4gICAgICAgICAqL1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIHJldEFyciA9IFtdLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yQXJyID0gc2VsZWN0b3IucmVwbGFjZSgvIC9nLCAnJykuc3BsaXQoJywnKSxcbiAgICAgICAgICAgICAgICBsZW4gPSBzZWxlY3RvckFyci5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbiwgaSwgc2VsLCBhcnIsIG5vZGUsIGNoaWxkcmVuLCBjbGVuO1xuXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICBzZWwgPSBzZWxlY3RvckFycltuXTtcblxuICAgICAgICAgICAgICAgIC8vIGlkIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgaWYoc2VsLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLl9nZXROb2RlQnlJZChzZWwuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICBpZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRBcnIucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBuYW1lIHNlbGVjdG9yXG4gICAgICAgICAgICAgICAgZWxzZSBpZihzZWwuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gdGhpcy5fZ2V0Tm9kZXNCeU5hbWUoc2VsLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0QXJyID0gcmV0QXJyLmNvbmNhdChhcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1bnJlY29nbml6ZWQgc2VsZWN0b3IsIHBhc3MgdG8gY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGNsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0QXJyID0gcmV0QXJyLmNvbmNhdChjaGlsZHJlbltpXS5fZ2V0KHNlbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gS2luZXRpYy5Db2xsZWN0aW9uLnRvQ29sbGVjdGlvbihyZXRBcnIpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0Tm9kZUJ5SWQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBLaW5ldGljLmlkc1trZXldO1xuXG4gICAgICAgICAgICBpZihub2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pc0FuY2VzdG9yT2Yobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0Tm9kZXNCeU5hbWU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIGFyciA9IEtpbmV0aWMubmFtZXNba2V5XSB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhhcnIpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0OiBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIHJldEFyciA9IEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuX2dldC5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICByZXRBcnIgPSByZXRBcnIuY29uY2F0KGNoaWxkcmVuW25dLl9nZXQoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXRBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGV4dGVuZGVyc1xuICAgICAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gS2luZXRpYy5Ob2RlLnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgICAgICAgICBvYmouY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW25dO1xuICAgICAgICAgICAgICAgIG9iai5jaGlsZHJlbi5wdXNoKGNoaWxkLnRvT2JqZWN0KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0RGVzY2VuZGFudHM6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICAgdmFyIHJldEFyciA9IFtdO1xuICAgICAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGFycltuXTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzQW5jZXN0b3JPZihub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXRBcnIucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXRBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmUgaWYgbm9kZSBpcyBhbiBhbmNlc3RvclxuICAgICAgICAgKiBvZiBkZXNjZW5kYW50XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge0tpbmV0aWMuTm9kZX0gbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgaXNBbmNlc3Rvck9mOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgIHdoaWxlKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmKHBhcmVudC5faWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgLy8gY2FsbCBzdXBlciBtZXRob2RcbiAgICAgICAgICAgIHZhciBub2RlID0gS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsIG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKG5vKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGQobm8uY2xvbmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGFsbCBzaGFwZXMgdGhhdCBpbnRlcnNlY3QgYSBwb2ludC4gIE5vdGU6IGJlY2F1c2UgdGhpcyBtZXRob2QgbXVzdCBjbGVhciBhIHRlbXBvcmFyeVxuICAgICAgICAgKiBjYW52YXMgYW5kIHJlZHJhdyBldmVyeSBzaGFwZSBpbnNpZGUgdGhlIGNvbnRhaW5lciwgaXQgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3Igc3BlY2lhbCBzaXRhdGlvbnNcbiAgICAgICAgICogYmVjYXVzZSBpdCBwZXJmb3JtcyB2ZXJ5IHBvb3JseS4gIFBsZWFzZSB1c2UgdGhlIHtAbGluayBLaW5ldGljLlN0YWdlI2dldEludGVyc2VjdGlvbn0gbWV0aG9kIGlmIGF0IGFsbCBwb3NzaWJsZVxuICAgICAgICAgKiBiZWNhdXNlIGl0IHBlcmZvcm1zIG11Y2ggYmV0dGVyXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9zXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3MueFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnlcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fSBhcnJheSBvZiBzaGFwZXNcbiAgICAgICAgICovXG4gICAgICAgIGdldEFsbEludGVyc2VjdGlvbnM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmZpbmQoJ1NoYXBlJykuZWFjaChmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmKHNoYXBlLmlzVmlzaWJsZSgpICYmIHNoYXBlLmludGVyc2VjdHMocG9zKSkge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChzaGFwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRDaGlsZHJlbkluZGljZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGNoaWxkLCBuKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuaW5kZXggPSBuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYXdTY2VuZTogZnVuY3Rpb24oY2FuLCB0b3ApIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBjYW4gfHwgKGxheWVyICYmIGxheWVyLmdldENhbnZhcygpKSxcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzICYmIGNhbnZhcy5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgY2FjaGVkQ2FudmFzID0gdGhpcy5fY2FjaGUuY2FudmFzLFxuICAgICAgICAgICAgICAgIGNhY2hlZFNjZW5lQ2FudmFzID0gY2FjaGVkQ2FudmFzICYmIGNhY2hlZENhbnZhcy5zY2VuZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkU2NlbmVDYW52YXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlZFNjZW5lQ2FudmFzKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NoaWxkcmVuKGNhbnZhcywgJ2RyYXdTY2VuZScsIHRvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYXdIaXQ6IGZ1bmN0aW9uKGNhbiwgdG9wKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCksXG4gICAgICAgICAgICAgICAgY2FudmFzID0gY2FuIHx8IChsYXllciAmJiBsYXllci5oaXRDYW52YXMpLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMgJiYgY2FudmFzLmdldENvbnRleHQoKSxcbiAgICAgICAgICAgICAgICBjYWNoZWRDYW52YXMgPSB0aGlzLl9jYWNoZS5jYW52YXMsXG4gICAgICAgICAgICAgICAgY2FjaGVkSGl0Q2FudmFzID0gY2FjaGVkQ2FudmFzICYmIGNhY2hlZENhbnZhcy5oaXQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZERyYXdIaXQoY2FudmFzKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBsYXllci5jbGVhckhpdENhY2hlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWRIaXRDYW52YXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlZEhpdENhbnZhcyhjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdDaGlsZHJlbihjYW52YXMsICdkcmF3SGl0JywgdG9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX2RyYXdDaGlsZHJlbjogZnVuY3Rpb24oY2FudmFzLCBkcmF3TWV0aG9kLCB0b3ApIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSxcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzICYmIGNhbnZhcy5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgY2xpcFdpZHRoID0gdGhpcy5nZXRDbGlwV2lkdGgoKSxcbiAgICAgICAgICAgICAgICBjbGlwSGVpZ2h0ID0gdGhpcy5nZXRDbGlwSGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgaGFzQ2xpcCA9IGNsaXBXaWR0aCAmJiBjbGlwSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNsaXBYLCBjbGlwWTtcblxuICAgICAgICAgICAgaWYgKGhhc0NsaXAgJiYgbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjbGlwWCA9IHRoaXMuZ2V0Q2xpcFgoKTtcbiAgICAgICAgICAgICAgICBjbGlwWSA9IHRoaXMuZ2V0Q2xpcFkoKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGxheWVyLl9hcHBseVRyYW5zZm9ybSh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChjbGlwWCwgY2xpcFksIGNsaXBXaWR0aCwgY2xpcEhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFtkcmF3TWV0aG9kXShjYW52YXMsIHRvcCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGhhc0NsaXApIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvdWxkRHJhd0hpdDogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgICAgICAgICB2YXIgZGQgPSBLaW5ldGljLkREO1xuICAgICAgICAgICAgdmFyIGxheWVyVW5kZXJEcmFnID0gZGQgJiYgS2luZXRpYy5pc0RyYWdnaW5nKCkgJiYgKEtpbmV0aWMuREQuYW5pbS5nZXRMYXllcnMoKS5pbmRleE9mKGxheWVyKSAhPT0gLTEpO1xuICAgICAgICAgICAgcmV0dXJuICAoY2FudmFzICYmIGNhbnZhcy5pc0NhY2hlKSB8fCAobGF5ZXIgJiYgbGF5ZXIuaGl0R3JhcGhFbmFibGVkKCkpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5pc1Zpc2libGUoKSAmJiAhbGF5ZXJVbmRlckRyYWc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5Db250YWluZXIsIEtpbmV0aWMuTm9kZSk7XG4gICAgLy8gZGVwcmVjYXRlZCBtZXRob2RzXG4gICAgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlLmdldCA9IEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZS5maW5kO1xuXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKEtpbmV0aWMuQ29udGFpbmVyLCAnY2xpcCcsIFsneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCddKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNsaXBcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgY2xpcFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2xpcFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjbGlwLnhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2xpcC55XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNsaXAud2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2xpcC5oZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNsaXBcbiAgICAgKiB2YXIgY2xpcCA9IGNvbnRhaW5lci5jbGlwKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgY2xpcFxuICAgICAqIGNvbnRhaW5lci5zZXRDbGlwKHtcbiAgICAgKiAgIHg6IDIwLFxuICAgICAqICAgeTogMjAsXG4gICAgICogICB3aWR0aDogMjAsXG4gICAgICogICBoZWlnaHQ6IDIwXG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuQ29udGFpbmVyLCAnY2xpcFgnKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNsaXAgeFxuICAgICAqIEBuYW1lIGNsaXBYXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgY2xpcCB4XG4gICAgICogdmFyIGNsaXBYID0gY29udGFpbmVyLmNsaXBYKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgY2xpcCB4XG4gICAgICogY29udGFpbmVyLmNsaXBYKDEwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5Db250YWluZXIsICdjbGlwWScpO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY2xpcCB5XG4gICAgICogQG5hbWUgY2xpcFlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBjbGlwIHlcbiAgICAgKiB2YXIgY2xpcFkgPSBjb250YWluZXIuY2xpcFkoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBjbGlwIHlcbiAgICAgKiBjb250YWluZXIuY2xpcFkoMTApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkNvbnRhaW5lciwgJ2NsaXBXaWR0aCcpO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY2xpcCB3aWR0aFxuICAgICAqIEBuYW1lIGNsaXBXaWR0aFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBjbGlwIHdpZHRoXG4gICAgICogdmFyIGNsaXBXaWR0aCA9IGNvbnRhaW5lci5jbGlwV2lkdGgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBjbGlwIHdpZHRoXG4gICAgICogY29udGFpbmVyLmNsaXBXaWR0aCgxMDApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkNvbnRhaW5lciwgJ2NsaXBIZWlnaHQnKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNsaXAgaGVpZ2h0XG4gICAgICogQG5hbWUgY2xpcEhlaWdodFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgY2xpcCBoZWlnaHRcbiAgICAgKiB2YXIgY2xpcEhlaWdodCA9IGNvbnRhaW5lci5jbGlwSGVpZ2h0KCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgY2xpcCBoZWlnaHRcbiAgICAgKiBjb250YWluZXIuY2xpcEhlaWdodCgxMDApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5Db250YWluZXIpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgdmFyIEhBU19TSEFET1cgPSAnaGFzU2hhZG93JztcblxuICAgIGZ1bmN0aW9uIF9maWxsRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfc3Ryb2tlRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9maWxsRnVuY0hpdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfc3Ryb2tlRnVuY0hpdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsZWFySGFzU2hhZG93Q2FjaGUoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoSEFTX1NIQURPVyk7XG4gICAgfVxuXG4gICAgS2luZXRpYy5VdGlsLmFkZE1ldGhvZHMoS2luZXRpYy5TaGFwZSwge1xuICAgICAgICBfX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5ub2RlVHlwZSA9ICdTaGFwZSc7XG4gICAgICAgICAgICB0aGlzLl9maWxsRnVuYyA9IF9maWxsRnVuYztcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZUZ1bmMgPSBfc3Ryb2tlRnVuYztcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxGdW5jSGl0ID0gX2ZpbGxGdW5jSGl0O1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlRnVuY0hpdCA9IF9zdHJva2VGdW5jSGl0O1xuXG4gICAgICAgICAgICAvLyBzZXQgY29sb3JLZXlcbiAgICAgICAgICAgIHZhciBzaGFwZXMgPSBLaW5ldGljLnNoYXBlcztcbiAgICAgICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgICAgIHdoaWxlKHRydWUpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBLaW5ldGljLlV0aWwuZ2V0UmFuZG9tQ29sb3IoKTtcbiAgICAgICAgICAgICAgICBpZihrZXkgJiYgISgga2V5IGluIHNoYXBlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbG9yS2V5ID0ga2V5O1xuICAgICAgICAgICAgc2hhcGVzW2tleV0gPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLk5vZGUuY2FsbCh0aGlzLCBjb25maWcpO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdzaGFkb3dDb2xvckNoYW5nZS5raW5ldGljIHNoYWRvd0JsdXJDaGFuZ2Uua2luZXRpYyBzaGFkb3dPZmZzZXRDaGFuZ2Uua2luZXRpYyBzaGFkb3dPcGFjaXR5Q2hhbmdlLmtpbmV0aWMgc2hhZG93RW5hYmxlZENoYW5nZS5raW5ldGljJywgX2NsZWFySGFzU2hhZG93Q2FjaGUpO1xuICAgICAgICB9LFxuICAgICAgICBoYXNDaGlsZHJlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoaWxkcmVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBjYW52YXMgY29udGV4dCB0aWVkIHRvIHRoZSBsYXllclxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5Db250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcigpLmdldENvbnRleHQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBjYW52YXMgcmVuZGVyZXIgdGllZCB0byB0aGUgbGF5ZXIuICBOb3RlIHRoYXQgdGhpcyByZXR1cm5zIGEgY2FudmFzIHJlbmRlcmVyLCBub3QgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7S2luZXRpYy5DYW52YXN9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIoKS5nZXRDYW52YXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgd2hldGhlciBvciBub3QgYSBzaGFkb3cgd2lsbCBiZSByZW5kZXJlZFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGhhc1NoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoSEFTX1NIQURPVywgdGhpcy5faGFzU2hhZG93KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2hhc1NoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTaGFkb3dFbmFibGVkKCkgJiYgKHRoaXMuZ2V0U2hhZG93T3BhY2l0eSgpICE9PSAwICYmICEhKHRoaXMuZ2V0U2hhZG93Q29sb3IoKSB8fCB0aGlzLmdldFNoYWRvd0JsdXIoKSB8fCB0aGlzLmdldFNoYWRvd09mZnNldFgoKSB8fCB0aGlzLmdldFNoYWRvd09mZnNldFkoKSkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgd2lsbCBiZSBmaWxsZWRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBoYXNGaWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmdldEZpbGwoKSB8fCB0aGlzLmdldEZpbGxQYXR0ZXJuSW1hZ2UoKSB8fCB0aGlzLmdldEZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKSB8fCB0aGlzLmdldEZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSB3aWxsIGJlIHN0cm9rZWRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBoYXNTdHJva2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuc3Ryb2tlKCkgfHwgdGhpcy5zdHJva2VSZWQoKSB8fCB0aGlzLnN0cm9rZUdyZWVuKCkgfHwgdGhpcy5zdHJva2VCbHVlKCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lcyBpZiBwb2ludCBpcyBpbiB0aGUgc2hhcGUsIHJlZ2FyZGxlc3MgaWYgb3RoZXIgc2hhcGVzIGFyZSBvbiB0b3Agb2YgaXQuICBOb3RlOiBiZWNhdXNlXG4gICAgICAgICAqICB0aGlzIG1ldGhvZCBjbGVhcnMgYSB0ZW1wb3JhcnkgY2FudmFzIGFuZCB0aGVuIHJlZHJhd3MgdGhlIHNoYXBlLCBpdCBwZXJmb3JtcyB2ZXJ5IHBvb3JseSBpZiBleGVjdXRlZCBtYW55IHRpbWVzXG4gICAgICAgICAqICBjb25zZWN1dGl2ZWx5LiAgUGxlYXNlIHVzZSB0aGUge0BsaW5rIEtpbmV0aWMuU3RhZ2UjZ2V0SW50ZXJzZWN0aW9ufSBtZXRob2QgaWYgYXQgYWxsIHBvc3NpYmxlXG4gICAgICAgICAqICBiZWNhdXNlIGl0IHBlcmZvcm1zIG11Y2ggYmV0dGVyXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvaW50LnhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvaW50LnlcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBpbnRlcnNlY3RzOiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgdmFyIHN0YWdlID0gdGhpcy5nZXRTdGFnZSgpLFxuICAgICAgICAgICAgICAgIGJ1ZmZlckhpdENhbnZhcyA9IHN0YWdlLmJ1ZmZlckhpdENhbnZhcyxcbiAgICAgICAgICAgICAgICBwO1xuXG4gICAgICAgICAgICBidWZmZXJIaXRDYW52YXMuZ2V0Q29udGV4dCgpLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdTY2VuZShidWZmZXJIaXRDYW52YXMpO1xuICAgICAgICAgICAgcCA9IGJ1ZmZlckhpdENhbnZhcy5jb250ZXh0LmdldEltYWdlRGF0YShNYXRoLnJvdW5kKHBvaW50LngpLCBNYXRoLnJvdW5kKHBvaW50LnkpLCAxLCAxKS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHBbM10gPiAwO1xuICAgICAgICB9LFxuICAgICAgICAvLyBleHRlbmRzIE5vZGUucHJvdG90eXBlLmRlc3Ryb3kgXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgS2luZXRpYy5zaGFwZXNbdGhpcy5jb2xvcktleV07XG4gICAgICAgIH0sXG4gICAgICAgIF91c2VCdWZmZXJDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmhhc1NoYWRvdygpIHx8IHRoaXMuZ2V0QWJzb2x1dGVPcGFjaXR5KCkgIT09IDEpICYmIHRoaXMuaGFzRmlsbCgpICYmIHRoaXMuaGFzU3Ryb2tlKCkgJiYgdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICB9LFxuICAgICAgICBkcmF3U2NlbmU6IGZ1bmN0aW9uKGNhbiwgdG9wKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCksXG4gICAgICAgICAgICAgICAgY2FudmFzID0gY2FuIHx8IGxheWVyLmdldENhbnZhcygpLFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgIGNhY2hlZENhbnZhcyA9IHRoaXMuX2NhY2hlLmNhbnZhcyxcbiAgICAgICAgICAgICAgICBkcmF3RnVuYyA9IHRoaXMuc2NlbmVGdW5jKCksXG4gICAgICAgICAgICAgICAgaGFzU2hhZG93ID0gdGhpcy5oYXNTaGFkb3coKSxcbiAgICAgICAgICAgICAgICBzdGFnZSwgYnVmZmVyQ2FudmFzLCBidWZmZXJDb250ZXh0O1xuXG4gICAgICAgICAgICBpZih0aGlzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZENhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Q2FjaGVkU2NlbmVDYW52YXMoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRyYXdGdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBidWZmZXIgY2FudmFzIGlzIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdXNlQnVmZmVyQ2FudmFzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlID0gdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyQ2FudmFzID0gc3RhZ2UuYnVmZmVyQ2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyQ29udGV4dCA9IGJ1ZmZlckNhbnZhcy5nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJDb250ZXh0LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckNvbnRleHQuX2FwcGx5TGluZUpvaW4odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXllciBtaWdodCBiZSB1bmRlZmluZWQgaWYgd2UgYXJlIHVzaW5nIGNhY2hlIGJlZm9yZSBhZGRpbmcgdG8gbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLl9hcHBseVRyYW5zZm9ybSh0aGlzLCBidWZmZXJDb250ZXh0LCB0b3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0Z1bmMuY2FsbCh0aGlzLCBidWZmZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU2hhZG93ICYmICFjYW52YXMuaGl0Q2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlTaGFkb3codGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYnVmZmVyQ2FudmFzLl9jYW52YXMsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9hcHBseU9wYWNpdHkodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShidWZmZXJDYW52YXMuX2NhbnZhcywgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYnVmZmVyIGNhbnZhcyBpcyBub3QgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlMaW5lSm9pbih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxheWVyIG1pZ2h0IGJlIHVuZGVmaW5lZCBpZiB3ZSBhcmUgdXNpbmcgY2FjaGUgYmVmb3JlIGFkZGluZyB0byBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuX2FwcGx5VHJhbnNmb3JtKHRoaXMsIGNvbnRleHQsIHRvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gdGhpcy5nZXRBYnNvbHV0ZVRyYW5zZm9ybSh0b3ApLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKG9bMF0sIG9bMV0sIG9bMl0sIG9bM10sIG9bNF0sIG9bNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU2hhZG93ICYmICFjYW52YXMuaGl0Q2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlTaGFkb3codGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0Z1bmMuY2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5fYXBwbHlPcGFjaXR5KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0Z1bmMuY2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkcmF3SGl0OiBmdW5jdGlvbihjYW4sIHRvcCkge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpLFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGNhbiB8fCBsYXllci5oaXRDYW52YXMsXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgZHJhd0Z1bmMgPSB0aGlzLmhpdEZ1bmMoKSB8fCB0aGlzLnNjZW5lRnVuYygpLFxuICAgICAgICAgICAgICAgIGNhY2hlZENhbnZhcyA9IHRoaXMuX2NhY2hlLmNhbnZhcyxcbiAgICAgICAgICAgICAgICBjYWNoZWRIaXRDYW52YXMgPSBjYWNoZWRDYW52YXMgJiYgY2FjaGVkQ2FudmFzLmhpdDtcblxuICAgICAgICAgICAgaWYodGhpcy5zaG91bGREcmF3SGl0KGNhbnZhcykpIHtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xlYXJIaXRDYWNoZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkSGl0Q2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdDYWNoZWRIaXRDYW52YXMoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRyYXdGdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Ll9hcHBseUxpbmVKb2luKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLl9hcHBseVRyYW5zZm9ybSh0aGlzLCBjb250ZXh0LCB0b3ApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSB0aGlzLmdldEFic29sdXRlVHJhbnNmb3JtKHRvcCkuZ2V0TWF0cml4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkcmF3RnVuYy5jYWxsKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgKiBkcmF3IGhpdCBncmFwaCB1c2luZyB0aGUgY2FjaGVkIHNjZW5lIGNhbnZhc1xuICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGFscGhhVGhyZXNob2xkIGFscGhhIGNoYW5uZWwgdGhyZXNob2xkIHRoYXQgZGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdFxuICAgICAgICAqICBhIHBpeGVsIHNob3VsZCBiZSBkcmF3biBvbnRvIHRoZSBoaXQgZ3JhcGguICBNdXN0IGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUuICBcbiAgICAgICAgKiAgVGhlIGRlZmF1bHQgaXMgMFxuICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlNoYXBlfVxuICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICogc2hhcGUuY2FjaGUoKTtcbiAgICAgICAgKiBzaGFwZS5kcmF3SGl0RnJvbUNhY2hlKCk7XG4gICAgICAgICovXG4gICAgICAgIGRyYXdIaXRGcm9tQ2FjaGU6IGZ1bmN0aW9uKGFscGhhVGhyZXNob2xkKSB7XG4gICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gYWxwaGFUaHJlc2hvbGQgfHwgMCxcbiAgICAgICAgICAgICAgICBjYWNoZWRDYW52YXMgPSB0aGlzLl9jYWNoZS5jYW52YXMsXG4gICAgICAgICAgICAgICAgc2NlbmVDYW52YXMgPSB0aGlzLl9nZXRDYWNoZWRTY2VuZUNhbnZhcygpLFxuICAgICAgICAgICAgICAgIHNjZW5lQ29udGV4dCA9IHNjZW5lQ2FudmFzLmdldENvbnRleHQoKSxcbiAgICAgICAgICAgICAgICBoaXRDYW52YXMgPSBjYWNoZWRDYW52YXMuaGl0LFxuICAgICAgICAgICAgICAgIGhpdENvbnRleHQgPSBoaXRDYW52YXMuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gc2NlbmVDYW52YXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBzY2VuZUNhbnZhcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBzY2VuZUltYWdlRGF0YSwgc2NlbmVEYXRhLCBoaXRJbWFnZURhdGEsIGhpdERhdGEsIGxlbiwgcmdiQ29sb3JLZXksIGksIGFscGhhO1xuXG4gICAgICAgICAgICBoaXRDb250ZXh0LmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2NlbmVJbWFnZURhdGEgPSBzY2VuZUNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHNjZW5lRGF0YSA9IHNjZW5lSW1hZ2VEYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgaGl0SW1hZ2VEYXRhID0gaGl0Q29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgaGl0RGF0YSA9IGhpdEltYWdlRGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIGxlbiA9IHNjZW5lRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmdiQ29sb3JLZXkgPSBLaW5ldGljLlV0aWwuX2hleFRvUmdiKHRoaXMuY29sb3JLZXkpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBub24gdHJhbnNwYXJlbnQgcGl4ZWxzIHdpdGggY29sb3Iga2V5XG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSBzY2VuZURhdGFbaSArIDNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGEgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdERhdGFbaV0gPSByZ2JDb2xvcktleS5yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0RGF0YVtpICsgMV0gPSByZ2JDb2xvcktleS5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0RGF0YVtpICsgMl0gPSByZ2JDb2xvcktleS5iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0RGF0YVtpICsgM10gPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBoaXRDb250ZXh0LnB1dEltYWdlRGF0YShoaXRJbWFnZURhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuVXRpbC53YXJuKCdVbmFibGUgdG8gZHJhdyBoaXQgZ3JhcGggZnJvbSBjYWNoZWQgc2NlbmUgY2FudmFzLiAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuU2hhcGUsIEtpbmV0aWMuTm9kZSk7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ3N0cm9rZScpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzdHJva2UgY29sb3JcbiAgICAgKiBAbmFtZSBzdHJva2VcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzdHJva2UgY29sb3JcbiAgICAgKiB2YXIgc3Ryb2tlID0gc2hhcGUuc3Ryb2tlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc3Ryb2tlIGNvbG9yIHdpdGggY29sb3Igc3RyaW5nXG4gICAgICogc2hhcGUuc3Ryb2tlKCdncmVlbicpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHN0cm9rZSBjb2xvciB3aXRoIGhleFxuICAgICAqIHNoYXBlLnN0cm9rZSgnIzAwZmYwMCcpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHN0cm9rZSBjb2xvciB3aXRoIHJnYlxuICAgICAqIHNoYXBlLnN0cm9rZSgncmdiKDAsMjU1LDApJyk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc3Ryb2tlIGNvbG9yIHdpdGggcmdiYSBhbmQgbWFrZSBpdCA1MCUgb3BhcXVlXG4gICAgICogc2hhcGUuc3Ryb2tlKCdyZ2JhKDAsMjU1LDAsMC41Jyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzdHJva2VSZWQnLCAwLCBLaW5ldGljLlZhbGlkYXRvcnMuUkdCQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcbiAgICAgKiBAbmFtZSBzdHJva2VSZWRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSByZWRcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzdHJva2UgcmVkIGNvbXBvbmVudFxuICAgICAqIHZhciBzdHJva2VSZWQgPSBzaGFwZS5zdHJva2VSZWQoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxuICAgICAqIHNoYXBlLnN0cm9rZVJlZCgwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ3N0cm9rZUdyZWVuJywgMCwgS2luZXRpYy5WYWxpZGF0b3JzLlJHQkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcbiAgICAgKiBAbmFtZSBzdHJva2VHcmVlblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGdyZWVuXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxuICAgICAqIHZhciBzdHJva2VHcmVlbiA9IHNoYXBlLnN0cm9rZUdyZWVuKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxuICAgICAqIHNoYXBlLnN0cm9rZUdyZWVuKDI1NSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzdHJva2VCbHVlJywgMCwgS2luZXRpYy5WYWxpZGF0b3JzLlJHQkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxuICAgICAqIEBuYW1lIHN0cm9rZUJsdWVcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBibHVlXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XG4gICAgICogdmFyIHN0cm9rZUJsdWUgPSBzaGFwZS5zdHJva2VCbHVlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XG4gICAgICogc2hhcGUuc3Ryb2tlQmx1ZSgwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ3N0cm9rZUFscGhhJywgMSwgS2luZXRpYy5WYWxpZGF0b3JzLmFscGhhQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudC4gIEFscGhhIGlzIGEgcmVhbCBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAgVGhlIGRlZmF1bHRcbiAgICAgKiAgaXMgMS5cbiAgICAgKiBAbmFtZSBzdHJva2VBbHBoYVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYWxwaGFcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcbiAgICAgKiB2YXIgc3Ryb2tlQWxwaGEgPSBzaGFwZS5zdHJva2VBbHBoYSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcbiAgICAgKiBzaGFwZS5zdHJva2VBbHBoYSgwLjUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc3Ryb2tlV2lkdGgnLCAyKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc3Ryb2tlIHdpZHRoXG4gICAgICogQG5hbWUgc3Ryb2tlV2lkdGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0cm9rZVdpZHRoXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzdHJva2Ugd2lkdGhcbiAgICAgKiB2YXIgc3Ryb2tlV2lkdGggPSBzaGFwZS5zdHJva2VXaWR0aCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHN0cm9rZSB3aWR0aFxuICAgICAqIHNoYXBlLnN0cm9rZVdpZHRoKCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdsaW5lSm9pbicpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBsaW5lIGpvaW4uICBDYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZVxuICAgICAqICBkZWZhdWx0IGlzIG1pdGVyXG4gICAgICogQG5hbWUgbGluZUpvaW5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmVKb2luXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBsaW5lIGpvaW5cbiAgICAgKiB2YXIgbGluZUpvaW4gPSBzaGFwZS5saW5lSm9pbigpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGxpbmUgam9pblxuICAgICAqIHNoYXBlLmxpbmVKb2luKCdyb3VuZCcpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnbGluZUNhcCcpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBsaW5lIGNhcC4gIENhbiBiZSBidXR0LCByb3VuZCwgb3Igc3F1YXJlXG4gICAgICogQG5hbWUgbGluZUNhcFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZUNhcFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgbGluZSBjYXBcbiAgICAgKiB2YXIgbGluZUNhcCA9IHNoYXBlLmxpbmVDYXAoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBsaW5lIGNhcFxuICAgICAqIHNoYXBlLmxpbmVDYXAoJ3JvdW5kJyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzY2VuZUZ1bmMnKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2NlbmUgZHJhdyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHNjZW5lRnVuY1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3RnVuYyBkcmF3aW5nIGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNjZW5lIGRyYXcgZnVuY3Rpb25cbiAgICAgKiB2YXIgc2NlbmVGdW5jID0gc2hhcGUuc2NlbmVGdW5jKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2NlbmUgZHJhdyBmdW5jdGlvblxuICAgICAqIHNoYXBlLnNjZW5lRnVuYyhmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICogICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAqICAgY29udGV4dC5yZWN0KDAsIDAsIHRoaXMud2lkdGgoKSwgdGhpcy5oZWlnaHQoKSk7XG4gICAgICogICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAqICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdoaXRGdW5jJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGhpdCBkcmF3IGZ1bmN0aW9uXG4gICAgICogQG5hbWUgaGl0RnVuY1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3RnVuYyBkcmF3aW5nIGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGhpdCBkcmF3IGZ1bmN0aW9uXG4gICAgICogdmFyIGhpdEZ1bmMgPSBzaGFwZS5oaXRGdW5jKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgaGl0IGRyYXcgZnVuY3Rpb25cbiAgICAgKiBzaGFwZS5oaXRGdW5jKGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgKiAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICogICBjb250ZXh0LnJlY3QoMCwgMCwgdGhpcy53aWR0aCgpLCB0aGlzLmhlaWdodCgpKTtcbiAgICAgKiAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICogICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2Rhc2gnKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZGFzaCBhcnJheSBmb3Igc3Ryb2tlLlxuICAgICAqIEBuYW1lIGRhc2hcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGFzaFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAvLyBhcHBseSBkYXNoZWQgc3Ryb2tlIHRoYXQgaXMgMTBweCBsb25nIGFuZCA1IHBpeGVscyBhcGFydFxuICAgICAqICBsaW5lLmRhc2goWzEwLCA1XSk7XG4gICAgICogIFxuICAgICAqICAvLyBhcHBseSBkYXNoZWQgc3Ryb2tlIHRoYXQgaXMgbWFkZSB1cCBvZiBhbHRlcm5hdGluZyBkYXNoZWQgXG4gICAgICogIC8vIGxpbmVzIHRoYXQgYXJlIDEwcHggbG9uZyBhbmQgMjBweCBhcGFydCwgYW5kIGRvdHMgdGhhdCBoYXZlIFxuICAgICAqICAvLyBhIHJhZGl1cyBvZiA1cHggYW5kIGFyZSAyMHB4IGFwYXJ0XG4gICAgICogIGxpbmUuZGFzaChbMTAsIDIwLCAwLjAwMSwgMjBdKTtcbiAgICAgKi9cblxuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc2hhZG93Q29sb3InKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2hhZG93IGNvbG9yXG4gICAgICogQG5hbWUgc2hhZG93Q29sb3JcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzaGFkb3cgY29sb3JcbiAgICAgKiB2YXIgc2hhZG93ID0gc2hhcGUuc2hhZG93Q29sb3IoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgY29sb3Igd2l0aCBjb2xvciBzdHJpbmdcbiAgICAgKiBzaGFwZS5zaGFkb3dDb2xvcignZ3JlZW4nKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgY29sb3Igd2l0aCBoZXhcbiAgICAgKiBzaGFwZS5zaGFkb3dDb2xvcignIzAwZmYwMCcpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNoYWRvdyBjb2xvciB3aXRoIHJnYlxuICAgICAqIHNoYXBlLnNoYWRvd0NvbG9yKCdyZ2IoMCwyNTUsMCknKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgY29sb3Igd2l0aCByZ2JhIGFuZCBtYWtlIGl0IDUwJSBvcGFxdWVcbiAgICAgKiBzaGFwZS5zaGFkb3dDb2xvcigncmdiYSgwLDI1NSwwLDAuNScpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc2hhZG93UmVkJywgMCwgS2luZXRpYy5WYWxpZGF0b3JzLlJHQkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHNoYWRvdyByZWQgY29tcG9uZW50XG4gICAgICogQG5hbWUgc2hhZG93UmVkXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcmVkXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc2hhZG93IHJlZCBjb21wb25lbnRcbiAgICAgKiB2YXIgc2hhZG93UmVkID0gc2hhcGUuc2hhZG93UmVkKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2hhZG93IHJlZCBjb21wb25lbnRcbiAgICAgKiBzaGFwZS5zaGFkb3dSZWQoMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzaGFkb3dHcmVlbicsIDAsIEtpbmV0aWMuVmFsaWRhdG9ycy5SR0JDb21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzaGFkb3cgZ3JlZW4gY29tcG9uZW50XG4gICAgICogQG5hbWUgc2hhZG93R3JlZW5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBncmVlblxuICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNoYWRvdyBncmVlbiBjb21wb25lbnRcbiAgICAgKiB2YXIgc2hhZG93R3JlZW4gPSBzaGFwZS5zaGFkb3dHcmVlbigpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNoYWRvdyBncmVlbiBjb21wb25lbnRcbiAgICAgKiBzaGFwZS5zaGFkb3dHcmVlbigyNTUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc2hhZG93Qmx1ZScsIDAsIEtpbmV0aWMuVmFsaWRhdG9ycy5SR0JDb21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzaGFkb3cgYmx1ZSBjb21wb25lbnRcbiAgICAgKiBAbmFtZSBzaGFkb3dCbHVlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gYmx1ZVxuICAgICAqIEByZXR1cm5zIHtJbnRlZ2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNoYWRvdyBibHVlIGNvbXBvbmVudFxuICAgICAqIHZhciBzaGFkb3dCbHVlID0gc2hhcGUuc2hhZG93Qmx1ZSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNoYWRvdyBibHVlIGNvbXBvbmVudFxuICAgICAqIHNoYXBlLnNoYWRvd0JsdWUoMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzaGFkb3dBbHBoYScsIDEsIEtpbmV0aWMuVmFsaWRhdG9ycy5hbHBoYUNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHNoYWRvdyBhbHBoYSBjb21wb25lbnQuICBBbHBoYSBpcyBhIHJlYWwgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gIFRoZSBkZWZhdWx0XG4gICAgICogIGlzIDEuXG4gICAgICogQG5hbWUgc2hhZG93QWxwaGFcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzaGFkb3cgYWxwaGEgY29tcG9uZW50XG4gICAgICogdmFyIHNoYWRvd0FscGhhID0gc2hhcGUuc2hhZG93QWxwaGEoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgYWxwaGEgY29tcG9uZW50XG4gICAgICogc2hhcGUuc2hhZG93QWxwaGEoMC41KTtcbiAgICAgKi9cbiAgICAgXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc2hhZG93Qmx1cicpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzaGFkb3cgYmx1clxuICAgICAqIEBuYW1lIHNoYWRvd0JsdXJcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJsdXJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNoYWRvdyBibHVyXG4gICAgICogdmFyIHNoYWRvd0JsdXIgPSBzaGFwZS5zaGFkb3dCbHVyKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2hhZG93IGJsdXJcbiAgICAgKiBzaGFwZS5zaGFkb3dCbHVyKDEwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ3NoYWRvd09wYWNpdHknKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2hhZG93IG9wYWNpdHkuICBtdXN0IGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxXG4gICAgICogQG5hbWUgc2hhZG93T3BhY2l0eVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3BhY2l0eVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc2hhZG93IG9wYWNpdHlcbiAgICAgKiB2YXIgc2hhZG93T3BhY2l0eSA9IHNoYXBlLnNoYWRvd09wYWNpdHkoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgb3BhY2l0eVxuICAgICAqIHNoYXBlLnNoYWRvd09wYWNpdHkoMC41KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzaGFkb3dPZmZzZXQnLCBbJ3gnLCAneSddKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2hhZG93IG9mZnNldFxuICAgICAqIEBuYW1lIHNoYWRvd09mZnNldFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldC54XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldC55XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzaGFkb3cgb2Zmc2V0XG4gICAgICogdmFyIHNoYWRvd09mZnNldCA9IHNoYXBlLnNoYWRvd09mZnNldCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHNoYWRvdyBvZmZzZXRcbiAgICAgKiBzaGFwZS5zaGFkb3dPZmZzZXQoe1xuICAgICAqICAgeDogMjBcbiAgICAgKiAgIHk6IDEwXG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzaGFkb3dPZmZzZXRYJywgMCk7XG5cbiAgICAgLyoqXG4gICAgICogZ2V0L3NldCBzaGFkb3cgb2Zmc2V0IHhcbiAgICAgKiBAbmFtZSBzaGFkb3dPZmZzZXRYXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzaGFkb3cgb2Zmc2V0IHhcbiAgICAgKiB2YXIgc2hhZG93T2Zmc2V0WCA9IHNoYXBlLnNoYWRvd09mZnNldFgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBzaGFkb3cgb2Zmc2V0IHhcbiAgICAgKiBzaGFwZS5zaGFkb3dPZmZzZXRYKDUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc2hhZG93T2Zmc2V0WScsIDApO1xuXG4gICAgIC8qKlxuICAgICAqIGdldC9zZXQgc2hhZG93IG9mZnNldCB5XG4gICAgICogQG5hbWUgc2hhZG93T2Zmc2V0WVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc2hhZG93IG9mZnNldCB5XG4gICAgICogdmFyIHNoYWRvd09mZnNldFkgPSBzaGFwZS5zaGFkb3dPZmZzZXRZKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgc2hhZG93IG9mZnNldCB5XG4gICAgICogc2hhcGUuc2hhZG93T2Zmc2V0WSg1KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxQYXR0ZXJuSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwYXR0ZXJuIGltYWdlXG4gICAgICogQG5hbWUgZmlsbFBhdHRlcm5JbWFnZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2V9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBwYXR0ZXJuIGltYWdlXG4gICAgICogdmFyIGZpbGxQYXR0ZXJuSW1hZ2UgPSBzaGFwZS5maWxsUGF0dGVybkltYWdlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBwYXR0ZXJuIGltYWdlXG4gICAgICogdmFyIGltYWdlT2JqID0gbmV3IEltYWdlKCk7XG4gICAgICogaW1hZ2VPYmoub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICogICBzaGFwZS5maWxsUGF0dGVybkltYWdlKGltYWdlT2JqKTtcbiAgICAgKiB9O1xuICAgICAqIGltYWdlT2JqLnNyYyA9ICdwYXRoL3RvL2ltYWdlL2pwZyc7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgY29sb3JcbiAgICAgKiBAbmFtZSBmaWxsXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBjb2xvclxuICAgICAqIHZhciBmaWxsID0gc2hhcGUuZmlsbCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgY29sb3Igd2l0aCBjb2xvciBzdHJpbmdcbiAgICAgKiBzaGFwZS5maWxsKCdncmVlbicpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgY29sb3Igd2l0aCBoZXhcbiAgICAgKiBzaGFwZS5maWxsKCcjMDBmZjAwJyk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBjb2xvciB3aXRoIHJnYlxuICAgICAqIHNoYXBlLmZpbGwoJ3JnYigwLDI1NSwwKScpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgY29sb3Igd2l0aCByZ2JhIGFuZCBtYWtlIGl0IDUwJSBvcGFxdWVcbiAgICAgKiBzaGFwZS5maWxsKCdyZ2JhKDAsMjU1LDAsMC41Jyk7XG4gICAgICpcbiAgICAgKiAvLyBzaGFwZSB3aXRob3V0IGZpbGxcbiAgICAgKiBzaGFwZS5maWxsKG51bGwpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFJlZCcsIDAsIEtpbmV0aWMuVmFsaWRhdG9ycy5SR0JDb21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHJlZCBjb21wb25lbnRcbiAgICAgKiBAbmFtZSBmaWxsUmVkXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcmVkXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCByZWQgY29tcG9uZW50XG4gICAgICogdmFyIGZpbGxSZWQgPSBzaGFwZS5maWxsUmVkKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCByZWQgY29tcG9uZW50XG4gICAgICogc2hhcGUuZmlsbFJlZCgwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxHcmVlbicsIDAsIEtpbmV0aWMuVmFsaWRhdG9ycy5SR0JDb21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxuICAgICAqIEBuYW1lIGZpbGxHcmVlblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGdyZWVuXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBncmVlbiBjb21wb25lbnRcbiAgICAgKiB2YXIgZmlsbEdyZWVuID0gc2hhcGUuZmlsbEdyZWVuKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcbiAgICAgKiBzaGFwZS5maWxsR3JlZW4oMjU1KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxCbHVlJywgMCwgS2luZXRpYy5WYWxpZGF0b3JzLlJHQkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcbiAgICAgKiBAbmFtZSBmaWxsQmx1ZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGJsdWVcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIGJsdWUgY29tcG9uZW50XG4gICAgICogdmFyIGZpbGxCbHVlID0gc2hhcGUuZmlsbEJsdWUoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XG4gICAgICogc2hhcGUuZmlsbEJsdWUoMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsQWxwaGEnLCAxLCBLaW5ldGljLlZhbGlkYXRvcnMuYWxwaGFDb21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGFscGhhIGNvbXBvbmVudC4gIEFscGhhIGlzIGEgcmVhbCBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAgVGhlIGRlZmF1bHRcbiAgICAgKiAgaXMgMS5cbiAgICAgKiBAbmFtZSBmaWxsQWxwaGFcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIGFscGhhIGNvbXBvbmVudFxuICAgICAqIHZhciBmaWxsQWxwaGEgPSBzaGFwZS5maWxsQWxwaGEoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxuICAgICAqIHNoYXBlLmZpbGxBbHBoYSgwLjUpO1xuICAgICAqL1xuXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsUGF0dGVyblgnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwYXR0ZXJuIHhcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVyblhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiB4XG4gICAgICogdmFyIGZpbGxQYXR0ZXJuWCA9IHNoYXBlLmZpbGxQYXR0ZXJuWCgpO1xuICAgICAqIFxuICAgICAqIC8vIHNldCBmaWxsIHBhdHRlcm4geFxuICAgICAqIHNoYXBlLmZpbGxQYXR0ZXJuWCgyMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsUGF0dGVyblknLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwYXR0ZXJuIHlcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVybllcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiB5XG4gICAgICogdmFyIGZpbGxQYXR0ZXJuWSA9IHNoYXBlLmZpbGxQYXR0ZXJuWSgpO1xuICAgICAqIFxuICAgICAqIC8vIHNldCBmaWxsIHBhdHRlcm4geVxuICAgICAqIHNoYXBlLmZpbGxQYXR0ZXJuWSgyMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgbGluZWFyIGdyYWRpZW50IGNvbG9yIHN0b3BzXG4gICAgICogQG5hbWUgZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb2xvclN0b3BzXG4gICAgICogQHJldHVybnMge0FycmF5fSBjb2xvclN0b3BzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgY29sb3Igc3RvcHNcbiAgICAgKiB2YXIgY29sb3JTdG9wcyA9IHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoKTtcbiAgICAgKlxuICAgICAqIC8vIGNyZWF0ZSBhIGxpbmVhciBncmFkaWVudCB0aGF0IHN0YXJ0cyB3aXRoIHJlZCwgY2hhbmdlcyB0byBibHVlIFxuICAgICAqIC8vIGhhbGZ3YXkgdGhyb3VnaCwgYW5kIHRoZW4gY2hhbmdlcyB0byBncmVlblxuICAgICAqIHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHMoMCwgJ3JlZCcsIDAuNSwgJ2JsdWUnLCAxLCAnZ3JlZW4nKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IHN0YXJ0IHJhZGl1c1xuICAgICAqIEBuYW1lIGZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHJhZGlhbCBncmFkaWVudCBzdGFydCByYWRpdXNcbiAgICAgKiB2YXIgc3RhcnRSYWRpdXMgPSBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHJhZGlhbCBncmFkaWVudCBzdGFydCByYWRpdXNcbiAgICAgKiBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1cygwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1cycsIDApO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHJhZGlhbCBncmFkaWVudCBlbmQgcmFkaXVzXG4gICAgICogQG5hbWUgZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHJhZGlhbCBncmFkaWVudCBlbmQgcmFkaXVzXG4gICAgICogdmFyIGVuZFJhZGl1cyA9IHNoYXBlLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHJhZGlhbCBncmFkaWVudCBlbmQgcmFkaXVzXG4gICAgICogc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzKDEwMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzJyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IGNvbG9yIHN0b3BzXG4gICAgICogQG5hbWUgZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29sb3JTdG9wc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIHJhZGlhbCBncmFkaWVudCBjb2xvciBzdG9wc1xuICAgICAqIHZhciBjb2xvclN0b3BzID0gc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wcygpO1xuICAgICAqXG4gICAgICogLy8gY3JlYXRlIGEgcmFkaWFsIGdyYWRpZW50IHRoYXQgc3RhcnRzIHdpdGggcmVkLCBjaGFuZ2VzIHRvIGJsdWUgXG4gICAgICogLy8gaGFsZndheSB0aHJvdWdoLCBhbmQgdGhlbiBjaGFuZ2VzIHRvIGdyZWVuXG4gICAgICogc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wcygwLCAncmVkJywgMC41LCAnYmx1ZScsIDEsICdncmVlbicpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFBhdHRlcm5SZXBlYXQnLCAncmVwZWF0Jyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgcGF0dGVybiByZXBlYXQuICBDYW4gYmUgJ3JlcGVhdCcsICdyZXBlYXQteCcsICdyZXBlYXQteScsIG9yICduby1yZXBlYXQnLiAgVGhlIGRlZmF1bHQgaXMgJ3JlcGVhdCdcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVyblJlcGVhdFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVwZWF0XG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIHBhdHRlcm4gcmVwZWF0XG4gICAgICogdmFyIHJlcGVhdCA9IHNoYXBlLmZpbGxQYXR0ZXJuUmVwZWF0KCk7XG4gICAgICpcbiAgICAgKiAvLyByZXBlYXQgcGF0dGVybiBpbiB4IGRpcmVjdGlvbiBvbmx5XG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5SZXBlYXQoJ3JlcGVhdC14Jyk7XG4gICAgICpcbiAgICAgKiAvLyBkbyBub3QgcmVwZWF0IHRoZSBwYXR0ZXJuXG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5SZXBlYXQoJ25vIHJlcGVhdCcpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbEVuYWJsZWQnLCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBlbmFibGVkIGZsYWdcbiAgICAgKiBAbmFtZSBmaWxsRW5hYmxlZFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZWRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIGVuYWJsZWQgZmxhZ1xuICAgICAqIHZhciBmaWxsRW5hYmxlZCA9IHNoYXBlLmZpbGxFbmFibGVkKCk7XG4gICAgICpcbiAgICAgKiAvLyBkaXNhYmxlIGZpbGxcbiAgICAgKiBzaGFwZS5maWxsRW5hYmxlZChmYWxzZSk7XG4gICAgICpcbiAgICAgKiAvLyBlbmFibGUgZmlsbFxuICAgICAqIHNoYXBlLmZpbGxFbmFibGVkKHRydWUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnc3Ryb2tlRW5hYmxlZCcsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzdHJva2UgZW5hYmxlZCBmbGFnXG4gICAgICogQG5hbWUgc3Ryb2tlRW5hYmxlZFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZWRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBzdHJva2UgZW5hYmxlZCBmbGFnXG4gICAgICogdmFyIHN0cm9rZUVuYWJsZWQgPSBzaGFwZS5zdHJva2VFbmFibGVkKCk7XG4gICAgICpcbiAgICAgKiAvLyBkaXNhYmxlIHN0cm9rZVxuICAgICAqIHNoYXBlLnN0cm9rZUVuYWJsZWQoZmFsc2UpO1xuICAgICAqXG4gICAgICogLy8gZW5hYmxlIHN0cm9rZVxuICAgICAqIHNoYXBlLnN0cm9rZUVuYWJsZWQodHJ1ZSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdzaGFkb3dFbmFibGVkJywgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHNoYWRvdyBlbmFibGVkIGZsYWdcbiAgICAgKiBAbmFtZSBzaGFkb3dFbmFibGVkXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5hYmxlZFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHNoYWRvdyBlbmFibGVkIGZsYWdcbiAgICAgKiB2YXIgc2hhZG93RW5hYmxlZCA9IHNoYXBlLnNoYWRvd0VuYWJsZWQoKTtcbiAgICAgKlxuICAgICAqIC8vIGRpc2FibGUgc2hhZG93XG4gICAgICogc2hhcGUuc2hhZG93RW5hYmxlZChmYWxzZSk7XG4gICAgICpcbiAgICAgKiAvLyBlbmFibGUgc2hhZG93XG4gICAgICogc2hhcGUuc2hhZG93RW5hYmxlZCh0cnVlKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2Rhc2hFbmFibGVkJywgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGRhc2ggZW5hYmxlZCBmbGFnXG4gICAgICogQG5hbWUgZGFzaEVuYWJsZWRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGVkXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZGFzaCBlbmFibGVkIGZsYWdcbiAgICAgKiB2YXIgZGFzaEVuYWJsZWQgPSBzaGFwZS5kYXNoRW5hYmxlZCgpO1xuICAgICAqXG4gICAgICogLy8gZGlzYWJsZSBkYXNoXG4gICAgICogc2hhcGUuZGFzaEVuYWJsZWQoZmFsc2UpO1xuICAgICAqXG4gICAgICogLy8gZW5hYmxlIGRhc2hcbiAgICAgKiBzaGFwZS5kYXNoRW5hYmxlZCh0cnVlKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ3N0cm9rZVNjYWxlRW5hYmxlZCcsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBzdHJva2VTY2FsZSBlbmFibGVkIGZsYWdcbiAgICAgKiBAbmFtZSBzdHJva2VTY2FsZUVuYWJsZWRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBlbmFibGVkXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgc3Ryb2tlIHNjYWxlIGVuYWJsZWQgZmxhZ1xuICAgICAqIHZhciBzdHJva2VTY2FsZUVuYWJsZWQgPSBzaGFwZS5zdHJva2VTY2FsZUVuYWJsZWQoKTtcbiAgICAgKlxuICAgICAqIC8vIGRpc2FibGUgc3Ryb2tlIHNjYWxlXG4gICAgICogc2hhcGUuc3Ryb2tlU2NhbGVFbmFibGVkKGZhbHNlKTtcbiAgICAgKlxuICAgICAqIC8vIGVuYWJsZSBzdHJva2Ugc2NhbGVcbiAgICAgKiBzaGFwZS5zdHJva2VTY2FsZUVuYWJsZWQodHJ1ZSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsUHJpb3JpdHknLCAnY29sb3InKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwcmlvcml0eS4gIGNhbiBiZSBjb2xvciwgcGF0dGVybiwgbGluZWFyLWdyYWRpZW50LCBvciByYWRpYWwtZ3JhZGllbnQuICBUaGUgZGVmYXVsdCBpcyBjb2xvci5cbiAgICAgKiAgIFRoaXMgaXMgaGFuZHkgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuXG4gICAgICogQG5hbWUgZmlsbFByaW9yaXR5XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcmlvcml0eVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBwcmlvcml0eVxuICAgICAqIHZhciBmaWxsUHJpb3JpdHkgPSBzaGFwZS5maWxsUHJpb3JpdHkoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIHByaW9yaXR5XG4gICAgICogc2hhcGUuZmlsbFByaW9yaXR5KCdsaW5lYXItZ3JhZGllbnQnKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsUGF0dGVybk9mZnNldCcsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHBhdHRlcm4gb2Zmc2V0XG4gICAgICogQG5hbWUgZmlsbFBhdHRlcm5PZmZzZXRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9mZnNldFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQueFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQueVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBwYXR0ZXJuIG9mZnNldFxuICAgICAqIHZhciBwYXR0ZXJuT2Zmc2V0ID0gc2hhcGUuZmlsbFBhdHRlcm5PZmZzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIHBhdHRlcm4gb2Zmc2V0XG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5PZmZzZXQoe1xuICAgICAqICAgeDogMjBcbiAgICAgKiAgIHk6IDEwXG4gICAgICogfSk7XG4gICAgICovXG5cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxQYXR0ZXJuT2Zmc2V0WCcsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwYXR0ZXJuIG9mZnNldCB4XG4gICAgICogQG5hbWUgZmlsbFBhdHRlcm5PZmZzZXRYXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIHBhdHRlcm4gb2Zmc2V0IHhcbiAgICAgKiB2YXIgcGF0dGVybk9mZnNldFggPSBzaGFwZS5maWxsUGF0dGVybk9mZnNldFgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIHBhdHRlcm4gb2Zmc2V0IHhcbiAgICAgKiBzaGFwZS5maWxsUGF0dGVybk9mZnNldFgoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFBhdHRlcm5PZmZzZXRZJywgMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHBhdHRlcm4gb2Zmc2V0IHlcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVybk9mZnNldFlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiBvZmZzZXQgeVxuICAgICAqIHZhciBwYXR0ZXJuT2Zmc2V0WSA9IHNoYXBlLmZpbGxQYXR0ZXJuT2Zmc2V0WSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgcGF0dGVybiBvZmZzZXQgeVxuICAgICAqIHNoYXBlLmZpbGxQYXR0ZXJuT2Zmc2V0WSgxMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFBhdHRlcm5TY2FsZScsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHBhdHRlcm4gc2NhbGVcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVyblNjYWxlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzY2FsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZS54XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlLnlcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiBzY2FsZVxuICAgICAqIHZhciBwYXR0ZXJuU2NhbGUgPSBzaGFwZS5maWxsUGF0dGVyblNjYWxlKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBwYXR0ZXJuIHNjYWxlXG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5TY2FsZSh7XG4gICAgICogICB4OiAyXG4gICAgICogICB5OiAyXG4gICAgICogfSk7XG4gICAgICovXG5cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxQYXR0ZXJuU2NhbGVYJywgMSk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHBhdHRlcm4gc2NhbGUgeFxuICAgICAqIEBuYW1lIGZpbGxQYXR0ZXJuU2NhbGVYXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIHBhdHRlcm4gc2NhbGUgeFxuICAgICAqIHZhciBwYXR0ZXJuU2NhbGVYID0gc2hhcGUuZmlsbFBhdHRlcm5TY2FsZVgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIHBhdHRlcm4gc2NhbGUgeFxuICAgICAqIHNoYXBlLmZpbGxQYXR0ZXJuU2NhbGVYKDIpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFBhdHRlcm5TY2FsZVknLCAxKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgcGF0dGVybiBzY2FsZSB5XG4gICAgICogQG5hbWUgZmlsbFBhdHRlcm5TY2FsZVlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiBzY2FsZSB5XG4gICAgICogdmFyIHBhdHRlcm5TY2FsZVkgPSBzaGFwZS5maWxsUGF0dGVyblNjYWxlWSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgcGF0dGVybiBzY2FsZSB5XG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5TY2FsZVkoMik7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludCcsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGxpbmVhciBncmFkaWVudCBzdGFydCBwb2ludFxuICAgICAqIEBuYW1lIGZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXJ0UG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRQb2ludC54XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0UG9pbnQueVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgc3RhcnQgcG9pbnRcbiAgICAgKiB2YXIgc3RhcnRQb2ludCA9IHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnQoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIGxpbmVhciBncmFkaWVudCBzdGFydCBwb2ludFxuICAgICAqIHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnQoe1xuICAgICAqICAgeDogMjBcbiAgICAgKiAgIHk6IDEwXG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WCcsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgc3RhcnQgcG9pbnQgeFxuICAgICAqIEBuYW1lIGZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIGxpbmVhciBncmFkaWVudCBzdGFydCBwb2ludCB4XG4gICAgICogdmFyIHN0YXJ0UG9pbnRYID0gc2hhcGUuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIGxpbmVhciBncmFkaWVudCBzdGFydCBwb2ludCB4XG4gICAgICogc2hhcGUuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFgoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFknLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgbGluZWFyIGdyYWRpZW50IHN0YXJ0IHBvaW50IHlcbiAgICAgKiBAbmFtZSBmaWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgc3RhcnQgcG9pbnQgeVxuICAgICAqIHZhciBzdGFydFBvaW50WSA9IHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgc3RhcnQgcG9pbnQgeVxuICAgICAqIHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKEtpbmV0aWMuU2hhcGUsICdmaWxsTGluZWFyR3JhZGllbnRFbmRQb2ludCcsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGxpbmVhciBncmFkaWVudCBlbmQgcG9pbnRcbiAgICAgKiBAbmFtZSBmaWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZW5kUG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kUG9pbnQueFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRQb2ludC55XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmaWxsIGxpbmVhciBncmFkaWVudCBlbmQgcG9pbnRcbiAgICAgKiB2YXIgZW5kUG9pbnQgPSBzaGFwZS5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgbGluZWFyIGdyYWRpZW50IGVuZCBwb2ludFxuICAgICAqIHNoYXBlLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50KHtcbiAgICAgKiAgIHg6IDIwXG4gICAgICogICB5OiAxMFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYJywgMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGxpbmVhciBncmFkaWVudCBlbmQgcG9pbnQgeFxuICAgICAqIEBuYW1lIGZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgZW5kIHBvaW50IHhcbiAgICAgKiB2YXIgZW5kUG9pbnRYID0gc2hhcGUuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgZW5kIHBvaW50IHhcbiAgICAgKiBzaGFwZS5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFgoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZJywgMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIGxpbmVhciBncmFkaWVudCBlbmQgcG9pbnQgeVxuICAgICAqIEBuYW1lIGZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgZW5kIHBvaW50IHlcbiAgICAgKiB2YXIgZW5kUG9pbnRZID0gc2hhcGUuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBsaW5lYXIgZ3JhZGllbnQgZW5kIHBvaW50IHlcbiAgICAgKiBzaGFwZS5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFkoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZENvbXBvbmVudHNHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnQnLCBbJ3gnLCAneSddKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgc3RhcnQgcG9pbnRcbiAgICAgKiBAbmFtZSBmaWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFydFBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0UG9pbnQueFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFBvaW50LnlcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IHN0YXJ0IHBvaW50XG4gICAgICogdmFyIHN0YXJ0UG9pbnQgPSBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50KCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgc3RhcnQgcG9pbnRcbiAgICAgKiBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50KHtcbiAgICAgKiAgIHg6IDIwXG4gICAgICogICB5OiAxMFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFgnLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IHN0YXJ0IHBvaW50IHhcbiAgICAgKiBAbmFtZSBmaWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TaGFwZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgc3RhcnQgcG9pbnQgeFxuICAgICAqIHZhciBzdGFydFBvaW50WCA9IHNoYXBlLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgc3RhcnQgcG9pbnQgeFxuICAgICAqIHNoYXBlLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZJywgMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmaWxsIHJhZGlhbCBncmFkaWVudCBzdGFydCBwb2ludCB5XG4gICAgICogQG5hbWUgZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IHN0YXJ0IHBvaW50IHlcbiAgICAgKiB2YXIgc3RhcnRQb2ludFkgPSBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IHN0YXJ0IHBvaW50IHlcbiAgICAgKiBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WSgyMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLlNoYXBlLCAnZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnQnLCBbJ3gnLCAneSddKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgZW5kIHBvaW50XG4gICAgICogQG5hbWUgZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVuZFBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZFBvaW50LnhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kUG9pbnQueVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgZW5kIHBvaW50XG4gICAgICogdmFyIGVuZFBvaW50ID0gc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnQoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBmaWxsIHJhZGlhbCBncmFkaWVudCBlbmQgcG9pbnRcbiAgICAgKiBzaGFwZS5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludCh7XG4gICAgICogICB4OiAyMFxuICAgICAqICAgeTogMTBcbiAgICAgKiB9KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WCcsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgZW5kIHBvaW50IHhcbiAgICAgKiBAbmFtZSBmaWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IGVuZCBwb2ludCB4XG4gICAgICogdmFyIGVuZFBvaW50WCA9IHNoYXBlLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IGVuZCBwb2ludCB4XG4gICAgICogc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WScsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCByYWRpYWwgZ3JhZGllbnQgZW5kIHBvaW50IHlcbiAgICAgKiBAbmFtZSBmaWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU2hhcGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IGVuZCBwb2ludCB5XG4gICAgICogdmFyIGVuZFBvaW50WSA9IHNoYXBlLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZpbGwgcmFkaWFsIGdyYWRpZW50IGVuZCBwb2ludCB5XG4gICAgICogc2hhcGUuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TaGFwZSwgJ2ZpbGxQYXR0ZXJuUm90YXRpb24nLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZmlsbCBwYXR0ZXJuIHJvdGF0aW9uIGluIGRlZ3JlZXNcbiAgICAgKiBAbmFtZSBmaWxsUGF0dGVyblJvdGF0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNoYXBlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByb3RhdGlvblxuICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlNoYXBlfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGZpbGwgcGF0dGVybiByb3RhdGlvblxuICAgICAqIHZhciBwYXR0ZXJuUm90YXRpb24gPSBzaGFwZS5maWxsUGF0dGVyblJvdGF0aW9uKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZmlsbCBwYXR0ZXJuIHJvdGF0aW9uXG4gICAgICogc2hhcGUuZmlsbFBhdHRlcm5Sb3RhdGlvbigyMCk7XG4gICAgICovXG5cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5iYWNrQ29tcGF0KEtpbmV0aWMuU2hhcGUsIHtcbiAgICAgICAgZGFzaEFycmF5OiAnZGFzaCcsXG4gICAgICAgIGdldERhc2hBcnJheTogJ2dldERhc2gnLFxuICAgICAgICBzZXREYXNoQXJyYXk6ICdnZXREYXNoJyxcblxuICAgICAgICBkcmF3RnVuYzogJ3NjZW5lRnVuYycsXG4gICAgICAgIGdldERyYXdGdW5jOiAnZ2V0U2NlbmVGdW5jJyxcbiAgICAgICAgc2V0RHJhd0Z1bmM6ICdzZXRTY2VuZUZ1bmMnLFxuXG4gICAgICAgIGRyYXdIaXRGdW5jOiAnaGl0RnVuYycsXG4gICAgICAgIGdldERyYXdIaXRGdW5jOiAnZ2V0SGl0RnVuYycsXG4gICAgICAgIHNldERyYXdIaXRGdW5jOiAnc2V0SGl0RnVuYydcbiAgICB9KTtcblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuU2hhcGUpO1xufSkoKTtcbjsvKmpzaGludCB1bnVzZWQ6ZmFsc2UgKi9cbihmdW5jdGlvbigpIHtcbiAgICAvLyBDT05TVEFOVFNcbiAgICB2YXIgU1RBR0UgPSAnU3RhZ2UnLFxuICAgICAgICBTVFJJTkcgPSAnc3RyaW5nJyxcbiAgICAgICAgUFggPSAncHgnLFxuXG4gICAgICAgIE1PVVNFT1VUID0gJ21vdXNlb3V0JyxcbiAgICAgICAgTU9VU0VMRUFWRSA9ICdtb3VzZWxlYXZlJyxcbiAgICAgICAgTU9VU0VPVkVSID0gJ21vdXNlb3ZlcicsXG4gICAgICAgIE1PVVNFRU5URVIgPSAnbW91c2VlbnRlcicsXG4gICAgICAgIE1PVVNFTU9WRSA9ICdtb3VzZW1vdmUnLFxuICAgICAgICBNT1VTRURPV04gPSAnbW91c2Vkb3duJyxcbiAgICAgICAgTU9VU0VVUCA9ICdtb3VzZXVwJyxcbiAgICAgICAgQ0xJQ0sgPSAnY2xpY2snLFxuICAgICAgICBEQkxfQ0xJQ0sgPSAnZGJsY2xpY2snLFxuICAgICAgICBUT1VDSFNUQVJUID0gJ3RvdWNoc3RhcnQnLFxuICAgICAgICBUT1VDSEVORCA9ICd0b3VjaGVuZCcsXG4gICAgICAgIFRBUCA9ICd0YXAnLFxuICAgICAgICBEQkxfVEFQID0gJ2RibHRhcCcsXG4gICAgICAgIFRPVUNITU9WRSA9ICd0b3VjaG1vdmUnLFxuICAgICAgICBET01NT1VTRVNDUk9MTCA9ICdET01Nb3VzZVNjcm9sbCcsXG4gICAgICAgIE1PVVNFV0hFRUwgPSAnbW91c2V3aGVlbCcsXG4gICAgICAgIFdIRUVMID0gJ3doZWVsJyxcblxuICAgICAgICBDT05URU5UX01PVVNFT1VUID0gJ2NvbnRlbnRNb3VzZW91dCcsXG4gICAgICAgIENPTlRFTlRfTU9VU0VPVkVSID0gJ2NvbnRlbnRNb3VzZW92ZXInLFxuICAgICAgICBDT05URU5UX01PVVNFTU9WRSA9ICdjb250ZW50TW91c2Vtb3ZlJyxcbiAgICAgICAgQ09OVEVOVF9NT1VTRURPV04gPSAnY29udGVudE1vdXNlZG93bicsXG4gICAgICAgIENPTlRFTlRfTU9VU0VVUCA9ICdjb250ZW50TW91c2V1cCcsXG4gICAgICAgIENPTlRFTlRfQ0xJQ0sgPSAnY29udGVudENsaWNrJyxcbiAgICAgICAgQ09OVEVOVF9EQkxfQ0xJQ0sgPSAnY29udGVudERibGNsaWNrJyxcbiAgICAgICAgQ09OVEVOVF9UT1VDSFNUQVJUID0gJ2NvbnRlbnRUb3VjaHN0YXJ0JyxcbiAgICAgICAgQ09OVEVOVF9UT1VDSEVORCA9ICdjb250ZW50VG91Y2hlbmQnLFxuICAgICAgICBDT05URU5UX0RCTF9UQVAgPSAnY29udGVudERibHRhcCcsXG4gICAgICAgIENPTlRFTlRfVE9VQ0hNT1ZFID0gJ2NvbnRlbnRUb3VjaG1vdmUnLFxuXG4gICAgICAgIERJViA9ICdkaXYnLFxuICAgICAgICBSRUxBVElWRSA9ICdyZWxhdGl2ZScsXG4gICAgICAgIElOTElORV9CTE9DSyA9ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICBLSU5FVElDSlNfQ09OVEVOVCA9ICdraW5ldGljanMtY29udGVudCcsXG4gICAgICAgIFNQQUNFID0gJyAnLFxuICAgICAgICBVTkRFUlNDT1JFID0gJ18nLFxuICAgICAgICBDT05UQUlORVIgPSAnY29udGFpbmVyJyxcbiAgICAgICAgRU1QVFlfU1RSSU5HID0gJycsXG4gICAgICAgIEVWRU5UUyA9IFtNT1VTRURPV04sIE1PVVNFTU9WRSwgTU9VU0VVUCwgTU9VU0VPVVQsIFRPVUNIU1RBUlQsIFRPVUNITU9WRSwgVE9VQ0hFTkQsIE1PVVNFT1ZFUiwgRE9NTU9VU0VTQ1JPTEwsIE1PVVNFV0hFRUwsIFdIRUVMXSxcblxuICAgICAgICAvLyBjYWNoZWQgdmFyaWFibGVzXG4gICAgICAgIGV2ZW50c0xlbmd0aCA9IEVWRU5UUy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiBhZGRFdmVudChjdHgsIGV2ZW50TmFtZSkge1xuICAgICAgICBjdHguY29udGVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICBjdHhbVU5ERVJTQ09SRSArIGV2ZW50TmFtZV0oZXZ0KTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIEtpbmV0aWMuVXRpbC5hZGRNZXRob2RzKEtpbmV0aWMuU3RhZ2UsIHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gU1RBR0U7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLkNvbnRhaW5lci5jYWxsKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IEtpbmV0aWMuaWRDb3VudGVyKys7XG4gICAgICAgICAgICB0aGlzLl9idWlsZERPTSgpO1xuICAgICAgICAgICAgdGhpcy5fYmluZENvbnRlbnRFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU5lc3RlZFRyYW5zZm9ybXMgPSBmYWxzZTtcbiAgICAgICAgICAgIEtpbmV0aWMuc3RhZ2VzLnB1c2godGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIF92YWxpZGF0ZUFkZDogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXRUeXBlKCkgIT09ICdMYXllcicpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwuZXJyb3IoJ1lvdSBtYXkgb25seSBhZGQgbGF5ZXJzIHRvIHRoZSBzdGFnZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCBjb250YWluZXIgZG9tIGVsZW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIHN0YWdlIHdyYXBwZXIgZGl2IGVsZW1lbnRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtEb21FbGVtZW50fSBjb250YWluZXIgY2FuIHBhc3MgaW4gYSBkb20gZWxlbWVudCBvciBpZCBzdHJpbmdcbiAgICAgICAgICovXG4gICAgICAgIHNldENvbnRhaW5lcjogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICAgICAgICBpZiggdHlwZW9mIGNvbnRhaW5lciA9PT0gU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IEtpbmV0aWMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAnQ2FuIG5vdCBmaW5kIGNvbnRhaW5lciBpbiBkb2N1bWVudCB3aXRoIGlkICcgKyBpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZXRBdHRyKENPTlRBSU5FUiwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBzaG91bGREcmF3SGl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBkcmF3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuZHJhdy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkcmF3IGxheWVyIHNjZW5lIGdyYXBoc1xuICAgICAgICAgKiBAbmFtZSBkcmF3XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3RhZ2UucHJvdG90eXBlXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkcmF3IGxheWVyIGhpdCBncmFwaHNcbiAgICAgICAgICogQG5hbWUgZHJhd0hpdFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlN0YWdlLnByb3RvdHlwZVxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IGhlaWdodFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlN0YWdlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCkge1xuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zZXRIZWlnaHQuY2FsbCh0aGlzLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplRE9NKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB3aWR0aFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlN0YWdlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcbiAgICAgICAgICovXG4gICAgICAgIHNldFdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zZXRXaWR0aC5jYWxsKHRoaXMsIHdpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZURPTSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGVhciBhbGwgbGF5ZXJzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3RhZ2UucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXJzID0gdGhpcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBsZW4gPSBsYXllcnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG47XG5cbiAgICAgICAgICAgIGZvcihuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJzW25dLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iai5jb250YWluZXIgPSBLaW5ldGljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoRElWKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIEtpbmV0aWMuQ29udGFpbmVyLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsIG9iaik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXN0cm95IHN0YWdlXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3RhZ2UucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5jb250ZW50O1xuICAgICAgICAgICAgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgaWYoY29udGVudCAmJiBLaW5ldGljLlV0aWwuX2lzSW5Eb2N1bWVudChjb250ZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQoY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLaW5ldGljLnN0YWdlcy5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLnN0YWdlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHBvaW50ZXIgcG9zaXRpb24gd2hpY2ggY2FuIGJlIGEgdG91Y2ggcG9zaXRpb24gb3IgbW91c2UgcG9zaXRpb25cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldFBvaW50ZXJQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyUG9zO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTdGFnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBzdGFnZSBjb250ZW50IGRpdiBlbGVtZW50IHdoaWNoIGhhcyB0aGVcbiAgICAgICAgICogIHRoZSBjbGFzcyBuYW1lIFwia2luZXRpY2pzLWNvbnRlbnRcIlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlN0YWdlLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSBkYXRhIFVSTCBhbmQgcmVxdWlyZXMgYSBjYWxsYmFjayBiZWNhdXNlIHRoZSBjb21wb3NpdGUgaXMgZ2VuZXJhdGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlN0YWdlLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZy5jYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCB3aGVuIHRoZSBjb21wb3NpdGUgaGFzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5taW1lVHlwZV0gY2FuIGJlIFwiaW1hZ2UvcG5nXCIgb3IgXCJpbWFnZS9qcGVnXCIuXG4gICAgICAgICAqICBcImltYWdlL3BuZ1wiIGlzIHRoZSBkZWZhdWx0XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdIHggcG9zaXRpb24gb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV0geSBwb3NpdGlvbiBvZiBjYW52YXMgc2VjdGlvblxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF0gd2lkdGggb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XSBoZWlnaHQgb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucXVhbGl0eV0ganBlZyBxdWFsaXR5LiAgSWYgdXNpbmcgYW4gXCJpbWFnZS9qcGVnXCIgbWltZVR5cGUsXG4gICAgICAgICAqICB5b3UgY2FuIHNwZWNpZnkgdGhlIHF1YWxpdHkgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdmVyeSBwb29yIHF1YWxpdHkgYW5kIDFcbiAgICAgICAgICogIGlzIHZlcnkgaGlnaCBxdWFsaXR5XG4gICAgICAgICAqL1xuICAgICAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgbWltZVR5cGUgPSBjb25maWcubWltZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBxdWFsaXR5ID0gY29uZmlnLnF1YWxpdHkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICB4ID0gY29uZmlnLnggfHwgMCxcbiAgICAgICAgICAgICAgICB5ID0gY29uZmlnLnkgfHwgMCxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBuZXcgS2luZXRpYy5TY2VuZUNhbnZhcyh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb25maWcud2lkdGggfHwgdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHQgfHwgdGhpcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoKS5fY29udGV4dCxcbiAgICAgICAgICAgICAgICBsYXllcnMgPSB0aGlzLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBpZih4IHx8IHkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50cmFuc2xhdGUoLTEgKiB4LCAtMSAqIHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3TGF5ZXIobikge1xuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IGxheWVyc1tuXSxcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJVcmwgPSBsYXllci50b0RhdGFVUkwoKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VPYmogPSBuZXcgS2luZXRpYy53aW5kb3cuSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgIGltYWdlT2JqLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VPYmosIDAsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKG4gPCBsYXllcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0xheWVyKG4gKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayhjYW52YXMudG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltYWdlT2JqLnNyYyA9IGxheWVyVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0xheWVyKDApO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogY29udmVydHMgc3RhZ2UgaW50byBhbiBpbWFnZS5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWcuY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgd2hlbiB0aGUgY29tcG9zaXRlIGhhcyBjb21wbGV0ZWRcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubWltZVR5cGVdIGNhbiBiZSBcImltYWdlL3BuZ1wiIG9yIFwiaW1hZ2UvanBlZ1wiLlxuICAgICAgICAgKiAgXCJpbWFnZS9wbmdcIiBpcyB0aGUgZGVmYXVsdFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XSB4IHBvc2l0aW9uIG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldIHkgcG9zaXRpb24gb2YgY2FudmFzIHNlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdIHdpZHRoIG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF0gaGVpZ2h0IG9mIGNhbnZhcyBzZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnF1YWxpdHldIGpwZWcgcXVhbGl0eS4gIElmIHVzaW5nIGFuIFwiaW1hZ2UvanBlZ1wiIG1pbWVUeXBlLFxuICAgICAgICAgKiAgeW91IGNhbiBzcGVjaWZ5IHRoZSBxdWFsaXR5IGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHZlcnkgcG9vciBxdWFsaXR5IGFuZCAxXG4gICAgICAgICAqICBpcyB2ZXJ5IGhpZ2ggcXVhbGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgdG9JbWFnZTogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgY2IgPSBjb25maWcuY2FsbGJhY2s7XG5cbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGFVcmwpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwuX2dldEltYWdlKGRhdGFVcmwsIGZ1bmN0aW9uKGltZykge1xuICAgICAgICAgICAgICAgICAgICBjYihpbWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudG9EYXRhVVJMKGNvbmZpZyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgdmlzaWJsZSBpbnRlcnNlY3Rpb24gc2hhcGUuIFRoaXMgaXMgdGhlIHByZWZlcnJlZFxuICAgICAgICAgKiAgbWV0aG9kIGZvciBkZXRlcm1pbmluZyBpZiBhIHBvaW50IGludGVyc2VjdHMgYSBzaGFwZSBvciBub3RcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBvc1xuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvcy55XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlNoYXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SW50ZXJzZWN0aW9uOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSB0aGlzLmdldENoaWxkcmVuKCksXG4gICAgICAgICAgICAgICAgbGVuID0gbGF5ZXJzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBlbmQgPSBsZW4gLSAxLFxuICAgICAgICAgICAgICAgIG4sIHNoYXBlO1xuXG4gICAgICAgICAgICBmb3IobiA9IGVuZDsgbiA+PSAwOyBuLS0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZSA9IGxheWVyc1tuXS5nZXRJbnRlcnNlY3Rpb24ocG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIF9yZXNpemVET006IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSB0aGlzLmdldENoaWxkcmVuKCksXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IGxheWVycy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG4sIGxheWVyO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IGNvbnRlbnQgZGltZW5zaW9uc1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgUFg7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFBYO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJDYW52YXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlckhpdENhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IGxheWVyIGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBsYXllciA9IGxheWVyc1tuXTtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFkZCBsYXllciBvciBsYXllcnMgdG8gc3RhZ2VcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFnZS5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHsuLi5LaW5ldGljLkxheWVyfSBsYXllclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBzdGFnZS5hZGQobGF5ZXIxLCBsYXllcjIsIGxheWVyMyk7XG4gICAgICAgICAqL1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgbGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIuX3NldENhbnZhc1NpemUodGhpcy53aWR0aCgpLCB0aGlzLmhlaWdodCgpKTtcblxuICAgICAgICAgICAgLy8gZHJhdyBsYXllciBhbmQgYXBwZW5kIGNhbnZhcyB0byBjb250YWluZXJcbiAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hcHBlbmRDaGlsZChsYXllci5jYW52YXMuX2NhbnZhcyk7XG5cbiAgICAgICAgICAgIC8vIGNoYWluYWJsZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhcmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIGEge0BsaW5rIEtpbmV0aWMuQ29sbGVjdGlvbn0gb2YgbGF5ZXJzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3RhZ2UucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXllcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2JpbmRDb250ZW50RXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZXZlbnRzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgICAgICBhZGRFdmVudCh0aGlzLCBFVkVOVFNbbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfbW91c2VvdmVyOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGlmICghS2luZXRpYy5VQS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFTlRfTU9VU0VPVkVSLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX21vdXNlb3V0OiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGlmICghS2luZXRpYy5VQS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0U2hhcGUgPSB0aGlzLnRhcmdldFNoYXBlO1xuXG4gICAgICAgICAgICAgICAgaWYodGFyZ2V0U2hhcGUgJiYgIUtpbmV0aWMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFNoYXBlLl9maXJlQW5kQnViYmxlKE1PVVNFT1VULCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VMRUFWRSwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2hhcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJQb3MgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFTlRfTU9VU0VPVVQsIHtldnQ6IGV2dH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfbW91c2Vtb3ZlOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBtb2JpbGUgSUUgdG8gZm9yY2UgdG91Y2ggZXZlbnQgd2hlbiB1bmhhbmRsZWQgcG9pbnRlciBldmVudCBlbGV2YXRlcyBpbnRvIGEgbW91c2UgZXZlbnRcbiAgICAgICAgICAgIGlmIChLaW5ldGljLlVBLmllTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvdWNobW92ZShldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZha2UgbW91c2Vtb3ZlIGV2ZW50IGluIGNocm9tZSBicm93c2VyIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xNjE0NjRcbiAgICAgICAgICAgIGlmICgodHlwZW9mIGV2dC53ZWJraXRNb3ZlbWVudFggIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBldnQud2Via2l0TW92ZW1lbnRZICE9PSAndW5kZWZpbmVkJykgJiYgZXZ0LndlYmtpdE1vdmVtZW50WSA9PT0gMCAmJiBldnQud2Via2l0TW92ZW1lbnRYID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEtpbmV0aWMuVUEubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2V0UG9pbnRlclBvc2l0aW9uKGV2dCk7XG4gICAgICAgICAgICB2YXIgZGQgPSBLaW5ldGljLkRELCBzaGFwZTtcblxuICAgICAgICAgICAgaWYgKCFLaW5ldGljLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHNoYXBlID0gdGhpcy5nZXRJbnRlcnNlY3Rpb24odGhpcy5nZXRQb2ludGVyUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgaWYoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZighS2luZXRpYy5pc0RyYWdnaW5nKCkgJiYgKCF0aGlzLnRhcmdldFNoYXBlIHx8IHRoaXMudGFyZ2V0U2hhcGUuX2lkICE9PSBzaGFwZS5faWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRhcmdldFNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTaGFwZS5fZmlyZUFuZEJ1YmJsZShNT1VTRU9VVCwge2V2dDogZXZ0fSwgc2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VMRUFWRSwge2V2dDogZXZ0fSwgc2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VPVkVSLCB7ZXZ0OiBldnR9LCB0aGlzLnRhcmdldFNoYXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKE1PVVNFRU5URVIsIHtldnQ6IGV2dH0sIHRoaXMudGFyZ2V0U2hhcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTaGFwZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VNT1ZFLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIGlmIG5vIHNoYXBlIHdhcyBkZXRlY3RlZCwgY2xlYXIgdGFyZ2V0IHNoYXBlIGFuZCB0cnlcbiAgICAgICAgICAgICAgICAgKiB0byBydW4gbW91c2VvdXQgZnJvbSBwcmV2aW91cyB0YXJnZXQgc2hhcGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50YXJnZXRTaGFwZSAmJiAhS2luZXRpYy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VPVVQsIHtldnQ6IGV2dH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRTaGFwZS5fZmlyZUFuZEJ1YmJsZShNT1VTRUxFQVZFLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0U2hhcGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb250ZW50IGV2ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZShDT05URU5UX01PVVNFTU9WRSwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkZCkge1xuICAgICAgICAgICAgICAgIGRkLl9kcmFnKGV2dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFsd2F5cyBjYWxsIHByZXZlbnREZWZhdWx0IGZvciBkZXNrdG9wIGV2ZW50cyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgIC8vIHRyeSB0byBkcmFnIGFuZCBkcm9wIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfbW91c2Vkb3duOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBtb2JpbGUgSUUgdG8gZm9yY2UgdG91Y2ggZXZlbnQgd2hlbiB1bmhhbmRsZWQgcG9pbnRlciBldmVudCBlbGV2YXRlcyBpbnRvIGEgbW91c2UgZXZlbnQgICAgICAgXG4gICAgICAgICAgICBpZiAoS2luZXRpYy5VQS5pZU1vYmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3VjaHN0YXJ0KGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghS2luZXRpYy5VQS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSB0aGlzLmdldEludGVyc2VjdGlvbih0aGlzLmdldFBvaW50ZXJQb3NpdGlvbigpKTtcblxuICAgICAgICAgICAgICAgIEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlICYmIHNoYXBlLmlzTGlzdGVuaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlja1N0YXJ0U2hhcGUgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUuX2ZpcmVBbmRCdWJibGUoTU9VU0VET1dOLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb250ZW50IGV2ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZShDT05URU5UX01PVVNFRE9XTiwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFsd2F5cyBjYWxsIHByZXZlbnREZWZhdWx0IGZvciBkZXNrdG9wIGV2ZW50cyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgIC8vIHRyeSB0byBkcmFnIGFuZCBkcm9wIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfbW91c2V1cDogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgbW9iaWxlIElFIHRvIGZvcmNlIHRvdWNoIGV2ZW50IHdoZW4gdW5oYW5kbGVkIHBvaW50ZXIgZXZlbnQgZWxldmF0ZXMgaW50byBhIG1vdXNlIGV2ZW50ICAgICAgIFxuICAgICAgICAgICAgaWYgKEtpbmV0aWMuVUEuaWVNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdG91Y2hlbmQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghS2luZXRpYy5VQS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSB0aGlzLmdldEludGVyc2VjdGlvbih0aGlzLmdldFBvaW50ZXJQb3NpdGlvbigpKSxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tTdGFydFNoYXBlID0gdGhpcy5jbGlja1N0YXJ0U2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGZpcmVEYmxDbGljayA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZCA9IEtpbmV0aWMuREQ7XG5cbiAgICAgICAgICAgICAgICBpZihLaW5ldGljLmluRGJsQ2xpY2tXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZURibENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgS2luZXRpYy5pbkRibENsaWNrV2luZG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBpbkRibENsaWNrV2luZG93IGFmdGVyIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWRkIHx8ICFkZC5qdXN0RHJhZ2dlZCkge1xuICAgICAgICAgICAgICAgICAgICBLaW5ldGljLmluRGJsQ2xpY2tXaW5kb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGQuanVzdERyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBLaW5ldGljLmluRGJsQ2xpY2tXaW5kb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCBLaW5ldGljLmRibENsaWNrV2luZG93KTtcblxuICAgICAgICAgICAgICAgIGlmIChzaGFwZSAmJiBzaGFwZS5pc0xpc3RlbmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKE1PVVNFVVAsIHtldnQ6IGV2dH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGVjdCBpZiBjbGljayBvciBkb3VibGUgY2xpY2sgb2NjdXJyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYoS2luZXRpYy5saXN0ZW5DbGlja1RhcCAmJiBjbGlja1N0YXJ0U2hhcGUgJiYgY2xpY2tTdGFydFNoYXBlLl9pZCA9PT0gc2hhcGUuX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShDTElDSywge2V2dDogZXZ0fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpcmVEYmxDbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKERCTF9DTElDSywge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29udGVudCBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFTlRfTU9VU0VVUCwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICAgICAgaWYgKEtpbmV0aWMubGlzdGVuQ2xpY2tUYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyZShDT05URU5UX0NMSUNLLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZURibENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFTlRfREJMX0NMSUNLLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWx3YXlzIGNhbGwgcHJldmVudERlZmF1bHQgZm9yIGRlc2t0b3AgZXZlbnRzIGJlY2F1c2Ugc29tZSBicm93c2Vyc1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGRyYWcgYW5kIGRyb3AgdGhlIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICBpZiAoZXZ0LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF90b3VjaHN0YXJ0OiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFBvaW50ZXJQb3NpdGlvbihldnQpO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gdGhpcy5nZXRJbnRlcnNlY3Rpb24odGhpcy5nZXRQb2ludGVyUG9zaXRpb24oKSk7XG5cbiAgICAgICAgICAgIEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFwU3RhcnRTaGFwZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKFRPVUNIU1RBUlQsIHtldnQ6IGV2dH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gb25seSBjYWxsIHByZXZlbnREZWZhdWx0IGlmIHRoZSBzaGFwZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmIChzaGFwZS5pc0xpc3RlbmluZygpICYmIGV2dC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb250ZW50IGV2ZW50XG4gICAgICAgICAgICB0aGlzLl9maXJlKENPTlRFTlRfVE9VQ0hTVEFSVCwge2V2dDogZXZ0fSk7XG4gICAgICAgIH0sXG4gICAgICAgIF90b3VjaGVuZDogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IHRoaXMuZ2V0SW50ZXJzZWN0aW9uKHRoaXMuZ2V0UG9pbnRlclBvc2l0aW9uKCkpLFxuICAgICAgICAgICAgICAgIGZpcmVEYmxDbGljayA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZihLaW5ldGljLmluRGJsQ2xpY2tXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICBmaXJlRGJsQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuaW5EYmxDbGlja1dpbmRvdyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgS2luZXRpYy5pbkRibENsaWNrV2luZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLmluRGJsQ2xpY2tXaW5kb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIEtpbmV0aWMuZGJsQ2xpY2tXaW5kb3cpO1xuXG4gICAgICAgICAgICBpZiAoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKFRPVUNIRU5ELCB7ZXZ0OiBldnR9KTtcblxuICAgICAgICAgICAgICAgIC8vIGRldGVjdCBpZiB0YXAgb3IgZG91YmxlIHRhcCBvY2N1cnJlZFxuICAgICAgICAgICAgICAgIGlmKEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgJiYgc2hhcGUuX2lkID09PSB0aGlzLnRhcFN0YXJ0U2hhcGUuX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLl9maXJlQW5kQnViYmxlKFRBUCwge2V2dDogZXZ0fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZURibENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShEQkxfVEFQLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvbmx5IGNhbGwgcHJldmVudERlZmF1bHQgaWYgdGhlIHNoYXBlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlLmlzTGlzdGVuaW5nKCkgJiYgZXZ0LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnRlbnQgZXZlbnRzXG4gICAgICAgICAgICBpZiAoS2luZXRpYy5saXN0ZW5DbGlja1RhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmUoQ09OVEVOVF9UT1VDSEVORCwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICAgICAgaWYoZmlyZURibENsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmUoQ09OVEVOVF9EQkxfVEFQLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEtpbmV0aWMubGlzdGVuQ2xpY2tUYXAgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgX3RvdWNobW92ZTogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRQb2ludGVyUG9zaXRpb24oZXZ0KTtcbiAgICAgICAgICAgIHZhciBkZCA9IEtpbmV0aWMuREQsXG4gICAgICAgICAgICAgICAgc2hhcGU7XG4gICAgICAgICAgICBpZiAoIUtpbmV0aWMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgc2hhcGUgPSB0aGlzLmdldEludGVyc2VjdGlvbih0aGlzLmdldFBvaW50ZXJQb3NpdGlvbigpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGUgJiYgc2hhcGUuaXNMaXN0ZW5pbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShUT1VDSE1PVkUsIHtldnQ6IGV2dH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGNhbGwgcHJldmVudERlZmF1bHQgaWYgdGhlIHNoYXBlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFwZS5pc0xpc3RlbmluZygpICYmIGV2dC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZShDT05URU5UX1RPVUNITU9WRSwge2V2dDogZXZ0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkZCkge1xuICAgICAgICAgICAgICAgIGRkLl9kcmFnKGV2dCk7XG4gICAgICAgICAgICAgICAgaWYgKEtpbmV0aWMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX0RPTU1vdXNlU2Nyb2xsOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNld2hlZWwoZXZ0KTtcbiAgICAgICAgfSxcbiAgICAgICAgX21vdXNld2hlZWw6IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0UG9pbnRlclBvc2l0aW9uKGV2dCk7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSB0aGlzLmdldEludGVyc2VjdGlvbih0aGlzLmdldFBvaW50ZXJQb3NpdGlvbigpKTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlICYmIHNoYXBlLmlzTGlzdGVuaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBzaGFwZS5fZmlyZUFuZEJ1YmJsZShNT1VTRVdIRUVMLCB7ZXZ0OiBldnR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX3doZWVsOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNld2hlZWwoZXZ0KTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldFBvaW50ZXJQb3NpdGlvbjogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICB2YXIgY29udGVudFBvc2l0aW9uID0gdGhpcy5fZ2V0Q29udGVudFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0WCA9IGV2dC5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIGNsaWVudFggPSBldnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB4ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB5ID0gbnVsbCxcbiAgICAgICAgICAgICAgICB0b3VjaDtcbiAgICAgICAgICAgIGV2dCA9IGV2dCA/IGV2dCA6IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgLy8gdG91Y2ggZXZlbnRzXG4gICAgICAgICAgICBpZihldnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY3VycmVudGx5LCBvbmx5IGhhbmRsZSBvbmUgZmluZ2VyXG4gICAgICAgICAgICAgICAgaWYgKGV2dC50b3VjaGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGV2dC50b3VjaGVzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgaW5mb3JtYXRpb24gZm9yIGZpbmdlciAjMVxuICAgICAgICAgICAgICAgICAgICB4ID0gdG91Y2guY2xpZW50WCAtIGNvbnRlbnRQb3NpdGlvbi5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICB5ID0gdG91Y2guY2xpZW50WSAtIGNvbnRlbnRQb3NpdGlvbi50b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbW91c2UgZXZlbnRzXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBvZmZzZXRYIGlzIGRlZmluZWQsIGFzc3VtZSB0aGF0IG9mZnNldFkgaXMgZGVmaW5lZCBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgaWYgKG9mZnNldFggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gb2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGV2dC5vZmZzZXRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB3ZSB1bmZvcnR1bmF0ZWx5IGhhdmUgdG8gdXNlIFVBIGRldGVjdGlvbiBoZXJlIGJlY2F1c2UgYWNjZXNzaW5nXG4gICAgICAgICAgICAgICAgLy8gdGhlIGxheWVyWCBvciBsYXllclkgcHJvcGVydGllcyBpbiBuZXdlciB2ZXJzaW9ucyBvZiBDaHJvbWVcbiAgICAgICAgICAgICAgICAvLyB0aHJvd3MgYSBKUyB3YXJuaW5nLiAgbGF5ZXJYIGFuZCBsYXllclkgYXJlIHJlcXVpcmVkIGZvciBGRlxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGNvbnRhaW5lciBpcyB0cmFuc2Zvcm1lZCB2aWEgQ1NTLlxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEtpbmV0aWMuVUEuYnJvd3NlciA9PT0gJ21vemlsbGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBldnQubGF5ZXJYO1xuICAgICAgICAgICAgICAgICAgICB5ID0gZXZ0LmxheWVyWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgY2xpZW50WCBpcyBkZWZpbmVkLCBhc3N1bWUgdGhhdCBjbGllbnRZIGlzIGRlZmluZWQgYXMgd2VsbFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNsaWVudFggIT09IHVuZGVmaW5lZCAmJiBjb250ZW50UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IGNsaWVudFggLSBjb250ZW50UG9zaXRpb24ubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGV2dC5jbGllbnRZIC0gY29udGVudFBvc2l0aW9uLnRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh4ICE9PSBudWxsICYmIHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJQb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfZ2V0Q29udGVudFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByZWN0ID0gdGhpcy5jb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCA/IHRoaXMuY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBfYnVpbGRET006IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGlmIChLaW5ldGljLlV0aWwuaXNCcm93c2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1N0YWdlIGhhcyBubyBjb250YWluZXIuIEEgY29udGFpbmVyIGlzIHJlcXVpcmVkLic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSBjcmVhdGUgZWxlbWVudCBmb3IganNkb20gaW4gbm9kZWpzIGVudlxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBLaW5ldGljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoRElWKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBjb250ZW50IGluc2lkZSBjb250YWluZXJcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBFTVBUWV9TVFJJTkc7XG5cbiAgICAgICAgICAgIC8vIGNvbnRlbnRcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IEtpbmV0aWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChESVYpO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLnBvc2l0aW9uID0gUkVMQVRJVkU7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUuZGlzcGxheSA9IElOTElORV9CTE9DSztcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5jbGFzc05hbWUgPSBLSU5FVElDSlNfQ09OVEVOVDtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtcblxuICAgICAgICAgICAgLy8gdGhlIGJ1ZmZlciBjYW52YXMgcGl4ZWwgcmF0aW8gbXVzdCBiZSAxIGJlY2F1c2UgaXQgaXMgdXNlZCBhcyBhbiBcbiAgICAgICAgICAgIC8vIGludGVybWVkaWF0ZSBjYW52YXMgYmVmb3JlIGNvcHlpbmcgdGhlIHJlc3VsdCBvbnRvIGEgc2NlbmUgY2FudmFzLlxuICAgICAgICAgICAgLy8gbm90IHNldHRpbmcgaXQgdG8gMSB3aWxsIHJlc3VsdCBpbiBhbiBvdmVyIGNvbXBlbnNhdGlvblxuICAgICAgICAgICAgdGhpcy5idWZmZXJDYW52YXMgPSBuZXcgS2luZXRpYy5TY2VuZUNhbnZhcyh7XG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckhpdENhbnZhcyA9IG5ldyBLaW5ldGljLkhpdENhbnZhcygpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNpemVET00oKTtcbiAgICAgICAgfSxcbiAgICAgICAgX29uQ29udGVudDogZnVuY3Rpb24odHlwZXNTdHIsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IHR5cGVzU3RyLnNwbGl0KFNQQUNFKSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0eXBlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbiwgYmFzZUV2ZW50O1xuXG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBsZW47IG4rKykge1xuICAgICAgICAgICAgICAgIGJhc2VFdmVudCA9IHR5cGVzW25dO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5hZGRFdmVudExpc3RlbmVyKGJhc2VFdmVudCwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBjdXJyZW50bHkgY2FjaGUgZnVuY3Rpb24gaXMgbm93IHdvcmtpbmcgZm9yIHN0YWdlLCBiZWNhdXNlIHN0YWdlIGhhcyBubyBpdHMgb3duIGNhbnZhcyBlbGVtZW50XG4gICAgICAgIC8vIFRPRE86IG1heSBiZSBpdCBpcyBiZXR0ZXIgdG8gY2FjaGUgYWxsIGNoaWxkcmVuIGxheWVycz9cbiAgICAgICAgY2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ0NhY2hlIGZ1bmN0aW9uIGlzIG5vdCBhbGxvd2VkIGZvciBzdGFnZS4gWW91IG1heSB1c2UgY2FjaGUgb25seSBmb3IgbGF5ZXJzLCBncm91cHMgYW5kIHNoYXBlcy4nKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDYWNoZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlN0YWdlLCBLaW5ldGljLkNvbnRhaW5lcik7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXIoS2luZXRpYy5TdGFnZSwgJ2NvbnRhaW5lcicpO1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRPdmVybG9hZGVkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU3RhZ2UsICdjb250YWluZXInKTtcblxuICAgIC8qKlxuICAgICAqIGdldCBjb250YWluZXIgRE9NIGVsZW1lbnRcbiAgICAgKiBAbmFtZSBjb250YWluZXJcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3RhZ2UucHJvdG90eXBlXG4gICAgICogQHJldHVybnMge0RvbUVsZW1lbnR9IGNvbnRhaW5lclxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNvbnRhaW5lclxuICAgICAqIHZhciBjb250YWluZXIgPSBzdGFnZS5jb250YWluZXIoKTtcbiAgICAgKiBcbiAgICAgKiAvLyBzZXQgY29udGFpbmVyXG4gICAgICogdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAqIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgKiBzdGFnZS5jb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgKi9cblxufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgS2luZXRpYy5VdGlsLmFkZE1ldGhvZHMoS2luZXRpYy5CYXNlTGF5ZXIsIHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gJ0xheWVyJztcbiAgICAgICAgICAgIEtpbmV0aWMuQ29udGFpbmVyLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlUE5HU3RyZWFtIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuX2NhbnZhcy5jcmVhdGVQTkdTdHJlYW0oKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBsYXllciBjYW52YXNcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5CYXNlTGF5ZXIucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGxheWVyIGhpdCBjYW52YXNcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5CYXNlTGF5ZXIucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIaXRDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGl0Q2FudmFzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGxheWVyIGNhbnZhcyBjb250ZXh0XG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQmFzZUxheWVyLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYW52YXMoKS5nZXRDb250ZXh0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGVhciBzY2VuZSBhbmQgaGl0IGNhbnZhcyBjb250ZXh0cyB0aWVkIHRvIHRoZSBsYXllclxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkJhc2VMYXllci5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtib3VuZHNdXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLnhdXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLnldXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLndpZHRoXVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy5oZWlnaHRdXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxheWVyLmNsZWFyKCk7XG4gICAgICAgICAqIGxheWVyLmNsZWFyKHtcbiAgICAgICAgICogICB4IDogMCxcbiAgICAgICAgICogICB5IDogMCxcbiAgICAgICAgICogICB3aWR0aCA6IDEwMCxcbiAgICAgICAgICogICBoZWlnaHQgOiAxMDBcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcjogZnVuY3Rpb24oYm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLmdldENvbnRleHQoKS5jbGVhcihib3VuZHMpO1xuICAgICAgICAgICAgdGhpcy5nZXRIaXRDYW52YXMoKS5nZXRDb250ZXh0KCkuY2xlYXIoYm91bmRzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckhpdENhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpdEltYWdlRGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gZXh0ZW5kIE5vZGUucHJvdG90eXBlLnNldFpJbmRleFxuICAgICAgICBzZXRaSW5kZXg6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLnNldFpJbmRleC5jYWxsKHRoaXMsIGluZGV4KTtcbiAgICAgICAgICAgIHZhciBzdGFnZSA9IHRoaXMuZ2V0U3RhZ2UoKTtcbiAgICAgICAgICAgIGlmKHN0YWdlKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLmdldENhbnZhcygpLl9jYW52YXMpO1xuXG4gICAgICAgICAgICAgICAgaWYoaW5kZXggPCBzdGFnZS5nZXRDaGlsZHJlbigpLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5pbnNlcnRCZWZvcmUodGhpcy5nZXRDYW52YXMoKS5fY2FudmFzLCBzdGFnZS5nZXRDaGlsZHJlbigpW2luZGV4ICsgMV0uZ2V0Q2FudmFzKCkuX2NhbnZhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGV4dGVuZCBOb2RlLnByb3RvdHlwZS5tb3ZlVG9Ub3BcbiAgICAgICAgbW92ZVRvVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUubW92ZVRvVG9wLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICBpZihzdGFnZSkge1xuICAgICAgICAgICAgICAgIHN0YWdlLmNvbnRlbnQucmVtb3ZlQ2hpbGQodGhpcy5nZXRDYW52YXMoKS5fY2FudmFzKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGV4dGVuZCBOb2RlLnByb3RvdHlwZS5tb3ZlVXBcbiAgICAgICAgbW92ZVVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKEtpbmV0aWMuTm9kZS5wcm90b3R5cGUubW92ZVVwLmNhbGwodGhpcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICAgICAgaWYoc3RhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLmdldENhbnZhcygpLl9jYW52YXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaW5kZXggPCBzdGFnZS5nZXRDaGlsZHJlbigpLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcywgc3RhZ2UuZ2V0Q2hpbGRyZW4oKVt0aGlzLmluZGV4ICsgMV0uZ2V0Q2FudmFzKCkuX2NhbnZhcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGV4dGVuZCBOb2RlLnByb3RvdHlwZS5tb3ZlRG93blxuICAgICAgICBtb3ZlRG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihLaW5ldGljLk5vZGUucHJvdG90eXBlLm1vdmVEb3duLmNhbGwodGhpcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICAgICAgaWYoc3RhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gc3RhZ2UuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50Lmluc2VydEJlZm9yZSh0aGlzLmdldENhbnZhcygpLl9jYW52YXMsIGNoaWxkcmVuW3RoaXMuaW5kZXggKyAxXS5nZXRDYW52YXMoKS5fY2FudmFzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGV4dGVuZCBOb2RlLnByb3RvdHlwZS5tb3ZlVG9Cb3R0b21cbiAgICAgICAgbW92ZVRvQm90dG9tOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKEtpbmV0aWMuTm9kZS5wcm90b3R5cGUubW92ZVRvQm90dG9tLmNhbGwodGhpcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhZ2UgPSB0aGlzLmdldFN0YWdlKCk7XG4gICAgICAgICAgICAgICAgaWYoc3RhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gc3RhZ2UuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICAgICAgICAgICAgICBzdGFnZS5jb250ZW50Lmluc2VydEJlZm9yZSh0aGlzLmdldENhbnZhcygpLl9jYW52YXMsIGNoaWxkcmVuWzFdLmdldENhbnZhcygpLl9jYW52YXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2NhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcztcblxuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgaWYoX2NhbnZhcyAmJiBfY2FudmFzLnBhcmVudE5vZGUgJiYgS2luZXRpYy5VdGlsLl9pc0luRG9jdW1lbnQoX2NhbnZhcykpIHtcbiAgICAgICAgICAgICAgICBfY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX2NhbnZhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXRTaXplIDogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldC9zZXQgd2lkdGggb2YgbGF5ZXIuZ2V0dGVyIHJldHVybiB3aWR0aCBvZiBzdGFnZS4gc2V0dGVyIGRvaW5nIG5vdGhpbmcuXG4gICAgICAgICAqIGlmIHlvdSB3YW50IGNoYW5nZSB3aWR0aCB1c2UgYHN0YWdlLndpZHRoKHZhbHVlKTtgXG4gICAgICAgICAqIEBuYW1lIHdpZHRoXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQmFzZUxheWVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgd2lkdGggPSBsYXllci53aWR0aCgpO1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0V2lkdGggOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRXaWR0aCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ0NhbiBub3QgY2hhbmdlIHdpZHRoIG9mIGxheWVyLiBVc2UgXCJzdGFnZS53aWR0aCh2YWx1ZSlcIiBmdW5jdGlvbiBpbnN0ZWFkLicpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0L3NldCBoZWlnaHQgb2YgbGF5ZXIuZ2V0dGVyIHJldHVybiBoZWlnaHQgb2Ygc3RhZ2UuIHNldHRlciBkb2luZyBub3RoaW5nLlxuICAgICAgICAgKiBpZiB5b3Ugd2FudCBjaGFuZ2UgaGVpZ2h0IHVzZSBgc3RhZ2UuaGVpZ2h0KHZhbHVlKTtgXG4gICAgICAgICAqIEBuYW1lIGhlaWdodFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkJhc2VMYXllci5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIGhlaWdodCA9IGxheWVyLmhlaWdodCgpO1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SGVpZ2h0IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhlaWdodCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgS2luZXRpYy5VdGlsLndhcm4oJ0NhbiBub3QgY2hhbmdlIGhlaWdodCBvZiBsYXllci4gVXNlIFwic3RhZ2UuaGVpZ2h0KHZhbHVlKVwiIGZ1bmN0aW9uIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuQmFzZUxheWVyLCBLaW5ldGljLkNvbnRhaW5lcik7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5CYXNlTGF5ZXIsICdjbGVhckJlZm9yZURyYXcnLCB0cnVlKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNsZWFyQmVmb3JlRHJhdyBmbGFnIHdoaWNoIGRldGVybWluZXMgaWYgdGhlIGxheWVyIGlzIGNsZWFyZWQgb3Igbm90XG4gICAgICogIGJlZm9yZSBkcmF3aW5nXG4gICAgICogQG5hbWUgY2xlYXJCZWZvcmVEcmF3XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkJhc2VMYXllci5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNsZWFyQmVmb3JlRHJhd1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNsZWFyQmVmb3JlRHJhdyBmbGFnXG4gICAgICogdmFyIGNsZWFyQmVmb3JlRHJhdyA9IGxheWVyLmNsZWFyQmVmb3JlRHJhdygpO1xuICAgICAqXG4gICAgICogLy8gZGlzYWJsZSBjbGVhciBiZWZvcmUgZHJhd1xuICAgICAqIGxheWVyLmNsZWFyQmVmb3JlRHJhdyhmYWxzZSk7XG4gICAgICpcbiAgICAgKiAvLyBlbmFibGUgY2xlYXIgYmVmb3JlIGRyYXdcbiAgICAgKiBsYXllci5jbGVhckJlZm9yZURyYXcodHJ1ZSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLkJhc2VMYXllcik7XG59KSgpO1xuOyhmdW5jdGlvbigpIHtcbiAgICAvLyBjb25zdGFudHNcbiAgICB2YXIgSEFTSCA9ICcjJyxcbiAgICAgICAgQkVGT1JFX0RSQVcgPSdiZWZvcmVEcmF3JyxcbiAgICAgICAgRFJBVyA9ICdkcmF3JyxcblxuICAgICAgICAvKlxuICAgICAgICAgKiAyIC0gMyAtIDRcbiAgICAgICAgICogfCAgICAgICB8XG4gICAgICAgICAqIDEgLSAwICAgNVxuICAgICAgICAgKiAgICAgICAgIHxcbiAgICAgICAgICogOCAtIDcgLSA2ICAgICBcbiAgICAgICAgICovXG4gICAgICAgIElOVEVSU0VDVElPTl9PRkZTRVRTID0gW1xuICAgICAgICAgICAge3g6ICAwLCB5OiAgMH0sIC8vIDBcbiAgICAgICAgICAgIHt4OiAtMSwgeTogIDB9LCAvLyAxXG4gICAgICAgICAgICB7eDogLTEsIHk6IC0xfSwgLy8gMlxuICAgICAgICAgICAge3g6ICAwLCB5OiAtMX0sIC8vIDNcbiAgICAgICAgICAgIHt4OiAgMSwgeTogLTF9LCAvLyA0XG4gICAgICAgICAgICB7eDogIDEsIHk6ICAwfSwgLy8gNVxuICAgICAgICAgICAge3g6ICAxLCB5OiAgMX0sIC8vIDZcbiAgICAgICAgICAgIHt4OiAgMCwgeTogIDF9LCAvLyA3XG4gICAgICAgICAgICB7eDogLTEsIHk6ICAxfSAgLy8gOFxuICAgICAgICBdLFxuICAgICAgICBJTlRFUlNFQ1RJT05fT0ZGU0VUU19MRU4gPSBJTlRFUlNFQ1RJT05fT0ZGU0VUUy5sZW5ndGg7XG5cblxuICAgIEtpbmV0aWMuVXRpbC5hZGRNZXRob2RzKEtpbmV0aWMuTGF5ZXIsIHtcbiAgICAgICAgX19fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5ub2RlVHlwZSA9ICdMYXllcic7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBLaW5ldGljLlNjZW5lQ2FudmFzKCk7XG4gICAgICAgICAgICB0aGlzLmhpdENhbnZhcyA9IG5ldyBLaW5ldGljLkhpdENhbnZhcygpO1xuICAgICAgICAgICAgLy8gY2FsbCBzdXBlciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgS2luZXRpYy5CYXNlTGF5ZXIuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0Q2FudmFzU2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuaGl0Q2FudmFzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0sXG4gICAgICAgIF92YWxpZGF0ZUFkZDogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gY2hpbGQuZ2V0VHlwZSgpO1xuICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdHcm91cCcgJiYgdHlwZSAhPT0gJ1NoYXBlJykge1xuICAgICAgICAgICAgICAgIEtpbmV0aWMuVXRpbC5lcnJvcignWW91IG1heSBvbmx5IGFkZCBncm91cHMgYW5kIHNoYXBlcyB0byBhIGxheWVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHZpc2libGUgaW50ZXJzZWN0aW9uIHNoYXBlLiBUaGlzIGlzIHRoZSBwcmVmZXJyZWRcbiAgICAgICAgICogbWV0aG9kIGZvciBkZXRlcm1pbmluZyBpZiBhIHBvaW50IGludGVyc2VjdHMgYSBzaGFwZSBvciBub3RcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5MYXllci5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBvc1xuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zLnhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvcy55XG4gICAgICAgICAqIEByZXR1cm5zIHtLaW5ldGljLlNoYXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SW50ZXJzZWN0aW9uOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgIHZhciBvYmosIGksIGludGVyc2VjdGlvbk9mZnNldCwgc2hhcGU7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuaGl0R3JhcGhFbmFibGVkKCkgJiYgdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIGluIHNvbWUgY2FzZXMgYW50aWFsaWFzZWQgYXJlYSBtYXkgYmUgYmlnZ2VyIHRoYW4gMXB4XG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgaWYgd2Ugd2lsbCBjYWNoZSBub2RlLCB0aGVuIHNjYWxlIGl0IGEgbG90XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY2hlY2sgeyAwOyAwIH0gcG9pbnQgYmVmb3JlIGxvb3AsIGFuZCByZW1vdmUgaXQgZnJvbSBJTlRFUlNFQ1RJT05fT0ZGU0VUUy5cbiAgICAgICAgICAgICAgICB2YXIgc3BpcmFsU2VhcmNoRGlzdGFuY2UgPSAxO1xuICAgICAgICAgICAgICAgIHZhciBjb250aW51ZVNlYXJjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaT0wOyBpPElOVEVSU0VDVElPTl9PRkZTRVRTX0xFTjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25PZmZzZXQgPSBJTlRFUlNFQ1RJT05fT0ZGU0VUU1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHRoaXMuX2dldEludGVyc2VjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcG9zLnggKyBpbnRlcnNlY3Rpb25PZmZzZXQueCAqIHNwaXJhbFNlYXJjaERpc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgaW50ZXJzZWN0aW9uT2Zmc2V0LnkgKiBzcGlyYWxTZWFyY2hEaXN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IG9iai5zaGFwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHNob3VsZCBjb250aW51ZSBzZWFyY2ggaWYgd2UgZm91bmQgYW50aWFsaWFzZWQgcGl4ZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgbWVhbnMgb3VyIG5vZGUgc29tZXdoZXJlIHZlcnkgY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iai5hbnRpYWxpYXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlU2VhcmNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBzaGFwZSwgYW5kIG5vIGFudGlhbGlhc2VkIHBpeGVsLCB3ZSBzaG91bGQgZW5kIHNlYXJjaGluZyBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRpbnVlU2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlyYWxTZWFyY2hEaXN0YW5jZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX2dldEltYWdlRGF0YTogZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5oaXRDYW52YXMud2lkdGggfHwgMSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhpdENhbnZhcy5oZWlnaHQgfHwgMSxcbiAgICAgICAgICAgICAgICBpbmRleCA9IChNYXRoLnJvdW5kKHkpICogd2lkdGggKSArIE1hdGgucm91bmQoeCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faGl0SW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGl0SW1hZ2VEYXRhID0gdGhpcy5oaXRDYW52YXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgdGhpcy5faGl0SW1hZ2VEYXRhLmRhdGFbNCAqIGluZGV4ICsgMF0gLCAvLyBSZWRcbiAgICAgICAgICAgICAgICB0aGlzLl9oaXRJbWFnZURhdGEuZGF0YVs0ICogaW5kZXggKyAxXSwgLy8gR3JlZW5cbiAgICAgICAgICAgICAgICB0aGlzLl9oaXRJbWFnZURhdGEuZGF0YVs0ICogaW5kZXggKyAyXSwgLy8gQmx1ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2hpdEltYWdlRGF0YS5kYXRhWzQgKiBpbmRleCArIDNdIC8vIEFscGhhXG4gICAgICAgICAgICBdO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0SW50ZXJzZWN0aW9uOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5oaXRDYW52YXMuY29udGV4dC5nZXRJbWFnZURhdGEocG9zLngsIHBvcy55LCAxLCAxKS5kYXRhLFxuICAgICAgICAgICAgICAgIHAzID0gcFszXSxcbiAgICAgICAgICAgICAgICBjb2xvcktleSwgc2hhcGU7XG5cbiAgICAgICAgICAgIC8vIGZ1bGx5IG9wYXF1ZSBwaXhlbFxuICAgICAgICAgICAgaWYocDMgPT09IDI1NSkge1xuICAgICAgICAgICAgICAgIGNvbG9yS2V5ID0gS2luZXRpYy5VdGlsLl9yZ2JUb0hleChwWzBdLCBwWzFdLCBwWzJdKTtcbiAgICAgICAgICAgICAgICBzaGFwZSA9IEtpbmV0aWMuc2hhcGVzW0hBU0ggKyBjb2xvcktleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFudGlhbGlhc2VkIHBpeGVsXG4gICAgICAgICAgICBlbHNlIGlmKHAzID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFudGlhbGlhc2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtcHR5IHBpeGVsXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRyYXdTY2VuZTogZnVuY3Rpb24oY2FuLCB0b3ApIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBjYW4gfHwgKGxheWVyICYmIGxheWVyLmdldENhbnZhcygpKTtcblxuICAgICAgICAgICAgdGhpcy5fZmlyZShCRUZPUkVfRFJBVywge1xuICAgICAgICAgICAgICAgIG5vZGU6IHRoaXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZih0aGlzLmdldENsZWFyQmVmb3JlRHJhdygpKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoKS5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBLaW5ldGljLkNvbnRhaW5lci5wcm90b3R5cGUuZHJhd1NjZW5lLmNhbGwodGhpcywgY2FudmFzLCB0b3ApO1xuXG4gICAgICAgICAgICB0aGlzLl9maXJlKERSQVcsIHtcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHRoZSBhcHBseSB0cmFuc2Zvcm0gbWV0aG9kIGlzIGhhbmRsZWQgYnkgdGhlIExheWVyIGFuZCBGYXN0TGF5ZXIgY2xhc3NcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBpcyB1cCB0byB0aGUgbGF5ZXIgdG8gZGVjaWRlIGlmIGFuIGFic29sdXRlIG9yIHJlbGF0aXZlIHRyYW5zZm9ybVxuICAgICAgICAvLyBzaG91bGQgYmUgdXNlZFxuICAgICAgICBfYXBwbHlUcmFuc2Zvcm06IGZ1bmN0aW9uKHNoYXBlLCBjb250ZXh0LCB0b3ApIHtcbiAgICAgICAgICAgIHZhciBtID0gc2hhcGUuZ2V0QWJzb2x1dGVUcmFuc2Zvcm0odG9wKS5nZXRNYXRyaXgoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgICAgICB9LFxuICAgICAgICBkcmF3SGl0OiBmdW5jdGlvbihjYW4sIHRvcCkge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5nZXRMYXllcigpLFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGNhbiB8fCAobGF5ZXIgJiYgbGF5ZXIuaGl0Q2FudmFzKTtcblxuICAgICAgICAgICAgaWYobGF5ZXIgJiYgbGF5ZXIuZ2V0Q2xlYXJCZWZvcmVEcmF3KCkpIHtcbiAgICAgICAgICAgICAgICBsYXllci5nZXRIaXRDYW52YXMoKS5nZXRDb250ZXh0KCkuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlLmRyYXdIaXQuY2FsbCh0aGlzLCBjYW52YXMsIHRvcCk7XG4gICAgICAgICAgICB0aGlzLmltYWdlRGF0YSA9IG51bGw7IC8vIENsZWFyIGltYWdlRGF0YSBjYWNoZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjbGVhciBzY2VuZSBhbmQgaGl0IGNhbnZhcyBjb250ZXh0cyB0aWVkIHRvIHRoZSBsYXllclxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkxheWVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2JvdW5kc11cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMueF1cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMueV1cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMud2lkdGhdXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYm91bmRzLmhlaWdodF1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbGF5ZXIuY2xlYXIoKTtcbiAgICAgICAgICogbGF5ZXIuY2xlYXIoe1xuICAgICAgICAgKiAgIHggOiAwLFxuICAgICAgICAgKiAgIHkgOiAwLFxuICAgICAgICAgKiAgIHdpZHRoIDogMTAwLFxuICAgICAgICAgKiAgIGhlaWdodCA6IDEwMFxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbihib3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29udGV4dCgpLmNsZWFyKGJvdW5kcyk7XG4gICAgICAgICAgICB0aGlzLmdldEhpdENhbnZhcygpLmdldENvbnRleHQoKS5jbGVhcihib3VuZHMpO1xuICAgICAgICAgICAgdGhpcy5pbWFnZURhdGEgPSBudWxsOyAvLyBDbGVhciBnZXRJbWFnZURhdGEgY2FjaGVcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvLyBleHRlbmQgTm9kZS5wcm90b3R5cGUuc2V0VmlzaWJsZVxuICAgICAgICBzZXRWaXNpYmxlOiBmdW5jdGlvbih2aXNpYmxlKSB7XG4gICAgICAgICAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLnNldFZpc2libGUuY2FsbCh0aGlzLCB2aXNpYmxlKTtcbiAgICAgICAgICAgIGlmKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENhbnZhcygpLl9jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRDYW52YXMuX2NhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2FudmFzKCkuX2NhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMuaGl0Q2FudmFzLl9jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZW5hYmxlIGhpdCBncmFwaFxuICAgICAgICAgKiBAbmFtZSBlbmFibGVIaXRHcmFwaFxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkxheWVyLnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7TGF5ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBlbmFibGVIaXRHcmFwaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnNldEhpdEdyYXBoRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZGlzYWJsZSBoaXQgZ3JhcGhcbiAgICAgICAgICogQG5hbWUgZGlzYWJsZUhpdEdyYXBoXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTGF5ZXIucHJvdG90eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtMYXllcn1cbiAgICAgICAgICovXG4gICAgICAgIGRpc2FibGVIaXRHcmFwaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnNldEhpdEdyYXBoRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2l6ZSA6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuQmFzZUxheWVyLnByb3RvdHlwZS5zZXRTaXplLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmhpdENhbnZhcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkxheWVyLCBLaW5ldGljLkJhc2VMYXllcik7XG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTGF5ZXIsICdoaXRHcmFwaEVuYWJsZWQnLCB0cnVlKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGhpdEdyYXBoRW5hYmxlZCBmbGFnLiAgRGlzYWJsaW5nIHRoZSBoaXQgZ3JhcGggd2lsbCBncmVhdGx5IGluY3JlYXNlXG4gICAgICogIGRyYXcgcGVyZm9ybWFuY2UgYmVjYXVzZSB0aGUgaGl0IGdyYXBoIHdpbGwgbm90IGJlIHJlZHJhd24gZWFjaCB0aW1lIHRoZSBsYXllciBpc1xuICAgICAqICBkcmF3bi4gIFRoaXMsIGhvd2V2ZXIsIGFsc28gZGlzYWJsZXMgbW91c2UvdG91Y2ggZXZlbnQgZGV0ZWN0aW9uXG4gICAgICogQG5hbWUgaGl0R3JhcGhFbmFibGVkXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkxheWVyLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5hYmxlZFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGhpdEdyYXBoRW5hYmxlZCBmbGFnXG4gICAgICogdmFyIGhpdEdyYXBoRW5hYmxlZCA9IGxheWVyLmhpdEdyYXBoRW5hYmxlZCgpO1xuICAgICAqXG4gICAgICogLy8gZGlzYWJsZSBoaXQgZ3JhcGhcbiAgICAgKiBsYXllci5oaXRHcmFwaEVuYWJsZWQoZmFsc2UpO1xuICAgICAqXG4gICAgICogLy8gZW5hYmxlIGhpdCBncmFwaFxuICAgICAqIGxheWVyLmhpdEdyYXBoRW5hYmxlZCh0cnVlKTtcbiAgICAgKi9cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLkxheWVyKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuXG4gICAgS2luZXRpYy5VdGlsLmFkZE1ldGhvZHMoS2luZXRpYy5GYXN0TGF5ZXIsIHtcbiAgICAgICAgX19fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5ub2RlVHlwZSA9ICdMYXllcic7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBLaW5ldGljLlNjZW5lQ2FudmFzKCk7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLkJhc2VMYXllci5jYWxsKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIH0sXG4gICAgICAgIF92YWxpZGF0ZUFkZDogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gY2hpbGQuZ2V0VHlwZSgpO1xuICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdTaGFwZScpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwuZXJyb3IoJ1lvdSBtYXkgb25seSBhZGQgc2hhcGVzIHRvIGEgZmFzdCBsYXllci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX3NldENhbnZhc1NpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpdEdyYXBoRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEludGVyc2VjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZHJhd1NjZW5lOiBmdW5jdGlvbihjYW4pIHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKSxcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBjYW4gfHwgKGxheWVyICYmIGxheWVyLmdldENhbnZhcygpKTtcblxuICAgICAgICAgICAgaWYodGhpcy5nZXRDbGVhckJlZm9yZURyYXcoKSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCkuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgS2luZXRpYy5Db250YWluZXIucHJvdG90eXBlLmRyYXdTY2VuZS5jYWxsKHRoaXMsIGNhbnZhcyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvLyB0aGUgYXBwbHkgdHJhbnNmb3JtIG1ldGhvZCBpcyBoYW5kbGVkIGJ5IHRoZSBMYXllciBhbmQgRmFzdExheWVyIGNsYXNzXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgaXMgdXAgdG8gdGhlIGxheWVyIHRvIGRlY2lkZSBpZiBhbiBhYnNvbHV0ZSBvciByZWxhdGl2ZSB0cmFuc2Zvcm1cbiAgICAgICAgLy8gc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgX2FwcGx5VHJhbnNmb3JtOiBmdW5jdGlvbihzaGFwZSwgY29udGV4dCwgdG9wKSB7XG4gICAgICAgICAgICBpZiAoIXRvcCB8fCB0b3AuX2lkICE9PSB0aGlzLl9pZCkge1xuICAgICAgICAgICAgICAgIHZhciBtID0gc2hhcGUuZ2V0VHJhbnNmb3JtKCkuZ2V0TWF0cml4KCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRyYXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3U2NlbmUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogY2xlYXIgc2NlbmUgYW5kIGhpdCBjYW52YXMgY29udGV4dHMgdGllZCB0byB0aGUgbGF5ZXJcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5GYXN0TGF5ZXIucHJvdG90eXBlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbYm91bmRzXVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy54XVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy55XVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JvdW5kcy53aWR0aF1cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtib3VuZHMuaGVpZ2h0XVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBsYXllci5jbGVhcigpO1xuICAgICAgICAgKiBsYXllci5jbGVhcih7XG4gICAgICAgICAqICAgeCA6IDAsXG4gICAgICAgICAqICAgeSA6IDAsXG4gICAgICAgICAqICAgd2lkdGggOiAxMDAsXG4gICAgICAgICAqICAgaGVpZ2h0IDogMTAwXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKGJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5nZXRDb250ZXh0KCkuY2xlYXIoYm91bmRzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvLyBleHRlbmQgTm9kZS5wcm90b3R5cGUuc2V0VmlzaWJsZVxuICAgICAgICBzZXRWaXNpYmxlOiBmdW5jdGlvbih2aXNpYmxlKSB7XG4gICAgICAgICAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLnNldFZpc2libGUuY2FsbCh0aGlzLCB2aXNpYmxlKTtcbiAgICAgICAgICAgIGlmKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENhbnZhcygpLl9jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENhbnZhcygpLl9jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkZhc3RMYXllciwgS2luZXRpYy5CYXNlTGF5ZXIpO1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5GYXN0TGF5ZXIpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgS2luZXRpYy5VdGlsLmFkZE1ldGhvZHMoS2luZXRpYy5Hcm91cCwge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSAnR3JvdXAnO1xuICAgICAgICAgICAgLy8gY2FsbCBzdXBlciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgS2luZXRpYy5Db250YWluZXIuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICB9LFxuICAgICAgICBfdmFsaWRhdGVBZGQ6IGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGNoaWxkLmdldFR5cGUoKTtcbiAgICAgICAgICAgIGlmICh0eXBlICE9PSAnR3JvdXAnICYmIHR5cGUgIT09ICdTaGFwZScpIHtcbiAgICAgICAgICAgICAgICBLaW5ldGljLlV0aWwuZXJyb3IoJ1lvdSBtYXkgb25seSBhZGQgZ3JvdXBzIGFuZCBzaGFwZXMgdG8gZ3JvdXBzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkdyb3VwLCBLaW5ldGljLkNvbnRhaW5lcik7XG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLkdyb3VwKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIFJlY3QgY29uc3RydWN0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmNvcm5lclJhZGl1c11cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsXSBmaWxsIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbFJlZF0gc2V0IGZpbGwgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxHcmVlbl0gc2V0IGZpbGwgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEJsdWVdIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEFscGhhXSBzZXQgZmlsbCBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IFtjb25maWcuZmlsbFBhdHRlcm5JbWFnZV0gZmlsbCBwYXR0ZXJuIGltYWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFldIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZV0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblJvdGF0aW9uXVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFBhdHRlcm5SZXBlYXRdIGNhbiBiZSBcInJlcGVhdFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgb3IgXCJuby1yZXBlYXRcIi4gIFRoZSBkZWZhdWx0IGlzIFwibm8tcmVwZWF0XCJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WV0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5maWxsRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBmaWxsLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFByaW9yaXR5XSBjYW4gYmUgY29sb3IsIGxpbmVhci1ncmFkaWVudCwgcmFkaWFsLWdyYWlkZW50LCBvciBwYXR0ZXJuLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgY29sb3IuICBUaGUgZmlsbFByaW9yaXR5IHByb3BlcnR5IG1ha2VzIGl0IHJlYWxseSBlYXN5IHRvIHRvZ2dsZSBiZXR3ZWVuIGRpZmZlcmVudCBmaWxsIHR5cGVzLiAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRvZ2dsZSBiZXR3ZWVuIGEgZmlsbCBjb2xvciBzdHlsZSBhbmQgYSBmaWxsIHBhdHRlcm4gc3R5bGUsIHNpbXBseSBzZXQgdGhlIGZpbGwgcHJvcGVydHkgYW5kIHRoZSBmaWxsUGF0dGVybiBwcm9wZXJ0aWVzLCBhbmQgdGhlbiB1c2Ugc2V0RmlsbFByaW9yaXR5KCdjb2xvcicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCBhIGNvbG9yIGZpbGwsIG9yIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ3BhdHRlcm4nKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggdGhlIHBhdHRlcm4gZmlsbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zdHJva2VdIHN0cm9rZSBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZVJlZF0gc2V0IHN0cm9rZSByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlR3JlZW5dIHNldCBzdHJva2UgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQmx1ZV0gc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUFscGhhXSBzZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3Ryb2tlV2lkdGhdIHN0cm9rZSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZVNjYWxlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHN0cm9rZSBzY2FsZS4gIFRoZSBkZWZhdWx0IGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHN0cm9rZS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVKb2luXSBjYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgbWl0ZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVDYXBdIGNhbiBiZSBidXR0LCByb3VuZCwgb3Igc3FhcmUuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIGJ1dHRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNoYWRvd0NvbG9yXVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd1JlZF0gc2V0IHNoYWRvdyBjb2xvciByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93R3JlZW5dIHNldCBzaGFkb3cgY29sb3IgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93Qmx1ZV0gc2V0IHNoYWRvdyBjb2xvciBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0FscGhhXSBzZXQgc2hhZG93IGNvbG9yIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93Qmx1cl1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNoYWRvd09mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T3BhY2l0eV0gc2hhZG93IG9wYWNpdHkuICBDYW4gYmUgYW55IHJlYWwgbnVtYmVyXHJcbiAgICAgKiAgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2hhZG93RW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzaGFkb3cuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmRhc2hdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGFzaEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZGFzaEFycmF5LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciByZWN0ID0gbmV3IEtpbmV0aWMuUmVjdCh7XG4gICAgICogICB3aWR0aDogMTAwLFxuICAgICAqICAgaGVpZ2h0OiA1MCxcbiAgICAgKiAgIGZpbGw6ICdyZWQnLFxuICAgICAqICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAqICAgc3Ryb2tlV2lkdGg6IDVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLlJlY3QgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fX19pbml0KGNvbmZpZyk7XG4gICAgfTtcblxuICAgIEtpbmV0aWMuUmVjdC5wcm90b3R5cGUgPSB7XG4gICAgICAgIF9fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgS2luZXRpYy5TaGFwZS5jYWxsKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICdSZWN0JztcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zY2VuZUZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBjb3JuZXJSYWRpdXMgPSB0aGlzLmdldENvcm5lclJhZGl1cygpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgaWYoIWNvcm5lclJhZGl1cykge1xuICAgICAgICAgICAgICAgIC8vIHNpbXBsZSByZWN0IC0gZG9uJ3QgYm90aGVyIGRvaW5nIGFsbCB0aGF0IGNvbXBsaWNhdGVkIG1hdGhzIHN0dWZmLlxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFyY1RvIHdvdWxkIGJlIG5pY2VyLCBidXQgYnJvd3NlciBzdXBwb3J0IGlzIHBhdGNoeSAoT3BlcmEpXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY29ybmVyUmFkaXVzLCAwKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCAtIGNvcm5lclJhZGl1cywgMCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMod2lkdGggLSBjb3JuZXJSYWRpdXMsIGNvcm5lclJhZGl1cywgY29ybmVyUmFkaXVzLCBNYXRoLlBJICogMyAvIDIsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgaGVpZ2h0IC0gY29ybmVyUmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyh3aWR0aCAtIGNvcm5lclJhZGl1cywgaGVpZ2h0IC0gY29ybmVyUmFkaXVzLCBjb3JuZXJSYWRpdXMsIDAsIE1hdGguUEkgLyAyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY29ybmVyUmFkaXVzLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKGNvcm5lclJhZGl1cywgaGVpZ2h0IC0gY29ybmVyUmFkaXVzLCBjb3JuZXJSYWRpdXMsIE1hdGguUEkgLyAyLCBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oMCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhjb3JuZXJSYWRpdXMsIGNvcm5lclJhZGl1cywgY29ybmVyUmFkaXVzLCBNYXRoLlBJLCBNYXRoLlBJICogMyAvIDIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuUmVjdCwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuUmVjdCwgJ2Nvcm5lclJhZGl1cycsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY29ybmVyIHJhZGl1c1xuICAgICAqIEBuYW1lIGNvcm5lclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5SZWN0LnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb3JuZXJSYWRpdXNcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNvcm5lciByYWRpdXNcbiAgICAgKiB2YXIgY29ybmVyUmFkaXVzID0gcmVjdC5jb3JuZXJSYWRpdXMoKTtcbiAgICAgKiBcbiAgICAgKiAvLyBzZXQgY29ybmVyIHJhZGl1c1xuICAgICAqIHJlY3QuY29ybmVyUmFkaXVzKDEwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuUmVjdCk7XG59KSgpO1xuOyhmdW5jdGlvbigpIHtcbiAgICAvLyB0aGUgMC4wMDAxIG9mZnNldCBmaXhlcyBhIGJ1ZyBpbiBDaHJvbWUgMjdcbiAgICB2YXIgUEl4MiA9IChNYXRoLlBJICogMikgLSAwLjAwMDEsXG4gICAgICAgIENJUkNMRSA9ICdDaXJjbGUnO1xuXG4gICAgLyoqXG4gICAgICogQ2lyY2xlIGNvbnN0cnVjdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5TaGFwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29uZmlnLnJhZGl1c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxdIGZpbGwgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsUmVkXSBzZXQgZmlsbCByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEdyZWVuXSBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQmx1ZV0gc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQWxwaGFdIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gW2NvbmZpZy5maWxsUGF0dGVybkltYWdlXSBmaWxsIHBhdHRlcm4gaW1hZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WV0gXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlXSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuUm90YXRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUGF0dGVyblJlcGVhdF0gY2FuIGJlIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiAgVGhlIGRlZmF1bHQgaXMgXCJuby1yZXBlYXRcIlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmZpbGxFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGZpbGwuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUHJpb3JpdHldIGNhbiBiZSBjb2xvciwgbGluZWFyLWdyYWRpZW50LCByYWRpYWwtZ3JhaWRlbnQsIG9yIHBhdHRlcm4uICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjb2xvci4gIFRoZSBmaWxsUHJpb3JpdHkgcHJvcGVydHkgbWFrZXMgaXQgcmVhbGx5IGVhc3kgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuICBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gYSBmaWxsIGNvbG9yIHN0eWxlIGFuZCBhIGZpbGwgcGF0dGVybiBzdHlsZSwgc2ltcGx5IHNldCB0aGUgZmlsbCBwcm9wZXJ0eSBhbmQgdGhlIGZpbGxQYXR0ZXJuIHByb3BlcnRpZXMsIGFuZCB0aGVuIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ2NvbG9yJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIGEgY29sb3IgZmlsbCwgb3IgdXNlIHNldEZpbGxQcmlvcml0eSgncGF0dGVybicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCB0aGUgcGF0dGVybiBmaWxsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnN0cm9rZV0gc3Ryb2tlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlUmVkXSBzZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VHcmVlbl0gc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VCbHVlXSBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQWxwaGFdIHNldCBzdHJva2UgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zdHJva2VXaWR0aF0gc3Ryb2tlIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlU2NhbGVFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgc3Ryb2tlIHNjYWxlLiAgVGhlIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc3Ryb2tlLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUpvaW5dIGNhbiBiZSBtaXRlciwgcm91bmQsIG9yIGJldmVsLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBtaXRlclxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUNhcF0gY2FuIGJlIGJ1dHQsIHJvdW5kLCBvciBzcWFyZS4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgYnV0dFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2hhZG93Q29sb3JdXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93UmVkXSBzZXQgc2hhZG93IGNvbG9yIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dHcmVlbl0gc2V0IHNoYWRvdyBjb2xvciBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dCbHVlXSBzZXQgc2hhZG93IGNvbG9yIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93QWxwaGFdIHNldCBzaGFkb3cgY29sb3IgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dCbHVyXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2hhZG93T2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPcGFjaXR5XSBzaGFkb3cgb3BhY2l0eS4gIENhbiBiZSBhbnkgcmVhbCBudW1iZXJcclxuICAgICAqICBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaGFkb3dFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNoYWRvdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGFzaF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kYXNoRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkYXNoQXJyYXkuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gY3JlYXRlIGNpcmNsZVxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgS2luZXRpYy5DaXJjbGUoe1xuICAgICAqICAgcmFkaXVzOiA0MCxcbiAgICAgKiAgIGZpbGw6ICdyZWQnLFxuICAgICAqICAgc3Ryb2tlOiAnYmxhY2snXG4gICAgICogICBzdHJva2VXaWR0aDogNVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIEtpbmV0aWMuQ2lyY2xlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkNpcmNsZS5wcm90b3R5cGUgPSB7XG4gICAgICAgIF9fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgLy8gY2FsbCBzdXBlciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgS2luZXRpYy5TaGFwZS5jYWxsKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IENJUkNMRTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zY2VuZUZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYygwLCAwLCB0aGlzLmdldFJhZGl1cygpLCAwLCBQSXgyLCBmYWxzZSk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGltcGxlbWVudHMgU2hhcGUucHJvdG90eXBlLmdldFdpZHRoKClcbiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFkaXVzKCkgKiAyO1xuICAgICAgICB9LFxuICAgICAgICAvLyBpbXBsZW1lbnRzIFNoYXBlLnByb3RvdHlwZS5nZXRIZWlnaHQoKVxuICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFkaXVzKCkgKiAyO1xuICAgICAgICB9LFxuICAgICAgICAvLyBpbXBsZW1lbnRzIFNoYXBlLnByb3RvdHlwZS5zZXRXaWR0aCgpXG4gICAgICAgIHNldFdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zZXRXaWR0aC5jYWxsKHRoaXMsIHdpZHRoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhZGl1cygpICE9PSB3aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhZGl1cyh3aWR0aCAvIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBpbXBsZW1lbnRzIFNoYXBlLnByb3RvdHlwZS5zZXRIZWlnaHQoKVxuICAgICAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCkge1xuICAgICAgICAgICAgS2luZXRpYy5Ob2RlLnByb3RvdHlwZS5zZXRIZWlnaHQuY2FsbCh0aGlzLCBoZWlnaHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFkaXVzKCkgIT09IGhlaWdodCAvIDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0UmFkaXVzIDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRBdHRyKCdyYWRpdXMnLCB2YWwpO1xuICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCh2YWwgKiAyKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KHZhbCAqIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuQ2lyY2xlLCBLaW5ldGljLlNoYXBlKTtcblxuICAgIC8vIGFkZCBnZXR0ZXJzIHNldHRlcnNcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyKEtpbmV0aWMuQ2lyY2xlLCAncmFkaXVzJywgMCk7XG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5DaXJjbGUsICdyYWRpdXMnKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgcmFkaXVzXG4gICAgICogQG5hbWUgcmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkNpcmNsZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCByYWRpdXNcbiAgICAgKiB2YXIgcmFkaXVzID0gY2lyY2xlLnJhZGl1cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHJhZGl1c1xuICAgICAqIGNpcmNsZS5yYWRpdXMoMTApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5DaXJjbGUpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgLy8gdGhlIDAuMDAwMSBvZmZzZXQgZml4ZXMgYSBidWcgaW4gQ2hyb21lIDI3XG4gICAgdmFyIFBJeDIgPSAoTWF0aC5QSSAqIDIpIC0gMC4wMDAxLFxuICAgICAgICBFTExJUFNFID0gJ0VsbGlwc2UnO1xuXG4gICAgLyoqXG4gICAgICogRWxsaXBzZSBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcucmFkaXVzIGRlZmluZXMgeCBhbmQgeSByYWRpdXNcbiAgICAgKiBAQFNoYXBlUGFyYW1zXG4gICAgICogQEBOb2RlUGFyYW1zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgZWxsaXBzZSA9IG5ldyBLaW5ldGljLkVsbGlwc2Uoe1xuICAgICAqICAgcmFkaXVzIDoge1xuICAgICAqICAgICB4IDogNTAsXG4gICAgICogICAgIHkgOiA1MFxuICAgICAqICAgfSxcbiAgICAgKiAgIGZpbGw6ICdyZWQnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgS2luZXRpYy5FbGxpcHNlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkVsbGlwc2UucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgc3VwZXIgY29uc3RydWN0b3JcbiAgICAgICAgICAgIEtpbmV0aWMuU2hhcGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBFTExJUFNFO1xuICAgICAgICAgICAgdGhpcy5zY2VuZUZ1bmModGhpcy5fc2NlbmVGdW5jKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NjZW5lRnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHJ4ID0gdGhpcy5nZXRSYWRpdXNYKCksXG4gICAgICAgICAgICAgICAgcnkgPSB0aGlzLmdldFJhZGl1c1koKTtcblxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgaWYocnggIT09IHJ5KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zY2FsZSgxLCByeSAvIHJ4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHJ4LCAwLCBQSXgyLCBmYWxzZSk7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaW1wbGVtZW50cyBTaGFwZS5wcm90b3R5cGUuZ2V0V2lkdGgoKVxuICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSYWRpdXNYKCkgKiAyO1xuICAgICAgICB9LFxuICAgICAgICAvLyBpbXBsZW1lbnRzIFNoYXBlLnByb3RvdHlwZS5nZXRIZWlnaHQoKVxuICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFkaXVzWSgpICogMjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaW1wbGVtZW50cyBTaGFwZS5wcm90b3R5cGUuc2V0V2lkdGgoKVxuICAgICAgICBzZXRXaWR0aDogZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuc2V0V2lkdGguY2FsbCh0aGlzLCB3aWR0aCk7XG4gICAgICAgICAgICB0aGlzLnNldFJhZGl1cyh7XG4gICAgICAgICAgICAgICAgeDogd2lkdGggLyAyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaW1wbGVtZW50cyBTaGFwZS5wcm90b3R5cGUuc2V0SGVpZ2h0KClcbiAgICAgICAgc2V0SGVpZ2h0OiBmdW5jdGlvbihoZWlnaHQpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuc2V0SGVpZ2h0LmNhbGwodGhpcywgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuc2V0UmFkaXVzKHtcbiAgICAgICAgICAgICAgICB5OiBoZWlnaHQgLyAyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkVsbGlwc2UsIEtpbmV0aWMuU2hhcGUpO1xuXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRDb21wb25lbnRzR2V0dGVyU2V0dGVyKEtpbmV0aWMuRWxsaXBzZSwgJ3JhZGl1cycsIFsneCcsICd5J10pO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCByYWRpdXNcbiAgICAgKiBAbmFtZSByYWRpdXNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuRWxsaXBzZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cy54XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cy55XG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCByYWRpdXNcbiAgICAgKiB2YXIgcmFkaXVzID0gZWxsaXBzZS5yYWRpdXMoKTtcbiAgICAgKiBcbiAgICAgKiAvLyBzZXQgcmFkaXVzXG4gICAgICogZWxsaXBzZS5yYWRpdXMoe1xuICAgICAqICAgeDogMjAwLFxuICAgICAqICAgeTogMTAwXG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuRWxsaXBzZSwgJ3JhZGl1c1gnLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHJhZGl1cyB4XG4gICAgICogQG5hbWUgcmFkaXVzWFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FbGxpcHNlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCByYWRpdXMgeFxuICAgICAqIHZhciByYWRpdXNYID0gZWxsaXBzZS5yYWRpdXNYKCk7XG4gICAgICogXG4gICAgICogLy8gc2V0IHJhZGl1cyB4XG4gICAgICogZWxsaXBzZS5yYWRpdXNYKDIwMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuRWxsaXBzZSwgJ3JhZGl1c1knLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHJhZGl1cyB5XG4gICAgICogQG5hbWUgcmFkaXVzWVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5FbGxpcHNlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCByYWRpdXMgeVxuICAgICAqIHZhciByYWRpdXNZID0gZWxsaXBzZS5yYWRpdXNZKCk7XG4gICAgICogXG4gICAgICogLy8gc2V0IHJhZGl1cyB5XG4gICAgICogZWxsaXBzZS5yYWRpdXNZKDIwMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLkVsbGlwc2UpO1xuXG59KSgpOzsoZnVuY3Rpb24oKSB7XG4gICAgLy8gdGhlIDAuMDAwMSBvZmZzZXQgZml4ZXMgYSBidWcgaW4gQ2hyb21lIDI3XG4gICAgdmFyIFBJeDIgPSAoTWF0aC5QSSAqIDIpIC0gMC4wMDAxO1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJpbmcgY29uc3RydWN0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5TaGFwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29uZmlnLmlubmVyUmFkaXVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbmZpZy5vdXRlclJhZGl1c1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5jbG9ja3dpc2VdXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbF0gZmlsbCBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxSZWRdIHNldCBmaWxsIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsR3JlZW5dIHNldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxCbHVlXSBzZXQgZmlsbCBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxBbHBoYV0gc2V0IGZpbGwgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBbY29uZmlnLmZpbGxQYXR0ZXJuSW1hZ2VdIGZpbGwgcGF0dGVybiBpbWFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5YXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5ZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRZXSBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5Sb3RhdGlvbl1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQYXR0ZXJuUmVwZWF0XSBjYW4gYmUgXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuICBUaGUgZGVmYXVsdCBpcyBcIm5vLXJlcGVhdFwiXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFldIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZmlsbEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZmlsbC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQcmlvcml0eV0gY2FuIGJlIGNvbG9yLCBsaW5lYXItZ3JhZGllbnQsIHJhZGlhbC1ncmFpZGVudCwgb3IgcGF0dGVybi4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGNvbG9yLiAgVGhlIGZpbGxQcmlvcml0eSBwcm9wZXJ0eSBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB0b2dnbGUgYmV0d2VlbiBkaWZmZXJlbnQgZmlsbCB0eXBlcy4gIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0b2dnbGUgYmV0d2VlbiBhIGZpbGwgY29sb3Igc3R5bGUgYW5kIGEgZmlsbCBwYXR0ZXJuIHN0eWxlLCBzaW1wbHkgc2V0IHRoZSBmaWxsIHByb3BlcnR5IGFuZCB0aGUgZmlsbFBhdHRlcm4gcHJvcGVydGllcywgYW5kIHRoZW4gdXNlIHNldEZpbGxQcmlvcml0eSgnY29sb3InKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggYSBjb2xvciBmaWxsLCBvciB1c2Ugc2V0RmlsbFByaW9yaXR5KCdwYXR0ZXJuJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIHRoZSBwYXR0ZXJuIGZpbGwgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc3Ryb2tlXSBzdHJva2UgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VSZWRdIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUdyZWVuXSBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUJsdWVdIHNldCBzdHJva2UgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VBbHBoYV0gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0cm9rZVdpZHRoXSBzdHJva2Ugd2lkdGhcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VTY2FsZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyBzdHJva2Ugc2NhbGUuICBUaGUgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzdHJva2UuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lSm9pbl0gY2FuIGJlIG1pdGVyLCByb3VuZCwgb3IgYmV2ZWwuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIG1pdGVyXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lQ2FwXSBjYW4gYmUgYnV0dCwgcm91bmQsIG9yIHNxYXJlLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBidXR0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zaGFkb3dDb2xvcl1cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dSZWRdIHNldCBzaGFkb3cgY29sb3IgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0dyZWVuXSBzZXQgc2hhZG93IGNvbG9yIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0JsdWVdIHNldCBzaGFkb3cgY29sb3IgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dBbHBoYV0gc2V0IHNoYWRvdyBjb2xvciBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd0JsdXJdXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zaGFkb3dPZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09wYWNpdHldIHNoYWRvdyBvcGFjaXR5LiAgQ2FuIGJlIGFueSByZWFsIG51bWJlclxyXG4gICAgICogIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNoYWRvd0VuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc2hhZG93LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5kYXNoXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRhc2hFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGRhc2hBcnJheS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcmluZyA9IG5ldyBLaW5ldGljLlJpbmcoe1xuICAgICAqICAgaW5uZXJSYWRpdXM6IDQwLFxuICAgICAqICAgb3V0ZXJSYWRpdXM6IDgwLFxuICAgICAqICAgZmlsbDogJ3JlZCcsXG4gICAgICogICBzdHJva2U6ICdibGFjaycsXG4gICAgICogICBzdHJva2VXaWR0aDogNVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIEtpbmV0aWMuUmluZyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9fX2luaXQoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5SaW5nLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ1JpbmcnO1xuICAgICAgICAgICAgdGhpcy5zY2VuZUZ1bmModGhpcy5fc2NlbmVGdW5jKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NjZW5lRnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMuZ2V0SW5uZXJSYWRpdXMoKSwgMCwgUEl4MiwgZmFsc2UpO1xuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8odGhpcy5nZXRPdXRlclJhZGl1cygpLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMuZ2V0T3V0ZXJSYWRpdXMoKSwgUEl4MiwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGltcGxlbWVudHMgU2hhcGUucHJvdG90eXBlLmdldFdpZHRoKClcbiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3V0ZXJSYWRpdXMoKSAqIDI7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGltcGxlbWVudHMgU2hhcGUucHJvdG90eXBlLmdldEhlaWdodCgpXG4gICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPdXRlclJhZGl1cygpICogMjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaW1wbGVtZW50cyBTaGFwZS5wcm90b3R5cGUuc2V0V2lkdGgoKVxuICAgICAgICBzZXRXaWR0aDogZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuTm9kZS5wcm90b3R5cGUuc2V0V2lkdGguY2FsbCh0aGlzLCB3aWR0aCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vdXRlclJhZGl1cygpICE9PSB3aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE91dGVyUmFkaXVzKHdpZHRoIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGltcGxlbWVudHMgU2hhcGUucHJvdG90eXBlLnNldEhlaWdodCgpXG4gICAgICAgIHNldEhlaWdodDogZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgICAgICBLaW5ldGljLk5vZGUucHJvdG90eXBlLnNldEhlaWdodC5jYWxsKHRoaXMsIGhlaWdodCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vdXRlclJhZGl1cygpICE9PSBoZWlnaHQgLyAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPdXRlclJhZGl1cyhoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0T3V0ZXJSYWRpdXMgOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEF0dHIoJ291dGVyUmFkaXVzJywgdmFsKTtcbiAgICAgICAgICAgIHRoaXMuc2V0V2lkdGgodmFsICogMik7XG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodCh2YWwgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlJpbmcsIEtpbmV0aWMuU2hhcGUpO1xuXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5SaW5nLCAnaW5uZXJSYWRpdXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgaW5uZXJSYWRpdXNcbiAgICAgKiBAbmFtZSBpbm5lclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5SaW5nLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbm5lclJhZGl1c1xuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgaW5uZXIgcmFkaXVzXG4gICAgICogdmFyIGlubmVyUmFkaXVzID0gcmluZy5pbm5lclJhZGl1cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGlubmVyIHJhZGl1c1xuICAgICAqIHJpbmcuaW5uZXJSYWRpdXMoMjApO1xuICAgICAqL1xuICAgICBcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyKEtpbmV0aWMuUmluZywgJ291dGVyUmFkaXVzJywgMCk7XG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5SaW5nLCAnb3V0ZXJSYWRpdXMnKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgb3V0ZXJSYWRpdXNcbiAgICAgKiBAbmFtZSBvdXRlclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5SaW5nLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvdXRlclJhZGl1c1xuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgb3V0ZXIgcmFkaXVzXG4gICAgICogdmFyIG91dGVyUmFkaXVzID0gcmluZy5vdXRlclJhZGl1cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IG91dGVyIHJhZGl1c1xuICAgICAqIHJpbmcub3V0ZXJSYWRpdXMoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5SaW5nKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIFdlZGdlIGNvbnN0cnVjdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIEtpbmV0aWMuU2hhcGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbmZpZy5hbmdsZSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbmZpZy5yYWRpdXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuY2xvY2t3aXNlXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxdIGZpbGwgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsUmVkXSBzZXQgZmlsbCByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEdyZWVuXSBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQmx1ZV0gc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQWxwaGFdIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gW2NvbmZpZy5maWxsUGF0dGVybkltYWdlXSBmaWxsIHBhdHRlcm4gaW1hZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WV0gXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlXSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuUm90YXRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUGF0dGVyblJlcGVhdF0gY2FuIGJlIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiAgVGhlIGRlZmF1bHQgaXMgXCJuby1yZXBlYXRcIlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmZpbGxFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGZpbGwuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUHJpb3JpdHldIGNhbiBiZSBjb2xvciwgbGluZWFyLWdyYWRpZW50LCByYWRpYWwtZ3JhaWRlbnQsIG9yIHBhdHRlcm4uICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjb2xvci4gIFRoZSBmaWxsUHJpb3JpdHkgcHJvcGVydHkgbWFrZXMgaXQgcmVhbGx5IGVhc3kgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuICBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gYSBmaWxsIGNvbG9yIHN0eWxlIGFuZCBhIGZpbGwgcGF0dGVybiBzdHlsZSwgc2ltcGx5IHNldCB0aGUgZmlsbCBwcm9wZXJ0eSBhbmQgdGhlIGZpbGxQYXR0ZXJuIHByb3BlcnRpZXMsIGFuZCB0aGVuIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ2NvbG9yJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIGEgY29sb3IgZmlsbCwgb3IgdXNlIHNldEZpbGxQcmlvcml0eSgncGF0dGVybicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCB0aGUgcGF0dGVybiBmaWxsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnN0cm9rZV0gc3Ryb2tlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlUmVkXSBzZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VHcmVlbl0gc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VCbHVlXSBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQWxwaGFdIHNldCBzdHJva2UgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zdHJva2VXaWR0aF0gc3Ryb2tlIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlU2NhbGVFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgc3Ryb2tlIHNjYWxlLiAgVGhlIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc3Ryb2tlLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUpvaW5dIGNhbiBiZSBtaXRlciwgcm91bmQsIG9yIGJldmVsLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBtaXRlclxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUNhcF0gY2FuIGJlIGJ1dHQsIHJvdW5kLCBvciBzcWFyZS4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgYnV0dFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2hhZG93Q29sb3JdXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93UmVkXSBzZXQgc2hhZG93IGNvbG9yIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dHcmVlbl0gc2V0IHNoYWRvdyBjb2xvciBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dCbHVlXSBzZXQgc2hhZG93IGNvbG9yIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93QWxwaGFdIHNldCBzaGFkb3cgY29sb3IgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dCbHVyXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2hhZG93T2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPcGFjaXR5XSBzaGFkb3cgb3BhY2l0eS4gIENhbiBiZSBhbnkgcmVhbCBudW1iZXJcclxuICAgICAqICBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaGFkb3dFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNoYWRvdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGFzaF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kYXNoRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkYXNoQXJyYXkuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZHJhdyBhIHdlZGdlIHRoYXQncyBwb2ludGluZyBkb3dud2FyZHNcbiAgICAgKiB2YXIgd2VkZ2UgPSBuZXcgS2luZXRpYy5XZWRnZSh7XG4gICAgICogICByYWRpdXM6IDQwLFxuICAgICAqICAgZmlsbDogJ3JlZCcsXG4gICAgICogICBzdHJva2U6ICdibGFjaydcbiAgICAgKiAgIHN0cm9rZVdpZHRoOiA1LFxuICAgICAqICAgYW5nbGVEZWc6IDYwLFxuICAgICAqICAgcm90YXRpb25EZWc6IC0xMjBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLldlZGdlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLldlZGdlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ1dlZGdlJztcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zY2VuZUZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYygwLCAwLCB0aGlzLmdldFJhZGl1cygpLCAwLCBLaW5ldGljLmdldEFuZ2xlKHRoaXMuZ2V0QW5nbGUoKSksIHRoaXMuZ2V0Q2xvY2t3aXNlKCkpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oMCwgMCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5XZWRnZSwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBzZXR0ZXJzXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLldlZGdlLCAncmFkaXVzJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IHJhZGl1c1xuICAgICAqIEBuYW1lIHJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5XZWRnZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCByYWRpdXNcbiAgICAgKiB2YXIgcmFkaXVzID0gd2VkZ2UucmFkaXVzKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgcmFkaXVzXG4gICAgICogd2VkZ2UucmFkaXVzKDEwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5XZWRnZSwgJ2FuZ2xlJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKiBAbmFtZSBhbmdsZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5XZWRnZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGVcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGFuZ2xlXG4gICAgICogdmFyIGFuZ2xlID0gd2VkZ2UuYW5nbGUoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBhbmdsZVxuICAgICAqIHdlZGdlLmFuZ2xlKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5XZWRnZSwgJ2Nsb2Nrd2lzZScsIGZhbHNlKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY2xvY2t3aXNlIGZsYWdcbiAgICAgKiBAbmFtZSBjbG9ja3dpc2VcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuV2VkZ2UucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNsb2Nrd2lzZVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgY2xvY2t3aXNlIGZsYWdcbiAgICAgKiB2YXIgY2xvY2t3aXNlID0gd2VkZ2UuY2xvY2t3aXNlKCk7XG4gICAgICpcbiAgICAgKiAvLyBkcmF3IHdlZGdlIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICogd2VkZ2UuY2xvY2t3aXNlKGZhbHNlKTtcbiAgICAgKlxuICAgICAqIC8vIGRyYXcgd2VkZ2UgY2xvY2t3aXNlXG4gICAgICogd2VkZ2UuY2xvY2t3aXNlKHRydWUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmJhY2tDb21wYXQoS2luZXRpYy5XZWRnZSwge1xuICAgICAgICBhbmdsZURlZzogJ2FuZ2xlJyxcbiAgICAgICAgZ2V0QW5nbGVEZWc6ICdnZXRBbmdsZScsXG4gICAgICAgIHNldEFuZ2xlRGVnOiAnc2V0QW5nbGUnXG4gICAgfSk7XG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLldlZGdlKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIEFyYyBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcuYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcuaW5uZXJSYWRpdXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29uZmlnLm91dGVyUmFkaXVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmNsb2Nrd2lzZV1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsXSBmaWxsIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbFJlZF0gc2V0IGZpbGwgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxHcmVlbl0gc2V0IGZpbGwgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEJsdWVdIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEFscGhhXSBzZXQgZmlsbCBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IFtjb25maWcuZmlsbFBhdHRlcm5JbWFnZV0gZmlsbCBwYXR0ZXJuIGltYWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFldIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZV0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblJvdGF0aW9uXVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFBhdHRlcm5SZXBlYXRdIGNhbiBiZSBcInJlcGVhdFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgb3IgXCJuby1yZXBlYXRcIi4gIFRoZSBkZWZhdWx0IGlzIFwibm8tcmVwZWF0XCJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WV0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5maWxsRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBmaWxsLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFByaW9yaXR5XSBjYW4gYmUgY29sb3IsIGxpbmVhci1ncmFkaWVudCwgcmFkaWFsLWdyYWlkZW50LCBvciBwYXR0ZXJuLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgY29sb3IuICBUaGUgZmlsbFByaW9yaXR5IHByb3BlcnR5IG1ha2VzIGl0IHJlYWxseSBlYXN5IHRvIHRvZ2dsZSBiZXR3ZWVuIGRpZmZlcmVudCBmaWxsIHR5cGVzLiAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRvZ2dsZSBiZXR3ZWVuIGEgZmlsbCBjb2xvciBzdHlsZSBhbmQgYSBmaWxsIHBhdHRlcm4gc3R5bGUsIHNpbXBseSBzZXQgdGhlIGZpbGwgcHJvcGVydHkgYW5kIHRoZSBmaWxsUGF0dGVybiBwcm9wZXJ0aWVzLCBhbmQgdGhlbiB1c2Ugc2V0RmlsbFByaW9yaXR5KCdjb2xvcicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCBhIGNvbG9yIGZpbGwsIG9yIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ3BhdHRlcm4nKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggdGhlIHBhdHRlcm4gZmlsbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zdHJva2VdIHN0cm9rZSBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZVJlZF0gc2V0IHN0cm9rZSByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlR3JlZW5dIHNldCBzdHJva2UgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQmx1ZV0gc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUFscGhhXSBzZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3Ryb2tlV2lkdGhdIHN0cm9rZSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZVNjYWxlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHN0cm9rZSBzY2FsZS4gIFRoZSBkZWZhdWx0IGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHN0cm9rZS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVKb2luXSBjYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgbWl0ZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVDYXBdIGNhbiBiZSBidXR0LCByb3VuZCwgb3Igc3FhcmUuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIGJ1dHRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNoYWRvd0NvbG9yXVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd1JlZF0gc2V0IHNoYWRvdyBjb2xvciByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93R3JlZW5dIHNldCBzaGFkb3cgY29sb3IgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93Qmx1ZV0gc2V0IHNoYWRvdyBjb2xvciBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0FscGhhXSBzZXQgc2hhZG93IGNvbG9yIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93Qmx1cl1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNoYWRvd09mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T3BhY2l0eV0gc2hhZG93IG9wYWNpdHkuICBDYW4gYmUgYW55IHJlYWwgbnVtYmVyXHJcbiAgICAgKiAgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2hhZG93RW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzaGFkb3cuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmRhc2hdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGFzaEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZGFzaEFycmF5LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGRyYXcgYSBBcmMgdGhhdCdzIHBvaW50aW5nIGRvd253YXJkc1xuICAgICAqIHZhciBhcmMgPSBuZXcgS2luZXRpYy5BcmMoe1xuICAgICAqICAgaW5uZXJSYWRpdXM6IDQwLFxuICAgICAqICAgb3V0ZXJSYWRpdXM6IDgwLFxuICAgICAqICAgZmlsbDogJ3JlZCcsXG4gICAgICogICBzdHJva2U6ICdibGFjaydcbiAgICAgKiAgIHN0cm9rZVdpZHRoOiA1LFxuICAgICAqICAgYW5nbGU6IDYwLFxuICAgICAqICAgcm90YXRpb25EZWc6IC0xMjBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLkFyYyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9fX2luaXQoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5BcmMucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgc3VwZXIgY29uc3RydWN0b3JcbiAgICAgICAgICAgIEtpbmV0aWMuU2hhcGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnQXJjJztcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zY2VuZUZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IEtpbmV0aWMuZ2V0QW5nbGUodGhpcy5hbmdsZSgpKSxcbiAgICAgICAgICAgICAgICBjbG9ja3dpc2UgPSB0aGlzLmNsb2Nrd2lzZSgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgdGhpcy5nZXRPdXRlclJhZGl1cygpLCAwLCBhbmdsZSwgY2xvY2t3aXNlKTtcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHRoaXMuZ2V0SW5uZXJSYWRpdXMoKSwgYW5nbGUsIDAsICFjbG9ja3dpc2UpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuQXJjLCBLaW5ldGljLlNoYXBlKTtcblxuICAgIC8vIGFkZCBnZXR0ZXJzIHNldHRlcnNcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuQXJjLCAnaW5uZXJSYWRpdXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgaW5uZXJSYWRpdXNcbiAgICAgKiBAbmFtZSBpbm5lclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BcmMucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlubmVyUmFkaXVzXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBpbm5lciByYWRpdXNcbiAgICAgKiB2YXIgaW5uZXJSYWRpdXMgPSBhcmMuaW5uZXJSYWRpdXMoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBpbm5lciByYWRpdXNcbiAgICAgKiBhcmMuaW5uZXJSYWRpdXMoMjApO1xuICAgICAqL1xuICAgICBcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuQXJjLCAnb3V0ZXJSYWRpdXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgb3V0ZXJSYWRpdXNcbiAgICAgKiBAbmFtZSBvdXRlclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BcmMucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG91dGVyUmFkaXVzXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBvdXRlciByYWRpdXNcbiAgICAgKiB2YXIgb3V0ZXJSYWRpdXMgPSBhcmMub3V0ZXJSYWRpdXMoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBvdXRlciByYWRpdXNcbiAgICAgKiBhcmMub3V0ZXJSYWRpdXMoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkFyYywgJ2FuZ2xlJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgKiBAbmFtZSBhbmdsZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5BcmMucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBhbmdsZVxuICAgICAqIHZhciBhbmdsZSA9IGFyYy5hbmdsZSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGFuZ2xlXG4gICAgICogYXJjLmFuZ2xlKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5BcmMsICdjbG9ja3dpc2UnLCBmYWxzZSk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNsb2Nrd2lzZSBmbGFnXG4gICAgICogQG5hbWUgY2xvY2t3aXNlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkFyYy5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNsb2Nrd2lzZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNsb2Nrd2lzZSBmbGFnXG4gICAgICogdmFyIGNsb2Nrd2lzZSA9IGFyYy5jbG9ja3dpc2UoKTtcbiAgICAgKlxuICAgICAqIC8vIGRyYXcgYXJjIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICogYXJjLmNsb2Nrd2lzZShmYWxzZSk7XG4gICAgICpcbiAgICAgKiAvLyBkcmF3IGFyYyBjbG9ja3dpc2VcbiAgICAgKiBhcmMuY2xvY2t3aXNlKHRydWUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5BcmMpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBDT05TVEFOVFNcbiAgICB2YXIgSU1BR0UgPSAnSW1hZ2UnO1xuXG4gICAgLyoqXG4gICAgICogSW1hZ2UgY29uc3RydWN0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7SW1hZ2V9IGNvbmZpZy5pbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmNyb3BdXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbF0gZmlsbCBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxSZWRdIHNldCBmaWxsIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsR3JlZW5dIHNldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxCbHVlXSBzZXQgZmlsbCBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxBbHBoYV0gc2V0IGZpbGwgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBbY29uZmlnLmZpbGxQYXR0ZXJuSW1hZ2VdIGZpbGwgcGF0dGVybiBpbWFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5YXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5ZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRZXSBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5Sb3RhdGlvbl1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQYXR0ZXJuUmVwZWF0XSBjYW4gYmUgXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuICBUaGUgZGVmYXVsdCBpcyBcIm5vLXJlcGVhdFwiXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFldIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZmlsbEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZmlsbC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQcmlvcml0eV0gY2FuIGJlIGNvbG9yLCBsaW5lYXItZ3JhZGllbnQsIHJhZGlhbC1ncmFpZGVudCwgb3IgcGF0dGVybi4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGNvbG9yLiAgVGhlIGZpbGxQcmlvcml0eSBwcm9wZXJ0eSBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB0b2dnbGUgYmV0d2VlbiBkaWZmZXJlbnQgZmlsbCB0eXBlcy4gIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0b2dnbGUgYmV0d2VlbiBhIGZpbGwgY29sb3Igc3R5bGUgYW5kIGEgZmlsbCBwYXR0ZXJuIHN0eWxlLCBzaW1wbHkgc2V0IHRoZSBmaWxsIHByb3BlcnR5IGFuZCB0aGUgZmlsbFBhdHRlcm4gcHJvcGVydGllcywgYW5kIHRoZW4gdXNlIHNldEZpbGxQcmlvcml0eSgnY29sb3InKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggYSBjb2xvciBmaWxsLCBvciB1c2Ugc2V0RmlsbFByaW9yaXR5KCdwYXR0ZXJuJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIHRoZSBwYXR0ZXJuIGZpbGwgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc3Ryb2tlXSBzdHJva2UgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VSZWRdIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUdyZWVuXSBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUJsdWVdIHNldCBzdHJva2UgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VBbHBoYV0gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0cm9rZVdpZHRoXSBzdHJva2Ugd2lkdGhcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VTY2FsZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyBzdHJva2Ugc2NhbGUuICBUaGUgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzdHJva2UuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lSm9pbl0gY2FuIGJlIG1pdGVyLCByb3VuZCwgb3IgYmV2ZWwuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIG1pdGVyXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lQ2FwXSBjYW4gYmUgYnV0dCwgcm91bmQsIG9yIHNxYXJlLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBidXR0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zaGFkb3dDb2xvcl1cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dSZWRdIHNldCBzaGFkb3cgY29sb3IgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0dyZWVuXSBzZXQgc2hhZG93IGNvbG9yIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0JsdWVdIHNldCBzaGFkb3cgY29sb3IgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dBbHBoYV0gc2V0IHNoYWRvdyBjb2xvciBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd0JsdXJdXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zaGFkb3dPZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09wYWNpdHldIHNoYWRvdyBvcGFjaXR5LiAgQ2FuIGJlIGFueSByZWFsIG51bWJlclxyXG4gICAgICogIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNoYWRvd0VuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc2hhZG93LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5kYXNoXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRhc2hFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGRhc2hBcnJheS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgaW1hZ2VPYmogPSBuZXcgSW1hZ2UoKTtcbiAgICAgKiBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgKiAgIHZhciBpbWFnZSA9IG5ldyBLaW5ldGljLkltYWdlKHtcbiAgICAgKiAgICAgeDogMjAwLFxuICAgICAqICAgICB5OiA1MCxcbiAgICAgKiAgICAgaW1hZ2U6IGltYWdlT2JqLFxuICAgICAqICAgICB3aWR0aDogMTAwLFxuICAgICAqICAgICBoZWlnaHQ6IDEwMFxuICAgICAqICAgfSk7XG4gICAgICogfTtcbiAgICAgKiBpbWFnZU9iai5zcmMgPSAnL3BhdGgvdG8vaW1hZ2UuanBnJ1xuICAgICAqL1xuICAgIEtpbmV0aWMuSW1hZ2UgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fX19pbml0KGNvbmZpZyk7XG4gICAgfTtcblxuICAgIEtpbmV0aWMuSW1hZ2UucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgc3VwZXIgY29uc3RydWN0b3JcbiAgICAgICAgICAgIEtpbmV0aWMuU2hhcGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBJTUFHRTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgICAgICB0aGlzLmhpdEZ1bmModGhpcy5faGl0RnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF91c2VCdWZmZXJDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmhhc1NoYWRvdygpIHx8IHRoaXMuZ2V0QWJzb2x1dGVPcGFjaXR5KCkgIT09IDEpICYmIHRoaXMuaGFzU3Ryb2tlKCkgJiYgdGhpcy5nZXRTdGFnZSgpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoKSxcbiAgICAgICAgICAgICAgICBjcm9wV2lkdGgsIGNyb3BIZWlnaHQsIHBhcmFtcztcblxuICAgICAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgY3JvcFdpZHRoID0gdGhpcy5nZXRDcm9wV2lkdGgoKTtcbiAgICAgICAgICAgICAgICBjcm9wSGVpZ2h0ID0gdGhpcy5nZXRDcm9wSGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNyb3BXaWR0aCAmJiBjcm9wSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IFtpbWFnZSwgdGhpcy5nZXRDcm9wWCgpLCB0aGlzLmdldENyb3BZKCksIGNyb3BXaWR0aCwgY3JvcEhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gW2ltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0ZpbGwoKSB8fCB0aGlzLmhhc1N0cm9rZSgpIHx8IHRoaXMuaGFzU2hhZG93KCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZS5hcHBseShjb250ZXh0LCBwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfaGl0RnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LnJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLndpZHRoIHx8IChpbWFnZSA/IGltYWdlLndpZHRoIDogMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmdldEltYWdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5oZWlnaHQgfHwgKGltYWdlID8gaW1hZ2UuaGVpZ2h0IDogMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5JbWFnZSwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBzZXR0ZXJzXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkltYWdlLCAnaW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBpbWFnZVxuICAgICAqIEBuYW1lIHNldEltYWdlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkltYWdlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBnZXQgaW1hZ2VcbiAgICAgKiBAbmFtZSBnZXRJbWFnZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5JbWFnZS5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2V9XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkQ29tcG9uZW50c0dldHRlclNldHRlcihLaW5ldGljLkltYWdlLCAnY3JvcCcsIFsneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCddKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNyb3BcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgY3JvcFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkltYWdlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjcm9wIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjcm9wLnhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY3JvcC55XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNyb3Aud2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY3JvcC5oZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNyb3BcbiAgICAgKiB2YXIgY3JvcCA9IGltYWdlLmNyb3AoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBjcm9wXG4gICAgICogaW1hZ2UuY3JvcCh7XG4gICAgICogICB4OiAyMCxcbiAgICAgKiAgIHk6IDIwLFxuICAgICAqICAgd2lkdGg6IDIwLFxuICAgICAqICAgaGVpZ2h0OiAyMFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkltYWdlLCAnY3JvcFgnLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNyb3AgeFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBjcm9wWFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkltYWdlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBjcm9wIHhcbiAgICAgKiB2YXIgY3JvcFggPSBpbWFnZS5jcm9wWCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGNyb3AgeFxuICAgICAqIGltYWdlLmNyb3BYKDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5JbWFnZSwgJ2Nyb3BZJywgMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBjcm9wIHlcbiAgICAgKiBAbmFtZSBjcm9wWVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5JbWFnZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgY3JvcCB5XG4gICAgICogdmFyIGNyb3BZID0gaW1hZ2UuY3JvcFkoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCBjcm9wIHlcbiAgICAgKiBpbWFnZS5jcm9wWSgyMCk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuSW1hZ2UsICdjcm9wV2lkdGgnLCAwKTtcbiAgICAvKipcbiAgICAgKiBnZXQvc2V0IGNyb3Agd2lkdGhcbiAgICAgKiBAbmFtZSBjcm9wV2lkdGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuSW1hZ2UucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBjcm9wIHdpZHRoXG4gICAgICogdmFyIGNyb3BXaWR0aCA9IGltYWdlLmNyb3BXaWR0aCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGNyb3Agd2lkdGhcbiAgICAgKiBpbWFnZS5jcm9wV2lkdGgoMjApO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkltYWdlLCAnY3JvcEhlaWdodCcsIDApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY3JvcCBoZWlnaHRcbiAgICAgKiBAbmFtZSBjcm9wSGVpZ2h0XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkltYWdlLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IGNyb3AgaGVpZ2h0XG4gICAgICogdmFyIGNyb3BIZWlnaHQgPSBpbWFnZS5jcm9wSGVpZ2h0KCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgY3JvcCBoZWlnaHRcbiAgICAgKiBpbWFnZS5jcm9wSGVpZ2h0KDIwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuSW1hZ2UpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgLy8gY29uc3RhbnRzXG4gICAgdmFyIEFVVE8gPSAnYXV0bycsXG4gICAgICAgIC8vQ0FOVkFTID0gJ2NhbnZhcycsXG4gICAgICAgIENFTlRFUiA9ICdjZW50ZXInLFxuICAgICAgICBDSEFOR0VfS0lORVRJQyA9ICdDaGFuZ2Uua2luZXRpYycsXG4gICAgICAgIENPTlRFWFRfMkQgPSAnMmQnLFxuICAgICAgICBEQVNIID0gJy0nLFxuICAgICAgICBFTVBUWV9TVFJJTkcgPSAnJyxcbiAgICAgICAgTEVGVCA9ICdsZWZ0JyxcbiAgICAgICAgVEVYVCA9ICd0ZXh0JyxcbiAgICAgICAgVEVYVF9VUFBFUiA9ICdUZXh0JyxcbiAgICAgICAgTUlERExFID0gJ21pZGRsZScsXG4gICAgICAgIE5PUk1BTCA9ICdub3JtYWwnLFxuICAgICAgICBQWF9TUEFDRSA9ICdweCAnLFxuICAgICAgICBTUEFDRSA9ICcgJyxcbiAgICAgICAgUklHSFQgPSAncmlnaHQnLFxuICAgICAgICBXT1JEID0gJ3dvcmQnLFxuICAgICAgICBDSEFSID0gJ2NoYXInLFxuICAgICAgICBOT05FID0gJ25vbmUnLFxuICAgICAgICBBVFRSX0NIQU5HRV9MSVNUID0gWydmb250RmFtaWx5JywgJ2ZvbnRTaXplJywgJ2ZvbnRTdHlsZScsICdmb250VmFyaWFudCcsICdwYWRkaW5nJywgJ2FsaWduJywgJ2xpbmVIZWlnaHQnLCAndGV4dCcsICd3aWR0aCcsICdoZWlnaHQnLCAnd3JhcCddLFxuXG4gICAgICAgIC8vIGNhY2hlZCB2YXJpYWJsZXNcbiAgICAgICAgYXR0ckNoYW5nZUxpc3RMZW4gPSBBVFRSX0NIQU5HRV9MSVNULmxlbmd0aCxcbiAgICAgICAgZHVtbXlDb250ZXh0ID0gS2luZXRpYy5VdGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKS5nZXRDb250ZXh0KENPTlRFWFRfMkQpO1xuXG4gICAgLyoqXG4gICAgICogVGV4dCBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICogQGF1Z21lbnRzIEtpbmV0aWMuU2hhcGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZm9udEZhbWlseV0gZGVmYXVsdCBpcyBBcmlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZvbnRTaXplXSBpbiBwaXhlbHMuICBEZWZhdWx0IGlzIDEyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZm9udFN0eWxlXSBjYW4gYmUgbm9ybWFsLCBib2xkLCBvciBpdGFsaWMuICBEZWZhdWx0IGlzIG5vcm1hbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZvbnRWYXJpYW50XSBjYW4gYmUgbm9ybWFsIG9yIHNtYWxsLWNhcHMuICBEZWZhdWx0IGlzIG5vcm1hbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudGV4dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmFsaWduXSBjYW4gYmUgbGVmdCwgY2VudGVyLCBvciByaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnBhZGRpbmddXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdIGRlZmF1bHQgaXMgYXV0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF0gZGVmYXVsdCBpcyBhdXRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcubGluZUhlaWdodF0gZGVmYXVsdCBpcyAxXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcud3JhcF0gY2FuIGJlIHdvcmQsIGNoYXIsIG9yIG5vbmUuIERlZmF1bHQgaXMgd29yZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxdIGZpbGwgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsUmVkXSBzZXQgZmlsbCByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEdyZWVuXSBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQmx1ZV0gc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQWxwaGFdIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gW2NvbmZpZy5maWxsUGF0dGVybkltYWdlXSBmaWxsIHBhdHRlcm4gaW1hZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WV0gXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlXSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuUm90YXRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUGF0dGVyblJlcGVhdF0gY2FuIGJlIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiAgVGhlIGRlZmF1bHQgaXMgXCJuby1yZXBlYXRcIlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmZpbGxFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGZpbGwuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUHJpb3JpdHldIGNhbiBiZSBjb2xvciwgbGluZWFyLWdyYWRpZW50LCByYWRpYWwtZ3JhaWRlbnQsIG9yIHBhdHRlcm4uICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjb2xvci4gIFRoZSBmaWxsUHJpb3JpdHkgcHJvcGVydHkgbWFrZXMgaXQgcmVhbGx5IGVhc3kgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuICBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gYSBmaWxsIGNvbG9yIHN0eWxlIGFuZCBhIGZpbGwgcGF0dGVybiBzdHlsZSwgc2ltcGx5IHNldCB0aGUgZmlsbCBwcm9wZXJ0eSBhbmQgdGhlIGZpbGxQYXR0ZXJuIHByb3BlcnRpZXMsIGFuZCB0aGVuIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ2NvbG9yJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIGEgY29sb3IgZmlsbCwgb3IgdXNlIHNldEZpbGxQcmlvcml0eSgncGF0dGVybicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCB0aGUgcGF0dGVybiBmaWxsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnN0cm9rZV0gc3Ryb2tlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlUmVkXSBzZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VHcmVlbl0gc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VCbHVlXSBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQWxwaGFdIHNldCBzdHJva2UgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zdHJva2VXaWR0aF0gc3Ryb2tlIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlU2NhbGVFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgc3Ryb2tlIHNjYWxlLiAgVGhlIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc3Ryb2tlLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUpvaW5dIGNhbiBiZSBtaXRlciwgcm91bmQsIG9yIGJldmVsLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBtaXRlclxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUNhcF0gY2FuIGJlIGJ1dHQsIHJvdW5kLCBvciBzcWFyZS4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgYnV0dFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2hhZG93Q29sb3JdXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93UmVkXSBzZXQgc2hhZG93IGNvbG9yIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dHcmVlbl0gc2V0IHNoYWRvdyBjb2xvciBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dCbHVlXSBzZXQgc2hhZG93IGNvbG9yIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93QWxwaGFdIHNldCBzaGFkb3cgY29sb3IgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dCbHVyXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2hhZG93T2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPcGFjaXR5XSBzaGFkb3cgb3BhY2l0eS4gIENhbiBiZSBhbnkgcmVhbCBudW1iZXJcclxuICAgICAqICBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaGFkb3dFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNoYWRvdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGFzaF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kYXNoRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkYXNoQXJyYXkuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcbiAgICAgKiAgIHg6IDEwLFxuICAgICAqICAgeTogMTUsXG4gICAgICogICB0ZXh0OiAnU2ltcGxlIFRleHQnLFxuICAgICAqICAgZm9udFNpemU6IDMwLFxuICAgICAqICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxuICAgICAqICAgZmlsbDogJ2dyZWVuJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIEtpbmV0aWMuVGV4dCA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9fX2luaXQoY29uZmlnKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9maWxsRnVuYyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5wYXJ0aWFsVGV4dCwgMCwgMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9zdHJva2VGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMucGFydGlhbFRleHQsIDAsIDApO1xuICAgIH1cblxuICAgIEtpbmV0aWMuVGV4dC5wcm90b3R5cGUgPSB7XG4gICAgICAgIF9fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICAgICAgY29uZmlnLmZpbGwgPSBjb25maWcuZmlsbCB8fCAnYmxhY2snO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLndpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25maWcud2lkdGggPSBBVVRPO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5oZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWlnaHQgPSBBVVRPO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcblxuICAgICAgICAgICAgdGhpcy5fZmlsbEZ1bmMgPSBfZmlsbEZ1bmM7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VGdW5jID0gX3N0cm9rZUZ1bmM7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFRFWFRfVVBQRVI7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0ZXh0IGRhdGEgZm9yIGNlcnRhaW4gYXR0ciBjaGFuZ2VzXG4gICAgICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgYXR0ckNoYW5nZUxpc3RMZW47IG4rKykge1xuICAgICAgICAgICAgICAgIHRoaXMub24oQVRUUl9DSEFOR0VfTElTVFtuXSArIENIQU5HRV9LSU5FVElDLCB0aGlzLl9zZXRUZXh0RGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldFRleHREYXRhKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lRnVuYyh0aGlzLl9zY2VuZUZ1bmMpO1xuICAgICAgICAgICAgdGhpcy5oaXRGdW5jKHRoaXMuX2hpdEZ1bmMpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZ2V0UGFkZGluZygpLFxuICAgICAgICAgICAgICAgIHRleHRIZWlnaHQgPSB0aGlzLmdldFRleHRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0UHggPSB0aGlzLmdldExpbmVIZWlnaHQoKSAqIHRleHRIZWlnaHQsXG4gICAgICAgICAgICAgICAgdGV4dEFyciA9IHRoaXMudGV4dEFycixcbiAgICAgICAgICAgICAgICB0ZXh0QXJyTGVuID0gdGV4dEFyci5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdG90YWxXaWR0aCA9IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgICAgICAgICBuO1xuXG4gICAgICAgICAgICBjb250ZXh0LnNldEF0dHIoJ2ZvbnQnLCB0aGlzLl9nZXRDb250ZXh0Rm9udCgpKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEJhc2VsaW5lJywgTUlERExFKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEFsaWduJywgTEVGVCk7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHAsIDApO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMCwgcCArIHRleHRIZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gZHJhdyB0ZXh0IGxpbmVzXG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCB0ZXh0QXJyTGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGV4dEFycltuXSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IG9iai50ZXh0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG9iai53aWR0aDtcblxuICAgICAgICAgICAgICAgIC8vIGhvcml6b250YWwgYWxpZ25tZW50XG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5nZXRBbGlnbigpID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0b3RhbFdpZHRoIC0gd2lkdGggLSBwICogMiwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5nZXRBbGlnbigpID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoKHRvdGFsV2lkdGggLSB3aWR0aCAtIHAgKiAyKSAvIDIsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGFydGlhbFRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKDAsIGxpbmVIZWlnaHRQeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2hpdEZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5yZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUZXh0OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgc3RyID0gS2luZXRpYy5VdGlsLl9pc1N0cmluZyh0ZXh0KSA/IHRleHQgOiB0ZXh0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRBdHRyKFRFWFQsIHN0cik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCB3aWR0aCBvZiB0ZXh0IGFyZWEsIHdoaWNoIGluY2x1ZGVzIHBhZGRpbmdcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cnMud2lkdGggPT09IEFVVE8gPyB0aGlzLmdldFRleHRXaWR0aCgpICsgdGhpcy5nZXRQYWRkaW5nKCkgKiAyIDogdGhpcy5hdHRycy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0IGFyZWEsIHdoaWNoIHRha2VzIGludG8gYWNjb3VudCBtdWx0aS1saW5lIHRleHQsIGxpbmUgaGVpZ2h0cywgYW5kIHBhZGRpbmdcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmhlaWdodCA9PT0gQVVUTyA/ICh0aGlzLmdldFRleHRIZWlnaHQoKSAqIHRoaXMudGV4dEFyci5sZW5ndGggKiB0aGlzLmdldExpbmVIZWlnaHQoKSkgKyB0aGlzLmdldFBhZGRpbmcoKSAqIDIgOiB0aGlzLmF0dHJzLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCB0ZXh0IHdpZHRoXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dC5wcm90b3R5cGVcbiAgICAgICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFRleHRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgdGV4dCBoZWlnaHRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGV4dEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VGV4dFNpemU6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBfY29udGV4dCA9IGR1bW15Q29udGV4dCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHRoaXMuZ2V0Rm9udFNpemUoKSxcbiAgICAgICAgICAgICAgICBtZXRyaWNzO1xuXG4gICAgICAgICAgICBfY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBfY29udGV4dC5mb250ID0gdGhpcy5fZ2V0Q29udGV4dEZvbnQoKTtcblxuICAgICAgICAgICAgbWV0cmljcyA9IF9jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xuICAgICAgICAgICAgX2NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogbWV0cmljcy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGZvbnRTaXplLCAxMClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRDb250ZXh0Rm9udDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGb250U3R5bGUoKSArIFNQQUNFICsgdGhpcy5nZXRGb250VmFyaWFudCgpICsgU1BBQ0UgKyB0aGlzLmdldEZvbnRTaXplKCkgKyBQWF9TUEFDRSArIHRoaXMuZ2V0Rm9udEZhbWlseSgpO1xuICAgICAgICB9LFxuICAgICAgICBfYWRkVGV4dExpbmU6IGZ1bmN0aW9uIChsaW5lLCB3aWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dEFyci5wdXNoKHt0ZXh0OiBsaW5lLCB3aWR0aDogd2lkdGh9KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldFRleHRXaWR0aDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBkdW1teUNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRUZXh0RGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxpbmVzID0gdGhpcy5nZXRUZXh0KCkuc3BsaXQoJ1xcbicpLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gK3RoaXMuZ2V0Rm9udFNpemUoKSxcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSAwLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHRQeCA9IHRoaXMuZ2V0TGluZUhlaWdodCgpICogZm9udFNpemUsXG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLmF0dHJzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuYXR0cnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGZpeGVkV2lkdGggPSB3aWR0aCAhPT0gQVVUTyxcbiAgICAgICAgICAgICAgICBmaXhlZEhlaWdodCA9IGhlaWdodCAhPT0gQVVUTyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gdGhpcy5nZXRQYWRkaW5nKCksXG4gICAgICAgICAgICAgICAgbWF4V2lkdGggPSB3aWR0aCAtIHBhZGRpbmcgKiAyLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodFB4ID0gaGVpZ2h0IC0gcGFkZGluZyAqIDIsXG4gICAgICAgICAgICAgICAgY3VycmVudEhlaWdodFB4ID0gMCxcbiAgICAgICAgICAgICAgICB3cmFwID0gdGhpcy5nZXRXcmFwKCksXG4gICAgICAgICAgICAgICAgc2hvdWxkV3JhcCA9IHdyYXAgIT09IE5PTkUsXG4gICAgICAgICAgICAgICAgd3JhcEF0V29yZCA9IHdyYXAgIT09ICBDSEFSICYmIHNob3VsZFdyYXA7XG5cbiAgICAgICAgICAgIHRoaXMudGV4dEFyciA9IFtdO1xuICAgICAgICAgICAgZHVtbXlDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGR1bW15Q29udGV4dC5mb250ID0gdGhpcy5fZ2V0Q29udGV4dEZvbnQoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBtYXggPSBsaW5lcy5sZW5ndGg7IGkgPCBtYXg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IHRoaXMuX2dldFRleHRXaWR0aChsaW5lKTtcbiAgICAgICAgICAgICAgICBpZiAoZml4ZWRXaWR0aCAmJiBsaW5lV2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgKiBpZiB3aWR0aCBpcyBmaXhlZCBhbmQgbGluZSBkb2VzIG5vdCBmaXQgZW50aXJlbHlcbiAgICAgICAgICAgICAgICAgICAgICogYnJlYWsgdGhlIGxpbmUgaW50byBtdWx0aXBsZSBmaXR0aW5nIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogdXNlIGJpbmFyeSBzZWFyY2ggdG8gZmluZCB0aGUgbG9uZ2VzdCBzdWJzdHJpbmcgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogdGhhdCB3b3VsZCBmaXQgaW4gdGhlIHNwZWNpZmllZCB3aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGxpbmUubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gJycsIG1hdGNoV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzdHIgPSBsaW5lLnNsaWNlKDAsIG1pZCArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzdHJXaWR0aCA9IHRoaXMuX2dldFRleHRXaWR0aChzdWJzdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJzdHJXaWR0aCA8PSBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHN1YnN0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hXaWR0aCA9IHN1YnN0cldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICdsb3cnIGlzIG5vdyB0aGUgaW5kZXggb2YgdGhlIHN1YnN0cmluZyBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICdtYXRjaCcgaXMgdGhlIHN1YnN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogJ21hdGNoV2lkdGgnIGlzIHRoZSBzdWJzdHJpbmcgd2lkdGggaW4gcHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBmaXR0aW5nIHN1YnN0cmluZyB3YXMgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod3JhcEF0V29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gZmluZCBhIHNwYWNlIG9yIGRhc2ggd2hlcmUgd3JhcHBpbmcgY291bGQgYmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JhcEluZGV4ID0gTWF0aC5tYXgobWF0Y2gubGFzdEluZGV4T2YoU1BBQ0UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmxhc3RJbmRleE9mKERBU0gpKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1jdXQgdGhlIHN1YnN0cmluZyBmb3VuZCBhdCB0aGUgc3BhY2UvZGFzaCBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ID0gd3JhcEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaC5zbGljZSgwLCBsb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hXaWR0aCA9IHRoaXMuX2dldFRleHRXaWR0aChtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVGV4dExpbmUobWF0Y2gsIG1hdGNoV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IE1hdGgubWF4KHRleHRXaWR0aCwgbWF0Y2hXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlaWdodFB4ICs9IGxpbmVIZWlnaHRQeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFdyYXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpeGVkSGVpZ2h0ICYmIGN1cnJlbnRIZWlnaHRQeCArIGxpbmVIZWlnaHRQeCA+IG1heEhlaWdodFB4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBzdG9wIHdyYXBwaW5nIGlmIHdyYXBwaW5nIGlzIGRpc2FibGVkIG9yIGlmIGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBvbmUgbW9yZSBsaW5lIHdvdWxkIG92ZXJmbG93IHRoZSBmaXhlZCBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zbGljZShsb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHJlbWFpbmluZyB0ZXh0IHdvdWxkIGZpdCBvbiBvbmUgbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSB0aGlzLl9nZXRUZXh0V2lkdGgobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkdGggPD0gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGRvZXMsIGFkZCB0aGUgbGluZSBhbmQgYnJlYWsgb3V0IG9mIHRoZSBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRUZXh0TGluZShsaW5lLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlaWdodFB4ICs9IGxpbmVIZWlnaHRQeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IE1hdGgubWF4KHRleHRXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgZXZlbiBvbmUgY2hhcmFjdGVyIGNvdWxkIGZpdCBpbiB0aGUgZWxlbWVudCwgYWJvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgd2lkdGggaXMgYXV0b21hdGljYWxseSBhZGp1c3RlZCB0byBtYXggbGluZSB3aWR0aFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRUZXh0TGluZShsaW5lLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SGVpZ2h0UHggKz0gbGluZUhlaWdodFB4O1xuICAgICAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBNYXRoLm1heCh0ZXh0V2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIGVsZW1lbnQgaGVpZ2h0IGlzIGZpeGVkLCBhYm9ydCBpZiBhZGRpbmcgb25lIG1vcmUgbGluZSB3b3VsZCBvdmVyZmxvd1xuICAgICAgICAgICAgICAgIGlmIChmaXhlZEhlaWdodCAmJiBjdXJyZW50SGVpZ2h0UHggKyBsaW5lSGVpZ2h0UHggPiBtYXhIZWlnaHRQeCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkdW1teUNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0SGVpZ2h0ID0gZm9udFNpemU7XG4gICAgICAgICAgICB0aGlzLnRleHRXaWR0aCA9IHRleHRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlRleHQsIEtpbmV0aWMuU2hhcGUpO1xuXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAnZm9udEZhbWlseScsICdBcmlhbCcpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBmb250IGZhbWlseVxuICAgICAqIEBuYW1lIGZvbnRGYW1pbHlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dC5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZm9udEZhbWlseVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZm9udCBmYW1pbHlcbiAgICAgKiB2YXIgZm9udEZhbWlseSA9IHRleHQuZm9udEZhbWlseSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZvbnQgZmFtaWx5XG4gICAgICogdGV4dC5mb250RmFtaWx5KCdBcmlhbCcpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRleHQsICdmb250U2l6ZScsIDEyKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgZm9udCBzaXplIGluIHBpeGVsc1xuICAgICAqIEBuYW1lIGZvbnRTaXplXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHQucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZvbnRTaXplXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmb250IHNpemVcbiAgICAgKiB2YXIgZm9udFNpemUgPSB0ZXh0LmZvbnRTaXplKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZm9udCBzaXplIHRvIDIycHhcbiAgICAgKiB0ZXh0LmZvbnRTaXplKDIyKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAnZm9udFN0eWxlJywgTk9STUFMKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBmb250IHN0eWxlLiAgQ2FuIGJlICdub3JtYWwnLCAnaXRhbGljJywgb3IgJ2JvbGQnLiAgJ25vcm1hbCcgaXMgdGhlIGRlZmF1bHQuXG4gICAgICogQG5hbWUgZm9udFN0eWxlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHQucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvbnRTdHlsZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgZm9udCBzdHlsZVxuICAgICAqIHZhciBmb250U3R5bGUgPSB0ZXh0LmZvbnRTdHlsZSgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IGZvbnQgc3R5bGVcbiAgICAgKiB0ZXh0LmZvbnRTdHlsZSgnYm9sZCcpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRleHQsICdmb250VmFyaWFudCcsIE5PUk1BTCk7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgZm9udCB2YXJpYW50LiAgQ2FuIGJlICdub3JtYWwnIG9yICdzbWFsbC1jYXBzJy4gICdub3JtYWwnIGlzIHRoZSBkZWZhdWx0LlxuICAgICAqIEBuYW1lIGZvbnRWYXJpYW50XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHQucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvbnRWYXJpYW50XG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCBmb250IHZhcmlhbnRcbiAgICAgKiB2YXIgZm9udFZhcmlhbnQgPSB0ZXh0LmZvbnRWYXJpYW50KCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgZm9udCB2YXJpYW50XG4gICAgICogdGV4dC5mb250VmFyaWFudCgnc21hbGwtY2FwcycpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRleHQsICdwYWRkaW5nJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgcGFkZGluZ1xuICAgICAqIEBuYW1lIHBhZGRpbmdcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dC5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFkZGluZ1xuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgcGFkZGluZ1xuICAgICAqIHZhciBwYWRkaW5nID0gdGV4dC5wYWRkaW5nKCk7XG4gICAgICogXG4gICAgICogLy8gc2V0IHBhZGRpbmcgdG8gMTAgcGl4ZWxzXG4gICAgICogdGV4dC5wYWRkaW5nKDEwKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAnYWxpZ24nLCBMRUZUKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgaG9yaXpvbnRhbCBhbGlnbiBvZiB0ZXh0LiAgQ2FuIGJlICdsZWZ0JywgJ2NlbnRlcicsIG9yICdyaWdodCdcbiAgICAgKiBAbmFtZSBhbGlnblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhbGlnblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgdGV4dCBhbGlnblxuICAgICAqIHZhciBhbGlnbiA9IHRleHQuYWxpZ24oKTtcbiAgICAgKlxuICAgICAqIC8vIGNlbnRlciB0ZXh0XG4gICAgICogdGV4dC5hbGlnbignY2VudGVyJyk7XG4gICAgICpcbiAgICAgKiAvLyBhbGlnbiB0ZXh0IHRvIHJpZ2h0XG4gICAgICogdGV4dC5hbGlnbigncmlnaHQnKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAnbGluZUhlaWdodCcsIDEpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBsaW5lIGhlaWdodC4gIFRoZSBkZWZhdWx0IGlzIDEuXG4gICAgICogQG5hbWUgbGluZUhlaWdodFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSGVpZ2h0XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZSBcbiAgICAgKiAvLyBnZXQgbGluZSBoZWlnaHRcbiAgICAgKiB2YXIgbGluZUhlaWdodCA9IHRleHQubGluZUhlaWdodCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHRoZSBsaW5lIGhlaWdodFxuICAgICAqIHRleHQubGluZUhlaWdodCgyKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAnd3JhcCcsIFdPUkQpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCB3cmFwLiAgQ2FuIGJlIHdvcmQsIGNoYXIsIG9yIG5vbmUuIERlZmF1bHQgaXMgd29yZC5cbiAgICAgKiBAbmFtZSB3cmFwXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHQucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdyYXBcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHdyYXBcbiAgICAgKiB2YXIgd3JhcCA9IHRleHQud3JhcCgpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHdyYXBcbiAgICAgKiB0ZXh0LndyYXAoJ3dvcmQnKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXIoS2luZXRpYy5UZXh0LCAndGV4dCcsIEVNUFRZX1NUUklORyk7XG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZE92ZXJsb2FkZWRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0LCAndGV4dCcpO1xuXG4gICAgLyoqXG4gICAgICogZ2V0L3NldCB0ZXh0XG4gICAgICogQG5hbWUgZ2V0VGV4dFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0LnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCB0ZXh0XG4gICAgICogdmFyIHRleHQgPSB0ZXh0LnRleHQoKTtcbiAgICAgKiBcbiAgICAgKiAvLyBzZXQgdGV4dFxuICAgICAqIHRleHQudGV4dCgnSGVsbG8gd29ybGQhJyk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLlRleHQpO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgLyoqXG4gICAgICogTGluZSBjb25zdHJ1Y3Rvci4mbmJzcDsgTGluZXMgYXJlIGRlZmluZWQgYnkgYW4gYXJyYXkgb2YgcG9pbnRzIGFuZFxuICAgICAqICBhIHRlbnNpb25cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvbmZpZy5wb2ludHNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy50ZW5zaW9uXSBIaWdoZXIgdmFsdWVzIHdpbGwgcmVzdWx0IGluIGEgbW9yZSBjdXJ2eSBsaW5lLiAgQSB2YWx1ZSBvZiAwIHdpbGwgcmVzdWx0IGluIG5vIGludGVycG9sYXRpb24uXG4gICAgICogICBUaGUgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmNsb3NlZF0gZGVmaW5lcyB3aGV0aGVyIG9yIG5vdCB0aGUgbGluZSBzaGFwZSBpcyBjbG9zZWQsIGNyZWF0aW5nIGEgcG9seWdvbiBvciBibG9iIFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxdIGZpbGwgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsUmVkXSBzZXQgZmlsbCByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEdyZWVuXSBzZXQgZmlsbCBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQmx1ZV0gc2V0IGZpbGwgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsQWxwaGFdIHNldCBmaWxsIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gW2NvbmZpZy5maWxsUGF0dGVybkltYWdlXSBmaWxsIHBhdHRlcm4gaW1hZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuWV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WV0gXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlXSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuUm90YXRpb25dXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUGF0dGVyblJlcGVhdF0gY2FuIGJlIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiAgVGhlIGRlZmF1bHQgaXMgXCJuby1yZXBlYXRcIlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRZXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUmFkaXVzXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmZpbGxFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGZpbGwuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsUHJpb3JpdHldIGNhbiBiZSBjb2xvciwgbGluZWFyLWdyYWRpZW50LCByYWRpYWwtZ3JhaWRlbnQsIG9yIHBhdHRlcm4uICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBjb2xvci4gIFRoZSBmaWxsUHJpb3JpdHkgcHJvcGVydHkgbWFrZXMgaXQgcmVhbGx5IGVhc3kgdG8gdG9nZ2xlIGJldHdlZW4gZGlmZmVyZW50IGZpbGwgdHlwZXMuICBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgdG8gdG9nZ2xlIGJldHdlZW4gYSBmaWxsIGNvbG9yIHN0eWxlIGFuZCBhIGZpbGwgcGF0dGVybiBzdHlsZSwgc2ltcGx5IHNldCB0aGUgZmlsbCBwcm9wZXJ0eSBhbmQgdGhlIGZpbGxQYXR0ZXJuIHByb3BlcnRpZXMsIGFuZCB0aGVuIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ2NvbG9yJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIGEgY29sb3IgZmlsbCwgb3IgdXNlIHNldEZpbGxQcmlvcml0eSgncGF0dGVybicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCB0aGUgcGF0dGVybiBmaWxsIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnN0cm9rZV0gc3Ryb2tlIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlUmVkXSBzZXQgc3Ryb2tlIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VHcmVlbl0gc2V0IHN0cm9rZSBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VCbHVlXSBzZXQgc3Ryb2tlIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQWxwaGFdIHNldCBzdHJva2UgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zdHJva2VXaWR0aF0gc3Ryb2tlIHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlU2NhbGVFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgc3Ryb2tlIHNjYWxlLiAgVGhlIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc3Ryb2tlLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUpvaW5dIGNhbiBiZSBtaXRlciwgcm91bmQsIG9yIGJldmVsLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBtaXRlclxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubGluZUNhcF0gY2FuIGJlIGJ1dHQsIHJvdW5kLCBvciBzcWFyZS4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgYnV0dFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2hhZG93Q29sb3JdXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93UmVkXSBzZXQgc2hhZG93IGNvbG9yIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dHcmVlbl0gc2V0IHNoYWRvdyBjb2xvciBncmVlbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dCbHVlXSBzZXQgc2hhZG93IGNvbG9yIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93QWxwaGFdIHNldCBzaGFkb3cgY29sb3IgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dCbHVyXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2hhZG93T2Zmc2V0XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPcGFjaXR5XSBzaGFkb3cgb3BhY2l0eS4gIENhbiBiZSBhbnkgcmVhbCBudW1iZXJcclxuICAgICAqICBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zaGFkb3dFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNoYWRvdy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZGFzaF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kYXNoRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBkYXNoQXJyYXkuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxpbmUgPSBuZXcgS2luZXRpYy5MaW5lKHtcbiAgICAgKiAgIHg6IDEwMCxcbiAgICAgKiAgIHk6IDUwLFxuICAgICAqICAgcG9pbnRzOiBbNzMsIDcwLCAzNDAsIDIzLCA0NTAsIDYwLCA1MDAsIDIwXSxcbiAgICAgKiAgIHN0cm9rZTogJ3JlZCcsXG4gICAgICogICB0ZW5zaW9uOiAxXG4gICAgICogfSk7XG4gICAgICovXG4gICAgS2luZXRpYy5MaW5lID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkxpbmUucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgc3VwZXIgY29uc3RydWN0b3JcbiAgICAgICAgICAgIEtpbmV0aWMuU2hhcGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnTGluZSc7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ3BvaW50c0NoYW5nZS5raW5ldGljIHRlbnNpb25DaGFuZ2Uua2luZXRpYyBjbG9zZWRDaGFuZ2Uua2luZXRpYycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoJ3RlbnNpb25Qb2ludHMnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNjZW5lRnVuYyh0aGlzLl9zY2VuZUZ1bmMpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5nZXRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBwb2ludHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHRlbnNpb24gPSB0aGlzLmdldFRlbnNpb24oKSxcbiAgICAgICAgICAgICAgICBjbG9zZWQgPSB0aGlzLmdldENsb3NlZCgpLFxuICAgICAgICAgICAgICAgIHRwLCBsZW4sIG47XG5cbiAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAvLyB0ZW5zaW9uXG4gICAgICAgICAgICBpZih0ZW5zaW9uICE9PSAwICYmIGxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICB0cCA9IHRoaXMuZ2V0VGVuc2lvblBvaW50cygpO1xuICAgICAgICAgICAgICAgIGxlbiA9IHRwLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBuID0gY2xvc2VkID8gMCA6IDQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8odHBbMF0sIHRwWzFdLCB0cFsyXSwgdHBbM10pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdoaWxlKG4gPCBsZW4gLSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh0cFtuKytdLCB0cFtuKytdLCB0cFtuKytdLCB0cFtuKytdLCB0cFtuKytdLCB0cFtuKytdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8odHBbbGVuLTJdLCB0cFtsZW4tMV0sIHBvaW50c1tsZW5ndGgtMl0sIHBvaW50c1tsZW5ndGgtMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vIHRlbnNpb25cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcihuID0gMjsgbiA8IGxlbmd0aDsgbis9Mikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbbl0sIHBvaW50c1tuKzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNsb3NlZCBlLmcuIHBvbHlnb25zIGFuZCBibG9ic1xuICAgICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvcGVuIGUuZy4gbGluZXMgYW5kIHNwbGluZXNcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldFRlbnNpb25Qb2ludHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldENhY2hlKCd0ZW5zaW9uUG9pbnRzJywgdGhpcy5fZ2V0VGVuc2lvblBvaW50cyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRUZW5zaW9uUG9pbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldENsb3NlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFRlbnNpb25Qb2ludHNDbG9zZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBLaW5ldGljLlV0aWwuX2V4cGFuZFBvaW50cyh0aGlzLmdldFBvaW50cygpLCB0aGlzLmdldFRlbnNpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRUZW5zaW9uUG9pbnRzQ2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5nZXRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICBsZW4gPSBwLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB0ZW5zaW9uID0gdGhpcy5nZXRUZW5zaW9uKCksXG4gICAgICAgICAgICAgICAgdXRpbCA9IEtpbmV0aWMuVXRpbCxcbiAgICAgICAgICAgICAgICBmaXJzdENvbnRyb2xQb2ludHMgPSB1dGlsLl9nZXRDb250cm9sUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICBwW2xlbi0yXSxcbiAgICAgICAgICAgICAgICAgICAgcFtsZW4tMV0sXG4gICAgICAgICAgICAgICAgICAgIHBbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBbMl0sXG4gICAgICAgICAgICAgICAgICAgIHBbM10sXG4gICAgICAgICAgICAgICAgICAgIHRlbnNpb25cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGxhc3RDb250cm9sUG9pbnRzID0gdXRpbC5fZ2V0Q29udHJvbFBvaW50cyhcbiAgICAgICAgICAgICAgICAgICAgcFtsZW4tNF0sXG4gICAgICAgICAgICAgICAgICAgIHBbbGVuLTNdLFxuICAgICAgICAgICAgICAgICAgICBwW2xlbi0yXSxcbiAgICAgICAgICAgICAgICAgICAgcFtsZW4tMV0sXG4gICAgICAgICAgICAgICAgICAgIHBbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBbMV0sXG4gICAgICAgICAgICAgICAgICAgIHRlbnNpb25cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG1pZGRsZSA9IEtpbmV0aWMuVXRpbC5fZXhwYW5kUG9pbnRzKHAsIHRlbnNpb24pLFxuICAgICAgICAgICAgICAgIHRwID0gW1xuICAgICAgICAgICAgICAgICAgICBmaXJzdENvbnRyb2xQb2ludHNbMl0sXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Q29udHJvbFBvaW50c1szXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAuY29uY2F0KG1pZGRsZSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFtcbiAgICAgICAgICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludHNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb250cm9sUG9pbnRzWzFdLFxuICAgICAgICAgICAgICAgICAgICBwW2xlbi0yXSxcbiAgICAgICAgICAgICAgICAgICAgcFtsZW4tMV0sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb250cm9sUG9pbnRzWzJdLFxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29udHJvbFBvaW50c1szXSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RDb250cm9sUG9pbnRzWzBdLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdENvbnRyb2xQb2ludHNbMV0sXG4gICAgICAgICAgICAgICAgICAgIHBbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBbMV1cbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdHA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5MaW5lLCBLaW5ldGljLlNoYXBlKTtcblxuICAgIC8vIGFkZCBnZXR0ZXJzIHNldHRlcnNcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTGluZSwgJ2Nsb3NlZCcsIGZhbHNlKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgY2xvc2VkIGZsYWcuICBUaGUgZGVmYXVsdCBpcyBmYWxzZVxuICAgICAqIEBuYW1lIGNsb3NlZFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5MaW5lLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xvc2VkXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgY2xvc2VkIGZsYWdcbiAgICAgKiB2YXIgY2xvc2VkID0gbGluZS5jbG9zZWQoKTtcbiAgICAgKlxuICAgICAqIC8vIGNsb3NlIHRoZSBzaGFwZVxuICAgICAqIGxpbmUuY2xvc2VkKHRydWUpO1xuICAgICAqXG4gICAgICogLy8gb3BlbiB0aGUgc2hhcGVcbiAgICAgKiBsaW5lLmNsb3NlZChmYWxzZSk7XG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuTGluZSwgJ3RlbnNpb24nLCAwKTtcblxuICAgIC8qKlxuICAgICAqIGdldC9zZXQgdGVuc2lvblxuICAgICAqIEBuYW1lIHRlbnNpb25cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuTGluZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gSGlnaGVyIHZhbHVlcyB3aWxsIHJlc3VsdCBpbiBhIG1vcmUgY3VydnkgbGluZS4gIEEgdmFsdWUgb2YgMCB3aWxsIHJlc3VsdCBpbiBubyBpbnRlcnBvbGF0aW9uLlxuICAgICAqICAgVGhlIGRlZmF1bHQgaXMgMFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgdGVuc2lvblxuICAgICAqIHZhciB0ZW5zaW9uID0gbGluZS50ZW5zaW9uKCk7XG4gICAgICpcbiAgICAgKiAvLyBzZXQgdGVuc2lvblxuICAgICAqIGxpbmUudGVuc2lvbigzKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5MaW5lLCAncG9pbnRzJywgW10pO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgcG9pbnRzIGFycmF5XG4gICAgICogQG5hbWUgcG9pbnRzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkxpbmUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHBvaW50c1xuICAgICAqIHZhciBwb2ludHMgPSBsaW5lLnBvaW50cygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHBvaW50c1xuICAgICAqIGxpbmUucG9pbnRzKFsxMCwgMjAsIDMwLCA0MCwgNTAsIDYwXSk7XG4gICAgICpcbiAgICAgKiAvLyBwdXNoIGEgbmV3IHBvaW50XG4gICAgICogbGluZS5wb2ludHMobGluZS5wb2ludHMoKS5jb25jYXQoWzcwLCA4MF0pKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuTGluZSk7XG59KSgpOzsoZnVuY3Rpb24oKSB7XHJcbiAgICAvKipcclxuICAgICAqIFNwcml0ZSBjb25zdHJ1Y3RvclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xyXG4gICAgICogQGF1Z21lbnRzIEtpbmV0aWMuU2hhcGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuYW5pbWF0aW9uIGFuaW1hdGlvbiBrZXlcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuYW5pbWF0aW9ucyBhbmltYXRpb24gbWFwXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZnJhbWVJbmRleF0gYW5pbWF0aW9uIGZyYW1lIGluZGV4XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBjb25maWcuaW1hZ2UgaW1hZ2Ugb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsXSBmaWxsIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbFJlZF0gc2V0IGZpbGwgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxHcmVlbl0gc2V0IGZpbGwgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEJsdWVdIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEFscGhhXSBzZXQgZmlsbCBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IFtjb25maWcuZmlsbFBhdHRlcm5JbWFnZV0gZmlsbCBwYXR0ZXJuIGltYWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFldIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZV0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblJvdGF0aW9uXVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFBhdHRlcm5SZXBlYXRdIGNhbiBiZSBcInJlcGVhdFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgb3IgXCJuby1yZXBlYXRcIi4gIFRoZSBkZWZhdWx0IGlzIFwibm8tcmVwZWF0XCJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WV0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5maWxsRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBmaWxsLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFByaW9yaXR5XSBjYW4gYmUgY29sb3IsIGxpbmVhci1ncmFkaWVudCwgcmFkaWFsLWdyYWlkZW50LCBvciBwYXR0ZXJuLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgY29sb3IuICBUaGUgZmlsbFByaW9yaXR5IHByb3BlcnR5IG1ha2VzIGl0IHJlYWxseSBlYXN5IHRvIHRvZ2dsZSBiZXR3ZWVuIGRpZmZlcmVudCBmaWxsIHR5cGVzLiAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRvZ2dsZSBiZXR3ZWVuIGEgZmlsbCBjb2xvciBzdHlsZSBhbmQgYSBmaWxsIHBhdHRlcm4gc3R5bGUsIHNpbXBseSBzZXQgdGhlIGZpbGwgcHJvcGVydHkgYW5kIHRoZSBmaWxsUGF0dGVybiBwcm9wZXJ0aWVzLCBhbmQgdGhlbiB1c2Ugc2V0RmlsbFByaW9yaXR5KCdjb2xvcicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCBhIGNvbG9yIGZpbGwsIG9yIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ3BhdHRlcm4nKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggdGhlIHBhdHRlcm4gZmlsbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zdHJva2VdIHN0cm9rZSBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZVJlZF0gc2V0IHN0cm9rZSByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlR3JlZW5dIHNldCBzdHJva2UgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQmx1ZV0gc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUFscGhhXSBzZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3Ryb2tlV2lkdGhdIHN0cm9rZSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZVNjYWxlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHN0cm9rZSBzY2FsZS4gIFRoZSBkZWZhdWx0IGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHN0cm9rZS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVKb2luXSBjYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgbWl0ZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVDYXBdIGNhbiBiZSBidXR0LCByb3VuZCwgb3Igc3FhcmUuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIGJ1dHRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNoYWRvd0NvbG9yXVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd1JlZF0gc2V0IHNoYWRvdyBjb2xvciByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93R3JlZW5dIHNldCBzaGFkb3cgY29sb3IgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93Qmx1ZV0gc2V0IHNoYWRvdyBjb2xvciBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0FscGhhXSBzZXQgc2hhZG93IGNvbG9yIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93Qmx1cl1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNoYWRvd09mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T3BhY2l0eV0gc2hhZG93IG9wYWNpdHkuICBDYW4gYmUgYW55IHJlYWwgbnVtYmVyXHJcbiAgICAgKiAgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2hhZG93RW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzaGFkb3cuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmRhc2hdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGFzaEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZGFzaEFycmF5LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy53aWR0aF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy52aXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmxpc3RlbmluZ10gd2hldGhlciBvciBub3QgdGhlIG5vZGUgaXMgbGlzdGVuaW5nIGZvciBldmVudHNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmlkXSB1bmlxdWUgaWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLm5hbWVdIG5vbi11bmlxdWUgbmFtZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub3BhY2l0eV0gZGV0ZXJtaW5lcyBub2RlIG9wYWNpdHkuICBDYW4gYmUgYW55IG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNjYWxlXSBzZXQgc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWF0gc2V0IHNjYWxlIHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNjYWxlWV0gc2V0IHNjYWxlIHlcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnJvdGF0aW9uXSByb3RhdGlvbiBpbiBkZWdyZWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5vZmZzZXRdIG9mZnNldCBmcm9tIGNlbnRlciBwb2ludCBhbmQgcm90YXRpb24gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFhdIHNldCBvZmZzZXQgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WV0gc2V0IG9mZnNldCB5XHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZHJhZ2dhYmxlXSBtYWtlcyB0aGUgbm9kZSBkcmFnZ2FibGUuICBXaGVuIHN0YWdlcyBhcmUgZHJhZ2dhYmxlLCB5b3UgY2FuIGRyYWcgYW5kIGRyb3BcclxuICAgICAqICB0aGUgZW50aXJlIHN0YWdlIGJ5IGRyYWdnaW5nIGFueSBwb3J0aW9uIG9mIHRoZSBzdGFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZHJhZ0Rpc3RhbmNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmZpZy5kcmFnQm91bmRGdW5jXVxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIHZhciBpbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICogaW1hZ2VPYmoub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgKiAgIHZhciBzcHJpdGUgPSBuZXcgS2luZXRpYy5TcHJpdGUoe1xyXG4gICAgICogICAgIHg6IDIwMCxcclxuICAgICAqICAgICB5OiAxMDAsXHJcbiAgICAgKiAgICAgaW1hZ2U6IGltYWdlT2JqLFxyXG4gICAgICogICAgIGFuaW1hdGlvbjogJ3N0YW5kaW5nJyxcclxuICAgICAqICAgICBhbmltYXRpb25zOiB7XHJcbiAgICAgKiAgICAgICBzdGFuZGluZzogW1xyXG4gICAgICogICAgICAgICAvLyB4LCB5LCB3aWR0aCwgaGVpZ2h0ICg2IGZyYW1lcylcclxuICAgICAqICAgICAgICAgMCwgMCwgNDksIDEwOSxcclxuICAgICAqICAgICAgICAgNTIsIDAsIDQ5LCAxMDksXHJcbiAgICAgKiAgICAgICAgIDEwNSwgMCwgNDksIDEwOSxcclxuICAgICAqICAgICAgICAgMTU4LCAwLCA0OSwgMTA5LFxyXG4gICAgICogICAgICAgICAyMTAsIDAsIDQ5LCAxMDksXHJcbiAgICAgKiAgICAgICAgIDI2MiwgMCwgNDksIDEwOVxyXG4gICAgICogICAgICAgXSxcclxuICAgICAqICAgICAgIGtpY2tpbmc6IFtcclxuICAgICAqICAgICAgICAgLy8geCwgeSwgd2lkdGgsIGhlaWdodCAoNiBmcmFtZXMpXHJcbiAgICAgKiAgICAgICAgIDAsIDEwOSwgNDUsIDk4LFxyXG4gICAgICogICAgICAgICA0NSwgMTA5LCA0NSwgOTgsXHJcbiAgICAgKiAgICAgICAgIDk1LCAxMDksIDYzLCA5OCxcclxuICAgICAqICAgICAgICAgMTU2LCAxMDksIDcwLCA5OCxcclxuICAgICAqICAgICAgICAgMjI5LCAxMDksIDYwLCA5OCxcclxuICAgICAqICAgICAgICAgMjg3LCAxMDksIDQxLCA5OFxyXG4gICAgICogICAgICAgXSAgICAgICAgICBcclxuICAgICAqICAgICB9LFxyXG4gICAgICogICAgIGZyYW1lUmF0ZTogNyxcclxuICAgICAqICAgICBmcmFtZUluZGV4OiAwXHJcbiAgICAgKiAgIH0pO1xyXG4gICAgICogfTtcclxuICAgICAqIGltYWdlT2JqLnNyYyA9ICcvcGF0aC90by9pbWFnZS5qcGcnXHJcbiAgICAgKi9cclxuICAgIEtpbmV0aWMuU3ByaXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fX19pbml0KGNvbmZpZyk7XHJcbiAgICB9O1xyXG5cclxuICAgIEtpbmV0aWMuU3ByaXRlLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAgICAgLy8gY2FsbCBzdXBlciBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcclxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnU3ByaXRlJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbSA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IG5lZWQgdG8gcmVkcmF3IGxheWVyIHdlIHNob3VsZCByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhhdC5fdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgIHRoYXQuX3VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5vbignYW5pbWF0aW9uQ2hhbmdlLmtpbmV0aWMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGluZGV4IHdoZW4gYW5pbWF0aW9uIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVJbmRleCgwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub24oJ2ZyYW1lSW5kZXhDaGFuZ2Uua2luZXRpYycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBzbW9vdGggY2hhbmdlIGZvciBmcmFtZVJhdGVcclxuICAgICAgICAgICAgdGhpcy5vbignZnJhbWVSYXRlQ2hhbmdlLmtpbmV0aWMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbmltLmlzUnVubmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEludGVydmFsKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZUZ1bmModGhpcy5fc2NlbmVGdW5jKTtcclxuICAgICAgICAgICAgdGhpcy5oaXRGdW5jKHRoaXMuX2hpdEZ1bmMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3NjZW5lRnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgYW5pbSA9IHRoaXMuZ2V0QW5pbWF0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuZnJhbWVJbmRleCgpLFxyXG4gICAgICAgICAgICAgICAgaXg0ID0gaW5kZXggKiA0LFxyXG4gICAgICAgICAgICAgICAgc2V0ID0gdGhpcy5nZXRBbmltYXRpb25zKClbYW5pbV0sXHJcbiAgICAgICAgICAgICAgICBvZmZzZXRzID0gdGhpcy5mcmFtZU9mZnNldHMoKSxcclxuICAgICAgICAgICAgICAgIHggPSAgICAgIHNldFtpeDQgKyAwXSxcclxuICAgICAgICAgICAgICAgIHkgPSAgICAgIHNldFtpeDQgKyAxXSxcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gIHNldFtpeDQgKyAyXSxcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHNldFtpeDQgKyAzXSxcclxuICAgICAgICAgICAgICAgIGltYWdlID0gdGhpcy5nZXRJbWFnZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvZmZzZXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IG9mZnNldHNbYW5pbV0sXHJcbiAgICAgICAgICAgICAgICAgICAgaXgyID0gaW5kZXggKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBvZmZzZXRbaXgyICsgMF0sIG9mZnNldFtpeDIgKyAxXSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2hpdEZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGFuaW0gPSB0aGlzLmdldEFuaW1hdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLmZyYW1lSW5kZXgoKSxcclxuICAgICAgICAgICAgICAgIGl4NCA9IGluZGV4ICogNCxcclxuICAgICAgICAgICAgICAgIHNldCA9IHRoaXMuZ2V0QW5pbWF0aW9ucygpW2FuaW1dLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0cyA9IHRoaXMuZnJhbWVPZmZzZXRzKCksXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9ICBzZXRbaXg0ICsgMl0sXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBzZXRbaXg0ICsgM107XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBpZiAob2Zmc2V0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IG9mZnNldHNbYW5pbV07XHJcbiAgICAgICAgICAgICAgICB2YXIgaXgyID0gaW5kZXggKiAyO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KG9mZnNldFtpeDIgKyAwXSwgb2Zmc2V0W2l4MiArIDFdLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTaGFwZSh0aGlzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF91c2VCdWZmZXJDYW52YXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaGFzU2hhZG93KCkgfHwgdGhpcy5nZXRBYnNvbHV0ZU9wYWNpdHkoKSAhPT0gMSkgJiYgdGhpcy5oYXNTdHJva2UoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9zZXRJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fdXBkYXRlSW5kZXgoKTtcclxuICAgICAgICAgICAgfSwgMTAwMCAvIHRoaXMuZ2V0RnJhbWVSYXRlKCkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc3RhcnQgc3ByaXRlIGFuaW1hdGlvblxyXG4gICAgICAgICAqIEBtZXRob2RcclxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TcHJpdGUucHJvdG90eXBlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBhbmltYXRpb24gb2JqZWN0IGhhcyBubyBleGVjdXRhYmxlIGZ1bmN0aW9uIGJlY2F1c2VcclxuICAgICAgICAgICAgICogIHRoZSB1cGRhdGVzIGFyZSBkb25lIHdpdGggYSBmaXhlZCBGUFMgd2l0aCB0aGUgc2V0SW50ZXJ2YWxcclxuICAgICAgICAgICAgICogIGJlbG93LiAgVGhlIGFuaW0gb2JqZWN0IG9ubHkgbmVlZHMgdGhlIGxheWVyIHJlZmVyZW5jZSBmb3JcclxuICAgICAgICAgICAgICogIHJlZHJhd1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5hbmltLnNldExheWVycyhsYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldEludGVydmFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbS5zdGFydCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc3RvcCBzcHJpdGUgYW5pbWF0aW9uXHJcbiAgICAgICAgICogQG1ldGhvZFxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNwcml0ZS5wcm90b3R5cGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltLnN0b3AoKTtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGRldGVybWluZSBpZiBhbmltYXRpb24gb2Ygc3ByaXRlIGlzIHJ1bm5pbmcgb3Igbm90LiAgcmV0dXJucyB0cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgICogQG1ldGhvZFxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkFuaW1hdGlvbi5wcm90b3R5cGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBpc1J1bm5pbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltLmlzUnVubmluZygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3VwZGF0ZUluZGV4OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5mcmFtZUluZGV4KCksXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IHRoaXMuZ2V0QW5pbWF0aW9ucygpLFxyXG4gICAgICAgICAgICAgICAgYW5pbSA9IGFuaW1hdGlvbnNbYW5pbWF0aW9uXSxcclxuICAgICAgICAgICAgICAgIGxlbiA9IGFuaW0ubGVuZ3RoIC8gNDtcclxuXHJcbiAgICAgICAgICAgIGlmKGluZGV4IDwgbGVuIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZUluZGV4KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lSW5kZXgoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlNwcml0ZSwgS2luZXRpYy5TaGFwZSk7XHJcblxyXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xyXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNwcml0ZSwgJ2FuaW1hdGlvbicpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0L3NldCBhbmltYXRpb24ga2V5XHJcbiAgICAgKiBAbmFtZSBhbmltYXRpb25cclxuICAgICAqIEBtZXRob2RcclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNwcml0ZS5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhbmltIGFuaW1hdGlvbiBrZXlcclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogLy8gZ2V0IGFuaW1hdGlvbiBrZXlcclxuICAgICAqIHZhciBhbmltYXRpb24gPSBzcHJpdGUuYW5pbWF0aW9uKCk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gc2V0IGFuaW1hdGlvbiBrZXlcclxuICAgICAqIHNwcml0ZS5hbmltYXRpb24oJ2tpY2tpbmcnKTtcclxuICAgICAqL1xyXG5cclxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TcHJpdGUsICdhbmltYXRpb25zJyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQvc2V0IGFuaW1hdGlvbnMgbWFwXHJcbiAgICAgKiBAbmFtZSBhbmltYXRpb25zXHJcbiAgICAgKiBAbWV0aG9kXHJcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TcHJpdGUucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYW5pbWF0aW9uc1xyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAvLyBnZXQgYW5pbWF0aW9ucyBtYXBcclxuICAgICAqIHZhciBhbmltYXRpb25zID0gc3ByaXRlLmFuaW1hdGlvbnMoKTtcclxuICAgICAqIFxyXG4gICAgICogLy8gc2V0IGFuaW1hdGlvbnMgbWFwXHJcbiAgICAgKiBzcHJpdGUuYW5pbWF0aW9ucyh7XHJcbiAgICAgKiAgIHN0YW5kaW5nOiBbXHJcbiAgICAgKiAgICAgLy8geCwgeSwgd2lkdGgsIGhlaWdodCAoNiBmcmFtZXMpXHJcbiAgICAgKiAgICAgMCwgMCwgNDksIDEwOSxcclxuICAgICAqICAgICA1MiwgMCwgNDksIDEwOSxcclxuICAgICAqICAgICAxMDUsIDAsIDQ5LCAxMDksXHJcbiAgICAgKiAgICAgMTU4LCAwLCA0OSwgMTA5LFxyXG4gICAgICogICAgIDIxMCwgMCwgNDksIDEwOSxcclxuICAgICAqICAgICAyNjIsIDAsIDQ5LCAxMDlcclxuICAgICAqICAgXSxcclxuICAgICAqICAga2lja2luZzogW1xyXG4gICAgICogICAgIC8vIHgsIHksIHdpZHRoLCBoZWlnaHQgKDYgZnJhbWVzKVxyXG4gICAgICogICAgIDAsIDEwOSwgNDUsIDk4LFxyXG4gICAgICogICAgIDQ1LCAxMDksIDQ1LCA5OCxcclxuICAgICAqICAgICA5NSwgMTA5LCA2MywgOTgsXHJcbiAgICAgKiAgICAgMTU2LCAxMDksIDcwLCA5OCxcclxuICAgICAqICAgICAyMjksIDEwOSwgNjAsIDk4LFxyXG4gICAgICogICAgIDI4NywgMTA5LCA0MSwgOThcclxuICAgICAqICAgXSAgICAgICAgICBcclxuICAgICAqIH0pO1xyXG4gICAgICovXHJcblxyXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNwcml0ZSwgJ2ZyYW1lT2Zmc2V0cycpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBnZXQvc2V0IG9mZnNldHMgbWFwXHJcbiAgICAqIEBuYW1lIG9mZnNldHNcclxuICAgICogQG1ldGhvZFxyXG4gICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TcHJpdGUucHJvdG90eXBlXHJcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvZmZzZXRzXHJcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICAqIC8vIGdldCBvZmZzZXRzIG1hcFxyXG4gICAgKiB2YXIgb2Zmc2V0cyA9IHNwcml0ZS5vZmZzZXRzKCk7XHJcbiAgICAqXHJcbiAgICAqIC8vIHNldCBvZmZzZXRzIG1hcFxyXG4gICAgKiBzcHJpdGUub2Zmc2V0cyh7XHJcbiAgICAqICAgc3RhbmRpbmc6IFtcclxuICAgICogICAgIC8vIHgsIHkgKDYgZnJhbWVzKVxyXG4gICAgKiAgICAgMCwgMCxcclxuICAgICogICAgIDAsIDAsXHJcbiAgICAqICAgICA1LCAwLFxyXG4gICAgKiAgICAgMCwgMCxcclxuICAgICogICAgIDAsIDMsXHJcbiAgICAqICAgICAyLCAwXHJcbiAgICAqICAgXSxcclxuICAgICogICBraWNraW5nOiBbXHJcbiAgICAqICAgICAvLyB4LCB5ICg2IGZyYW1lcylcclxuICAgICogICAgIDAsIDUsXHJcbiAgICAqICAgICA1LCAwLFxyXG4gICAgKiAgICAgMTAsIDAsXHJcbiAgICAqICAgICAwLCAwLFxyXG4gICAgKiAgICAgMiwgMSxcclxuICAgICogICAgIDAsIDBcclxuICAgICogICBdXHJcbiAgICAqIH0pO1xyXG4gICAgKi9cclxuIFxyXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlNwcml0ZSwgJ2ltYWdlJyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQvc2V0IGltYWdlXHJcbiAgICAgKiBAbmFtZSBpbWFnZVxyXG4gICAgICogQG1ldGhvZFxyXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3ByaXRlLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcclxuICAgICAqIEByZXR1cm5zIHtJbWFnZX1cclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAvLyBnZXQgaW1hZ2VcclxuICAgICAqIHZhciBpbWFnZSA9IHNwcml0ZS5pbWFnZSgpO1xyXG4gICAgICpcclxuICAgICAqIC8vIHNldCBpbWFnZVxyXG4gICAgICogc3ByaXRlLmltYWdlKGltYWdlT2JqKTtcclxuICAgICAqL1xyXG5cclxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TcHJpdGUsICdmcmFtZUluZGV4JywgMCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQvc2V0IGFuaW1hdGlvbiBmcmFtZSBpbmRleFxyXG4gICAgICogQG5hbWUgZnJhbWVJbmRleFxyXG4gICAgICogQG1ldGhvZFxyXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3ByaXRlLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBmcmFtZUluZGV4XHJcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAvLyBnZXQgYW5pbWF0aW9uIGZyYW1lIGluZGV4XHJcbiAgICAgKiB2YXIgZnJhbWVJbmRleCA9IHNwcml0ZS5mcmFtZUluZGV4KCk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gc2V0IGFuaW1hdGlvbiBmcmFtZSBpbmRleFxyXG4gICAgICogc3ByaXRlLmZyYW1lSW5kZXgoMyk7XHJcbiAgICAgKi9cclxuXHJcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuU3ByaXRlLCAnZnJhbWVSYXRlJywgMTcpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0L3NldCBmcmFtZSByYXRlIGluIGZyYW1lcyBwZXIgc2Vjb25kLiAgSW5jcmVhc2UgdGhpcyBudW1iZXIgdG8gbWFrZSB0aGUgc3ByaXRlXHJcbiAgICAgKiAgYW5pbWF0aW9uIHJ1biBmYXN0ZXIsIGFuZCBkZWNyZWFzZSB0aGUgbnVtYmVyIHRvIG1ha2UgdGhlIHNwcml0ZSBhbmltYXRpb24gcnVuIHNsb3dlclxyXG4gICAgICogIFRoZSBkZWZhdWx0IGlzIDE3IGZyYW1lcyBwZXIgc2Vjb25kXHJcbiAgICAgKiBAbmFtZSBmcmFtZVJhdGVcclxuICAgICAqIEBtZXRob2RcclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlNwcml0ZS5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gZnJhbWVSYXRlXHJcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn1cclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAvLyBnZXQgZnJhbWUgcmF0ZVxyXG4gICAgICogdmFyIGZyYW1lUmF0ZSA9IHNwcml0ZS5mcmFtZVJhdGUoKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBzZXQgZnJhbWUgcmF0ZSB0byAyIGZyYW1lcyBwZXIgc2Vjb25kXHJcbiAgICAgKiBzcHJpdGUuZnJhbWVSYXRlKDIpO1xyXG4gICAgICovXHJcblxyXG4gICAgS2luZXRpYy5GYWN0b3J5LmJhY2tDb21wYXQoS2luZXRpYy5TcHJpdGUsIHtcclxuICAgICAgICBpbmRleDogJ2ZyYW1lSW5kZXgnLFxyXG4gICAgICAgIGdldEluZGV4OiAnZ2V0RnJhbWVJbmRleCcsXHJcbiAgICAgICAgc2V0SW5kZXg6ICdzZXRGcmFtZUluZGV4J1xyXG4gICAgfSk7XHJcblxyXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5TcHJpdGUpO1xyXG59KSgpO1xyXG47KGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBQYXRoIGNvbnN0cnVjdG9yLlxuICAgICAqIEBhdXRob3IgSmFzb24gRm9sbGFzXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5TaGFwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmRhdGEgU1ZHIGRhdGEgc3RyaW5nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbF0gZmlsbCBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxSZWRdIHNldCBmaWxsIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsR3JlZW5dIHNldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxCbHVlXSBzZXQgZmlsbCBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxBbHBoYV0gc2V0IGZpbGwgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBbY29uZmlnLmZpbGxQYXR0ZXJuSW1hZ2VdIGZpbGwgcGF0dGVybiBpbWFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5YXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5ZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRZXSBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5Sb3RhdGlvbl1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQYXR0ZXJuUmVwZWF0XSBjYW4gYmUgXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuICBUaGUgZGVmYXVsdCBpcyBcIm5vLXJlcGVhdFwiXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFldIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZmlsbEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZmlsbC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQcmlvcml0eV0gY2FuIGJlIGNvbG9yLCBsaW5lYXItZ3JhZGllbnQsIHJhZGlhbC1ncmFpZGVudCwgb3IgcGF0dGVybi4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGNvbG9yLiAgVGhlIGZpbGxQcmlvcml0eSBwcm9wZXJ0eSBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB0b2dnbGUgYmV0d2VlbiBkaWZmZXJlbnQgZmlsbCB0eXBlcy4gIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0b2dnbGUgYmV0d2VlbiBhIGZpbGwgY29sb3Igc3R5bGUgYW5kIGEgZmlsbCBwYXR0ZXJuIHN0eWxlLCBzaW1wbHkgc2V0IHRoZSBmaWxsIHByb3BlcnR5IGFuZCB0aGUgZmlsbFBhdHRlcm4gcHJvcGVydGllcywgYW5kIHRoZW4gdXNlIHNldEZpbGxQcmlvcml0eSgnY29sb3InKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggYSBjb2xvciBmaWxsLCBvciB1c2Ugc2V0RmlsbFByaW9yaXR5KCdwYXR0ZXJuJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIHRoZSBwYXR0ZXJuIGZpbGwgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc3Ryb2tlXSBzdHJva2UgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VSZWRdIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUdyZWVuXSBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUJsdWVdIHNldCBzdHJva2UgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VBbHBoYV0gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0cm9rZVdpZHRoXSBzdHJva2Ugd2lkdGhcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VTY2FsZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyBzdHJva2Ugc2NhbGUuICBUaGUgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzdHJva2UuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lSm9pbl0gY2FuIGJlIG1pdGVyLCByb3VuZCwgb3IgYmV2ZWwuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIG1pdGVyXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lQ2FwXSBjYW4gYmUgYnV0dCwgcm91bmQsIG9yIHNxYXJlLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBidXR0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zaGFkb3dDb2xvcl1cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dSZWRdIHNldCBzaGFkb3cgY29sb3IgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0dyZWVuXSBzZXQgc2hhZG93IGNvbG9yIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0JsdWVdIHNldCBzaGFkb3cgY29sb3IgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dBbHBoYV0gc2V0IHNoYWRvdyBjb2xvciBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd0JsdXJdXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zaGFkb3dPZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09wYWNpdHldIHNoYWRvdyBvcGFjaXR5LiAgQ2FuIGJlIGFueSByZWFsIG51bWJlclxyXG4gICAgICogIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNoYWRvd0VuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc2hhZG93LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5kYXNoXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRhc2hFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGRhc2hBcnJheS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcGF0aCA9IG5ldyBLaW5ldGljLlBhdGgoe1xuICAgICAqICAgeDogMjQwLFxuICAgICAqICAgeTogNDAsXG4gICAgICogICBkYXRhOiAnTTEyLjU4Miw5LjU1MUMzLjI1MSwxNi4yMzcsMC45MjEsMjkuMDIxLDcuMDgsMzguNTY0bC0yLjM2LDEuNjg5bDQuODkzLDIuMjYybDQuODkzLDIuMjYybC0wLjU2OC01LjM2bC0wLjU2Ny01LjM1OWwtMi4zNjUsMS42OTRjLTQuNjU3LTcuMzc1LTIuODMtMTcuMTg1LDQuMzUyLTIyLjMzYzcuNDUxLTUuMzM4LDE3LjgxNy0zLjYyNSwyMy4xNTYsMy44MjRjNS4zMzcsNy40NDksMy42MjUsMTcuODEzLTMuODIxLDIzLjE1MmwyLjg1NywzLjk4OGM5LjYxNy02Ljg5MywxMS44MjctMjAuMjc3LDQuOTM1LTI5Ljg5NkMzNS41OTEsNC44NywyMi4yMDQsMi42NTgsMTIuNTgyLDkuNTUxeicsXG4gICAgICogICBmaWxsOiAnZ3JlZW4nLFxuICAgICAqICAgc2NhbGU6IDJcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLlBhdGggPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLlBhdGgucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IFtdO1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ1BhdGgnO1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IEtpbmV0aWMuUGF0aC5wYXJzZVBhdGhEYXRhKHRoaXMuZ2V0RGF0YSgpKTtcbiAgICAgICAgICAgIHRoaXMub24oJ2RhdGFDaGFuZ2Uua2luZXRpYycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmRhdGFBcnJheSA9IEtpbmV0aWMuUGF0aC5wYXJzZVBhdGhEYXRhKHRoaXMuZ2V0RGF0YSgpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNjZW5lRnVuYyh0aGlzLl9zY2VuZUZ1bmMpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgY2EgPSB0aGlzLmRhdGFBcnJheSxcbiAgICAgICAgICAgICAgICBjbG9zZWRQYXRoID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGNvbnRleHQgcG9zaXRpb25cbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNhLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBjYVtuXS5jb21tYW5kO1xuICAgICAgICAgICAgICAgIHZhciBwID0gY2Fbbl0ucG9pbnRzO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBbMF0sIHBbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocFswXSwgcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8ocFswXSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocFswXSwgcFsxXSwgcFsyXSwgcFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSBwWzBdLCBjeSA9IHBbMV0sIHJ4ID0gcFsyXSwgcnkgPSBwWzNdLCB0aGV0YSA9IHBbNF0sIGRUaGV0YSA9IHBbNV0sIHBzaSA9IHBbNl0sIGZzID0gcFs3XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSAocnggPiByeSkgPyByeCA6IHJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlWCA9IChyeCA+IHJ5KSA/IDEgOiByeCAvIHJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlWSA9IChyeCA+IHJ5KSA/IHJ5IC8gcnggOiAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShjeCwgY3kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yb3RhdGUocHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgciwgdGhldGEsIHRoZXRhICsgZFRoZXRhLCAxIC0gZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zY2FsZSgxIC8gc2NhbGVYLCAxIC8gc2NhbGVZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucm90YXRlKC1wc2kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLWN4LCAtY3kpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VkUGF0aCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjbG9zZWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuUGF0aCwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICBLaW5ldGljLlBhdGguZ2V0TGluZUxlbmd0aCA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICB9O1xuICAgIEtpbmV0aWMuUGF0aC5nZXRQb2ludE9uTGluZSA9IGZ1bmN0aW9uKGRpc3QsIFAxeCwgUDF5LCBQMngsIFAyeSwgZnJvbVgsIGZyb21ZKSB7XG4gICAgICAgIGlmKGZyb21YID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZyb21YID0gUDF4O1xuICAgICAgICB9XG4gICAgICAgIGlmKGZyb21ZID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZyb21ZID0gUDF5O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG0gPSAoUDJ5IC0gUDF5KSAvICgoUDJ4IC0gUDF4KSArIDAuMDAwMDAwMDEpO1xuICAgICAgICB2YXIgcnVuID0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0IC8gKDEgKyBtICogbSkpO1xuICAgICAgICBpZihQMnggPCBQMXgpIHtcbiAgICAgICAgICAgIHJ1biAqPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmlzZSA9IG0gKiBydW47XG4gICAgICAgIHZhciBwdDtcblxuICAgICAgICBpZiAoUDJ4ID09PSBQMXgpIHsgLy8gdmVydGljYWwgbGluZVxuICAgICAgICAgICAgcHQgPSB7XG4gICAgICAgICAgICAgICAgeDogZnJvbVgsXG4gICAgICAgICAgICAgICAgeTogZnJvbVkgKyByaXNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYoKGZyb21ZIC0gUDF5KSAvICgoZnJvbVggLSBQMXgpICsgMC4wMDAwMDAwMSkgPT09IG0pIHtcbiAgICAgICAgICAgIHB0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGZyb21YICsgcnVuLFxuICAgICAgICAgICAgICAgIHk6IGZyb21ZICsgcmlzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpeCwgaXk7XG5cbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExpbmVMZW5ndGgoUDF4LCBQMXksIFAyeCwgUDJ5KTtcbiAgICAgICAgICAgIGlmKGxlbiA8IDAuMDAwMDAwMDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHUgPSAoKChmcm9tWCAtIFAxeCkgKiAoUDJ4IC0gUDF4KSkgKyAoKGZyb21ZIC0gUDF5KSAqIChQMnkgLSBQMXkpKSk7XG4gICAgICAgICAgICB1ID0gdSAvIChsZW4gKiBsZW4pO1xuICAgICAgICAgICAgaXggPSBQMXggKyB1ICogKFAyeCAtIFAxeCk7XG4gICAgICAgICAgICBpeSA9IFAxeSArIHUgKiAoUDJ5IC0gUDF5KTtcblxuICAgICAgICAgICAgdmFyIHBSaXNlID0gdGhpcy5nZXRMaW5lTGVuZ3RoKGZyb21YLCBmcm9tWSwgaXgsIGl5KTtcbiAgICAgICAgICAgIHZhciBwUnVuID0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0IC0gcFJpc2UgKiBwUmlzZSk7XG4gICAgICAgICAgICBydW4gPSBNYXRoLnNxcnQocFJ1biAqIHBSdW4gLyAoMSArIG0gKiBtKSk7XG4gICAgICAgICAgICBpZihQMnggPCBQMXgpIHtcbiAgICAgICAgICAgICAgICBydW4gKj0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByaXNlID0gbSAqIHJ1bjtcbiAgICAgICAgICAgIHB0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGl4ICsgcnVuLFxuICAgICAgICAgICAgICAgIHk6IGl5ICsgcmlzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwdDtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5QYXRoLmdldFBvaW50T25DdWJpY0JlemllciA9IGZ1bmN0aW9uKHBjdCwgUDF4LCBQMXksIFAyeCwgUDJ5LCBQM3gsIFAzeSwgUDR4LCBQNHkpIHtcbiAgICAgICAgZnVuY3Rpb24gQ0IxKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ICogdCAqIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gQ0IyKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAzICogdCAqIHQgKiAoMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIENCMyh0KSB7XG4gICAgICAgICAgICByZXR1cm4gMyAqIHQgKiAoMSAtIHQpICogKDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBDQjQodCkge1xuICAgICAgICAgICAgcmV0dXJuICgxIC0gdCkgKiAoMSAtIHQpICogKDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IFA0eCAqIENCMShwY3QpICsgUDN4ICogQ0IyKHBjdCkgKyBQMnggKiBDQjMocGN0KSArIFAxeCAqIENCNChwY3QpO1xuICAgICAgICB2YXIgeSA9IFA0eSAqIENCMShwY3QpICsgUDN5ICogQ0IyKHBjdCkgKyBQMnkgKiBDQjMocGN0KSArIFAxeSAqIENCNChwY3QpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH07XG4gICAgS2luZXRpYy5QYXRoLmdldFBvaW50T25RdWFkcmF0aWNCZXppZXIgPSBmdW5jdGlvbihwY3QsIFAxeCwgUDF5LCBQMngsIFAyeSwgUDN4LCBQM3kpIHtcbiAgICAgICAgZnVuY3Rpb24gUUIxKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBRQjIodCkge1xuICAgICAgICAgICAgcmV0dXJuIDIgKiB0ICogKDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBRQjModCkge1xuICAgICAgICAgICAgcmV0dXJuICgxIC0gdCkgKiAoMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gUDN4ICogUUIxKHBjdCkgKyBQMnggKiBRQjIocGN0KSArIFAxeCAqIFFCMyhwY3QpO1xuICAgICAgICB2YXIgeSA9IFAzeSAqIFFCMShwY3QpICsgUDJ5ICogUUIyKHBjdCkgKyBQMXkgKiBRQjMocGN0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEtpbmV0aWMuUGF0aC5nZXRQb2ludE9uRWxsaXB0aWNhbEFyYyA9IGZ1bmN0aW9uKGN4LCBjeSwgcngsIHJ5LCB0aGV0YSwgcHNpKSB7XG4gICAgICAgIHZhciBjb3NQc2kgPSBNYXRoLmNvcyhwc2kpLCBzaW5Qc2kgPSBNYXRoLnNpbihwc2kpO1xuICAgICAgICB2YXIgcHQgPSB7XG4gICAgICAgICAgICB4OiByeCAqIE1hdGguY29zKHRoZXRhKSxcbiAgICAgICAgICAgIHk6IHJ5ICogTWF0aC5zaW4odGhldGEpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBjeCArIChwdC54ICogY29zUHNpIC0gcHQueSAqIHNpblBzaSksXG4gICAgICAgICAgICB5OiBjeSArIChwdC54ICogc2luUHNpICsgcHQueSAqIGNvc1BzaSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXG4gICAgICogZ2V0IHBhcnNlZCBkYXRhIGFycmF5IGZyb20gdGhlIGRhdGFcbiAgICAgKiAgc3RyaW5nLiAgViwgdiwgSCwgaCwgYW5kIGwgZGF0YSBhcmUgY29udmVydGVkIHRvXG4gICAgICogIEwgZGF0YSBmb3IgdGhlIHB1cnBvc2Ugb2YgaGlnaCBwZXJmb3JtYW5jZSBQYXRoXG4gICAgICogIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIEtpbmV0aWMuUGF0aC5wYXJzZVBhdGhEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAvLyBQYXRoIERhdGEgU2VnbWVudCBtdXN0IGJlZ2luIHdpdGggYSBtb3ZlVG9cbiAgICAgICAgLy9tICh4IHkpKyAgUmVsYXRpdmUgbW92ZVRvIChzdWJzZXF1ZW50IHBvaW50cyBhcmUgdHJlYXRlZCBhcyBsaW5lVG8pXG4gICAgICAgIC8vTSAoeCB5KSsgIEFic29sdXRlIG1vdmVUbyAoc3Vic2VxdWVudCBwb2ludHMgYXJlIHRyZWF0ZWQgYXMgbGluZVRvKVxuICAgICAgICAvL2wgKHggeSkrICBSZWxhdGl2ZSBsaW5lVG9cbiAgICAgICAgLy9MICh4IHkpKyAgQWJzb2x1dGUgTGluZVRvXG4gICAgICAgIC8vaCAoeCkrICAgIFJlbGF0aXZlIGhvcml6b250YWwgbGluZVRvXG4gICAgICAgIC8vSCAoeCkrICAgIEFic29sdXRlIGhvcml6b250YWwgbGluZVRvXG4gICAgICAgIC8vdiAoeSkrICAgIFJlbGF0aXZlIHZlcnRpY2FsIGxpbmVUb1xuICAgICAgICAvL1YgKHkpKyAgICBBYnNvbHV0ZSB2ZXJ0aWNhbCBsaW5lVG9cbiAgICAgICAgLy96IChjbG9zZXBhdGgpXG4gICAgICAgIC8vWiAoY2xvc2VwYXRoKVxuICAgICAgICAvL2MgKHgxIHkxIHgyIHkyIHggeSkrIFJlbGF0aXZlIEJlemllciBjdXJ2ZVxuICAgICAgICAvL0MgKHgxIHkxIHgyIHkyIHggeSkrIEFic29sdXRlIEJlemllciBjdXJ2ZVxuICAgICAgICAvL3EgKHgxIHkxIHggeSkrICAgICAgIFJlbGF0aXZlIFF1YWRyYXRpYyBCZXppZXJcbiAgICAgICAgLy9RICh4MSB5MSB4IHkpKyAgICAgICBBYnNvbHV0ZSBRdWFkcmF0aWMgQmV6aWVyXG4gICAgICAgIC8vdCAoeCB5KSsgICAgU2hvcnRoYW5kL1Ntb290aCBSZWxhdGl2ZSBRdWFkcmF0aWMgQmV6aWVyXG4gICAgICAgIC8vVCAoeCB5KSsgICAgU2hvcnRoYW5kL1Ntb290aCBBYnNvbHV0ZSBRdWFkcmF0aWMgQmV6aWVyXG4gICAgICAgIC8vcyAoeDIgeTIgeCB5KSsgICAgICAgU2hvcnRoYW5kL1Ntb290aCBSZWxhdGl2ZSBCZXppZXIgY3VydmVcbiAgICAgICAgLy9TICh4MiB5MiB4IHkpKyAgICAgICBTaG9ydGhhbmQvU21vb3RoIEFic29sdXRlIEJlemllciBjdXJ2ZVxuICAgICAgICAvL2EgKHJ4IHJ5IHgtYXhpcy1yb3RhdGlvbiBsYXJnZS1hcmMtZmxhZyBzd2VlcC1mbGFnIHggeSkrICAgICBSZWxhdGl2ZSBFbGxpcHRpY2FsIEFyY1xuICAgICAgICAvL0EgKHJ4IHJ5IHgtYXhpcy1yb3RhdGlvbiBsYXJnZS1hcmMtZmxhZyBzd2VlcC1mbGFnIHggeSkrICBBYnNvbHV0ZSBFbGxpcHRpY2FsIEFyY1xuXG4gICAgICAgIC8vIHJldHVybiBlYXJseSBpZiBkYXRhIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21tYW5kIHN0cmluZ1xuICAgICAgICB2YXIgY3MgPSBkYXRhO1xuXG4gICAgICAgIC8vIGNvbW1hbmQgY2hhcnNcbiAgICAgICAgdmFyIGNjID0gWydtJywgJ00nLCAnbCcsICdMJywgJ3YnLCAnVicsICdoJywgJ0gnLCAneicsICdaJywgJ2MnLCAnQycsICdxJywgJ1EnLCAndCcsICdUJywgJ3MnLCAnUycsICdhJywgJ0EnXTtcbiAgICAgICAgLy8gY29udmVydCB3aGl0ZSBzcGFjZXMgdG8gY29tbWFzXG4gICAgICAgIGNzID0gY3MucmVwbGFjZShuZXcgUmVnRXhwKCcgJywgJ2cnKSwgJywnKTtcbiAgICAgICAgLy8gY3JlYXRlIHBpcGVzIHNvIHRoYXQgd2UgY2FuIHNwbGl0IHRoZSBkYXRhXG4gICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCBjYy5sZW5ndGg7IG4rKykge1xuICAgICAgICAgICAgY3MgPSBjcy5yZXBsYWNlKG5ldyBSZWdFeHAoY2Nbbl0sICdnJyksICd8JyArIGNjW25dKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgYXJyYXlcbiAgICAgICAgdmFyIGFyciA9IGNzLnNwbGl0KCd8Jyk7XG4gICAgICAgIHZhciBjYSA9IFtdO1xuICAgICAgICAvLyBpbml0IGNvbnRleHQgcG9pbnRcbiAgICAgICAgdmFyIGNweCA9IDA7XG4gICAgICAgIHZhciBjcHkgPSAwO1xuICAgICAgICBmb3IoIG4gPSAxOyBuIDwgYXJyLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICB2YXIgc3RyID0gYXJyW25dO1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KDApO1xuICAgICAgICAgICAgc3RyID0gc3RyLnNsaWNlKDEpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlICwtIGZvciBjb25zaXN0ZW5jeVxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnLC0nLCAnZycpLCAnLScpO1xuICAgICAgICAgICAgLy8gYWRkIGNvbW1hcyBzbyB0aGF0IGl0J3MgZWFzeSB0byBzcGxpdFxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnLScsICdnJyksICcsLScpO1xuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cCgnZSwtJywgJ2cnKSwgJ2UtJyk7XG4gICAgICAgICAgICB2YXIgcCA9IHN0ci5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgaWYocC5sZW5ndGggPiAwICYmIHBbMF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcC5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29udmVydCBzdHJpbmdzIHRvIGZsb2F0c1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwW2ldID0gcGFyc2VGbG9hdChwW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlKHAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmKGlzTmFOKHBbMF0pKSB7Ly8gY2FzZSBmb3IgYSB0cmFpbGluZyBjb21tYSBiZWZvcmUgbmV4dCBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjbWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRYID0gY3B4LCBzdGFydFkgPSBjcHk7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB2YXIgZnJvbSB3aXRoaW4gdGhlIHN3aXRjaCB0byB1cCBoZXJlIChqc2hpbnQpXG4gICAgICAgICAgICAgICAgdmFyIHByZXZDbWQsIGN0bFB0eCwgY3RsUHR5OyAgICAgLy8gU3MsIFR0XG4gICAgICAgICAgICAgICAgdmFyIHJ4LCByeSwgcHNpLCBmYSwgZnMsIHgxLCB5MTsgLy8gQWFcblxuXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBsLCBILCBoLCBWLCBhbmQgdiB0byBMXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogS2VlcCB0aGUgbGluZVRvJ3MgYWJvdmUgdGhlIG1vdmVUbydzIGluIHRoaXMgc3dpdGNoXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnTCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBsaW5lVG8gaGFuZGxlcnMgbmVlZCB0byBiZSBhYm92ZSB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ20nOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IGR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IGR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ00nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgY2xvc2luZyB0aGUgcGF0aCBtb3ZlIHRoZSBjdXJyZW50IHBvc2l0aW9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gdGhlIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgcGF0aCAoaWYgYW55KS4gXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjYS5sZW5ndGg+MiAmJiBjYVtjYS5sZW5ndGgtMV0uY29tbWFuZD09PSd6Jyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpZHg9Y2EubGVuZ3RoLTI7aWR4Pj0wO2lkeC0tKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FbaWR4XS5jb21tYW5kPT09J00nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNweD1jYVtpZHhdLnBvaW50c1swXStkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNweT1jYVtpZHhdLnBvaW50c1sxXStkeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9ICdsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnNlcXVlbnQgcG9pbnRzIGFyZSB0cmVhdGVkIGFzIHJlbGF0aXZlIGxpbmVUb1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ00nO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9ICdMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YnNlcXVlbnQgcG9pbnRzIGFyZSB0cmVhdGVkIGFzIGFic29sdXRlIGxpbmVUb1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ0wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHAuc2hpZnQoKSwgcC5zaGlmdCgpLCBwLnNoaWZ0KCksIHAuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHggKyBwLnNoaWZ0KCksIGNweSArIHAuc2hpZnQoKSwgY3B4ICsgcC5zaGlmdCgpLCBjcHkgKyBwLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnQyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q21kID0gY2FbY2EubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcmV2Q21kLmNvbW1hbmQgPT09ICdDJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eCA9IGNweCArIChjcHggLSBwcmV2Q21kLnBvaW50c1syXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5ICsgKGNweSAtIHByZXZDbWQucG9pbnRzWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGN0bFB0eCwgY3RsUHR5LCBwLnNoaWZ0KCksIHAuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnQyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHkgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q21kID0gY2FbY2EubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcmV2Q21kLmNvbW1hbmQgPT09ICdDJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eCA9IGNweCArIChjcHggLSBwcmV2Q21kLnBvaW50c1syXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5ICsgKGNweSAtIHByZXZDbWQucG9pbnRzWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGN0bFB0eCwgY3RsUHR5LCBjcHggKyBwLnNoaWZ0KCksIGNweSArIHAuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdDJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHAuc2hpZnQoKSwgcC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCwgY3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdxJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGNweCArIHAuc2hpZnQoKSwgY3B5ICsgcC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweCArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY21kID0gJ1EnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNtZCA9IGNhW2NhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJldkNtZC5jb21tYW5kID09PSAnUScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHggKyAoY3B4IC0gcHJldkNtZC5wb2ludHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eSA9IGNweSArIChjcHkgLSBwcmV2Q21kLnBvaW50c1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnUSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjdGxQdHgsIGN0bFB0eSwgY3B4LCBjcHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR4ID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RsUHR5ID0gY3B5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNtZCA9IGNhW2NhLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJldkNtZC5jb21tYW5kID09PSAnUScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGxQdHggPSBjcHggKyAoY3B4IC0gcHJldkNtZC5wb2ludHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0bFB0eSA9IGNweSArIChjcHkgLSBwcmV2Q21kLnBvaW50c1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggKz0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3B5ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtZCA9ICdRJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGN0bFB0eCwgY3RsUHR5LCBjcHgsIGNweSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByeCA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ5ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHNpID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmEgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcyA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgxID0gY3B4O1xuICAgICAgICAgICAgICAgICAgICAgICAgeTEgPSBjcHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHggPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcHkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnQSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMgPSB0aGlzLmNvbnZlcnRFbmRwb2ludFRvQ2VudGVyUGFyYW1ldGVyaXphdGlvbih4MSwgeTEsIGNweCwgY3B5LCBmYSwgZnMsIHJ4LCByeSwgcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnkgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwc2kgPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYSA9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZzID0gcC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDEgPSBjcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5MSA9IGNweTsgY3B4ICs9IHAuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNweSArPSBwLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWQgPSAnQSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMgPSB0aGlzLmNvbnZlcnRFbmRwb2ludFRvQ2VudGVyUGFyYW1ldGVyaXphdGlvbih4MSwgeTEsIGNweCwgY3B5LCBmYSwgZnMsIHJ4LCByeSwgcHNpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBjbWQgfHwgYyxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzOiBwb2ludHMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBzdGFydFgsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBzdGFydFlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aExlbmd0aDogdGhpcy5jYWxjTGVuZ3RoKHN0YXJ0WCwgc3RhcnRZLCBjbWQgfHwgYywgcG9pbnRzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihjID09PSAneicgfHwgYyA9PT0gJ1onKSB7XG4gICAgICAgICAgICAgICAgY2EucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd6JyxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aExlbmd0aDogMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhO1xuICAgIH07XG4gICAgS2luZXRpYy5QYXRoLmNhbGNMZW5ndGggPSBmdW5jdGlvbih4LCB5LCBjbWQsIHBvaW50cykge1xuICAgICAgICB2YXIgbGVuLCBwMSwgcDIsIHQ7XG4gICAgICAgIHZhciBwYXRoID0gS2luZXRpYy5QYXRoO1xuXG4gICAgICAgIHN3aXRjaCAoY21kKSB7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5nZXRMaW5lTGVuZ3RoKHgsIHksIHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIC8vIEFwcHJveGltYXRlcyBieSBicmVha2luZyBjdXJ2ZSBpbnRvIDEwMCBsaW5lIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgbGVuID0gMC4wO1xuICAgICAgICAgICAgICAgIHAxID0gcGF0aC5nZXRQb2ludE9uQ3ViaWNCZXppZXIoMCwgeCwgeSwgcG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgICAgICAgICAgZm9yKCB0ID0gMC4wMTsgdCA8PSAxOyB0ICs9IDAuMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcDIgPSBwYXRoLmdldFBvaW50T25DdWJpY0Jlemllcih0LCB4LCB5LCBwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s0XSwgcG9pbnRzWzVdKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBhdGguZ2V0TGluZUxlbmd0aChwMS54LCBwMS55LCBwMi54LCBwMi55KTtcbiAgICAgICAgICAgICAgICAgICAgcDEgPSBwMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbjtcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIC8vIEFwcHJveGltYXRlcyBieSBicmVha2luZyBjdXJ2ZSBpbnRvIDEwMCBsaW5lIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgbGVuID0gMC4wO1xuICAgICAgICAgICAgICAgIHAxID0gcGF0aC5nZXRQb2ludE9uUXVhZHJhdGljQmV6aWVyKDAsIHgsIHksIHBvaW50c1swXSwgcG9pbnRzWzFdLCBwb2ludHNbMl0sIHBvaW50c1szXSk7XG4gICAgICAgICAgICAgICAgZm9yKCB0ID0gMC4wMTsgdCA8PSAxOyB0ICs9IDAuMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcDIgPSBwYXRoLmdldFBvaW50T25RdWFkcmF0aWNCZXppZXIodCwgeCwgeSwgcG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBhdGguZ2V0TGluZUxlbmd0aChwMS54LCBwMS55LCBwMi54LCBwMi55KTtcbiAgICAgICAgICAgICAgICAgICAgcDEgPSBwMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbjtcbiAgICAgICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgICAgICAgIC8vIEFwcHJveGltYXRlcyBieSBicmVha2luZyBjdXJ2ZSBpbnRvIGxpbmUgc2VnbWVudHNcbiAgICAgICAgICAgICAgICBsZW4gPSAwLjA7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcG9pbnRzWzRdO1xuICAgICAgICAgICAgICAgIC8vIDQgPSB0aGV0YVxuICAgICAgICAgICAgICAgIHZhciBkVGhldGEgPSBwb2ludHNbNV07XG4gICAgICAgICAgICAgICAgLy8gNSA9IGRUaGV0YVxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBwb2ludHNbNF0gKyBkVGhldGE7XG4gICAgICAgICAgICAgICAgdmFyIGluYyA9IE1hdGguUEkgLyAxODAuMDtcbiAgICAgICAgICAgICAgICAvLyAxIGRlZ3JlZSByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoc3RhcnQgLSBlbmQpIDwgaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGluYyA9IE1hdGguYWJzKHN0YXJ0IC0gZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogZm9yIHB1cnBvc2Ugb2YgY2FsY3VsYXRpbmcgYXJjIGxlbmd0aCwgbm90IGdvaW5nIHRvIHdvcnJ5IGFib3V0IHJvdGF0aW5nIFgtYXhpcyBieSBhbmdsZSBwc2lcbiAgICAgICAgICAgICAgICBwMSA9IHBhdGguZ2V0UG9pbnRPbkVsbGlwdGljYWxBcmMocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBzdGFydCwgMCk7XG4gICAgICAgICAgICAgICAgaWYoZFRoZXRhIDwgMCkgey8vIGNsb2Nrd2lzZVxuICAgICAgICAgICAgICAgICAgICBmb3IoIHQgPSBzdGFydCAtIGluYzsgdCA+IGVuZDsgdCAtPSBpbmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAyID0gcGF0aC5nZXRQb2ludE9uRWxsaXB0aWNhbEFyYyhwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHQsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBhdGguZ2V0TGluZUxlbmd0aChwMS54LCBwMS55LCBwMi54LCBwMi55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHAxID0gcDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7Ly8gY291bnRlci1jbG9ja3dpc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yKCB0ID0gc3RhcnQgKyBpbmM7IHQgPCBlbmQ7IHQgKz0gaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9IHBhdGguZ2V0UG9pbnRPbkVsbGlwdGljYWxBcmMocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCB0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBwYXRoLmdldExpbmVMZW5ndGgocDEueCwgcDEueSwgcDIueCwgcDIueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwMSA9IHAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHAyID0gcGF0aC5nZXRQb2ludE9uRWxsaXB0aWNhbEFyYyhwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIGVuZCwgMCk7XG4gICAgICAgICAgICAgICAgbGVuICs9IHBhdGguZ2V0TGluZUxlbmd0aChwMS54LCBwMS55LCBwMi54LCBwMi55KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBsZW47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIEtpbmV0aWMuUGF0aC5jb252ZXJ0RW5kcG9pbnRUb0NlbnRlclBhcmFtZXRlcml6YXRpb24gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgZmEsIGZzLCByeCwgcnksIHBzaURlZykge1xuICAgICAgICAvLyBEZXJpdmVkIGZyb206IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9pbXBsbm90ZS5odG1sI0FyY0ltcGxlbWVudGF0aW9uTm90ZXNcbiAgICAgICAgdmFyIHBzaSA9IHBzaURlZyAqIChNYXRoLlBJIC8gMTgwLjApO1xuICAgICAgICB2YXIgeHAgPSBNYXRoLmNvcyhwc2kpICogKHgxIC0geDIpIC8gMi4wICsgTWF0aC5zaW4ocHNpKSAqICh5MSAtIHkyKSAvIDIuMDtcbiAgICAgICAgdmFyIHlwID0gLTEgKiBNYXRoLnNpbihwc2kpICogKHgxIC0geDIpIC8gMi4wICsgTWF0aC5jb3MocHNpKSAqICh5MSAtIHkyKSAvIDIuMDtcblxuICAgICAgICB2YXIgbGFtYmRhID0gKHhwICogeHApIC8gKHJ4ICogcngpICsgKHlwICogeXApIC8gKHJ5ICogcnkpO1xuXG4gICAgICAgIGlmKGxhbWJkYSA+IDEpIHtcbiAgICAgICAgICAgIHJ4ICo9IE1hdGguc3FydChsYW1iZGEpO1xuICAgICAgICAgICAgcnkgKj0gTWF0aC5zcXJ0KGxhbWJkYSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZiA9IE1hdGguc3FydCgoKChyeCAqIHJ4KSAqIChyeSAqIHJ5KSkgLSAoKHJ4ICogcngpICogKHlwICogeXApKSAtICgocnkgKiByeSkgKiAoeHAgKiB4cCkpKSAvICgocnggKiByeCkgKiAoeXAgKiB5cCkgKyAocnkgKiByeSkgKiAoeHAgKiB4cCkpKTtcblxuICAgICAgICBpZihmYSA9PT0gZnMpIHtcbiAgICAgICAgICAgIGYgKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXNOYU4oZikpIHtcbiAgICAgICAgICAgIGYgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN4cCA9IGYgKiByeCAqIHlwIC8gcnk7XG4gICAgICAgIHZhciBjeXAgPSBmICogLXJ5ICogeHAgLyByeDtcblxuICAgICAgICB2YXIgY3ggPSAoeDEgKyB4MikgLyAyLjAgKyBNYXRoLmNvcyhwc2kpICogY3hwIC0gTWF0aC5zaW4ocHNpKSAqIGN5cDtcbiAgICAgICAgdmFyIGN5ID0gKHkxICsgeTIpIC8gMi4wICsgTWF0aC5zaW4ocHNpKSAqIGN4cCArIE1hdGguY29zKHBzaSkgKiBjeXA7XG5cbiAgICAgICAgdmFyIHZNYWcgPSBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdlJhdGlvID0gZnVuY3Rpb24odSwgdikge1xuICAgICAgICAgICAgcmV0dXJuICh1WzBdICogdlswXSArIHVbMV0gKiB2WzFdKSAvICh2TWFnKHUpICogdk1hZyh2KSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB2QW5nbGUgPSBmdW5jdGlvbih1LCB2KSB7XG4gICAgICAgICAgICByZXR1cm4gKHVbMF0gKiB2WzFdIDwgdVsxXSAqIHZbMF0gPyAtMSA6IDEpICogTWF0aC5hY29zKHZSYXRpbyh1LCB2KSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGV0YSA9IHZBbmdsZShbMSwgMF0sIFsoeHAgLSBjeHApIC8gcngsICh5cCAtIGN5cCkgLyByeV0pO1xuICAgICAgICB2YXIgdSA9IFsoeHAgLSBjeHApIC8gcngsICh5cCAtIGN5cCkgLyByeV07XG4gICAgICAgIHZhciB2ID0gWygtMSAqIHhwIC0gY3hwKSAvIHJ4LCAoLTEgKiB5cCAtIGN5cCkgLyByeV07XG4gICAgICAgIHZhciBkVGhldGEgPSB2QW5nbGUodSwgdik7XG5cbiAgICAgICAgaWYodlJhdGlvKHUsIHYpIDw9IC0xKSB7XG4gICAgICAgICAgICBkVGhldGEgPSBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIGlmKHZSYXRpbyh1LCB2KSA+PSAxKSB7XG4gICAgICAgICAgICBkVGhldGEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmKGZzID09PSAwICYmIGRUaGV0YSA+IDApIHtcbiAgICAgICAgICAgIGRUaGV0YSA9IGRUaGV0YSAtIDIgKiBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIGlmKGZzID09PSAxICYmIGRUaGV0YSA8IDApIHtcbiAgICAgICAgICAgIGRUaGV0YSA9IGRUaGV0YSArIDIgKiBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY3gsIGN5LCByeCwgcnksIHRoZXRhLCBkVGhldGEsIHBzaSwgZnNdO1xuICAgIH07XG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5QYXRoLCAnZGF0YScpO1xuXG4gICAgLyoqXG4gICAgICogc2V0IFNWRyBwYXRoIGRhdGEgc3RyaW5nLiAgVGhpcyBtZXRob2RcbiAgICAgKiAgYWxzbyBhdXRvbWF0aWNhbGx5IHBhcnNlcyB0aGUgZGF0YSBzdHJpbmdcbiAgICAgKiAgaW50byBhIGRhdGEgYXJyYXkuICBDdXJyZW50bHkgc3VwcG9ydGVkIFNWRyBkYXRhOlxuICAgICAqICBNLCBtLCBMLCBsLCBILCBoLCBWLCB2LCBRLCBxLCBULCB0LCBDLCBjLCBTLCBzLCBBLCBhLCBaLCB6XG4gICAgICogQG5hbWUgc2V0RGF0YVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5QYXRoLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBTVkcgcGF0aCBjb21tYW5kIHN0cmluZ1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogZ2V0IFNWRyBwYXRoIGRhdGEgc3RyaW5nXG4gICAgICogQG5hbWUgZ2V0RGF0YVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5QYXRoLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5QYXRoKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIHZhciBFTVBUWV9TVFJJTkcgPSAnJyxcbiAgICAgICAgLy9DQUxJQlJJID0gJ0NhbGlicmknLFxuICAgICAgICBOT1JNQUwgPSAnbm9ybWFsJztcblxuICAgIC8qKlxuICAgICAqIFBhdGggY29uc3RydWN0b3IuXG4gICAgICogQGF1dGhvciBKYXNvbiBGb2xsYXNcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqIEBhdWdtZW50cyBLaW5ldGljLlNoYXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZvbnRGYW1pbHldIGRlZmF1bHQgaXMgQ2FsaWJyaVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZvbnRTaXplXSBkZWZhdWx0IGlzIDEyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZm9udFN0eWxlXSBjYW4gYmUgbm9ybWFsLCBib2xkLCBvciBpdGFsaWMuICBEZWZhdWx0IGlzIG5vcm1hbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZvbnRWYXJpYW50XSBjYW4gYmUgbm9ybWFsIG9yIHNtYWxsLWNhcHMuICBEZWZhdWx0IGlzIG5vcm1hbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcudGV4dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuZGF0YSBTVkcgZGF0YSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsXSBmaWxsIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbFJlZF0gc2V0IGZpbGwgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxHcmVlbl0gc2V0IGZpbGwgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEJsdWVdIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEFscGhhXSBzZXQgZmlsbCBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IFtjb25maWcuZmlsbFBhdHRlcm5JbWFnZV0gZmlsbCBwYXR0ZXJuIGltYWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFldIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZV0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblJvdGF0aW9uXVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFBhdHRlcm5SZXBlYXRdIGNhbiBiZSBcInJlcGVhdFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgb3IgXCJuby1yZXBlYXRcIi4gIFRoZSBkZWZhdWx0IGlzIFwibm8tcmVwZWF0XCJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WV0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5maWxsRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBmaWxsLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFByaW9yaXR5XSBjYW4gYmUgY29sb3IsIGxpbmVhci1ncmFkaWVudCwgcmFkaWFsLWdyYWlkZW50LCBvciBwYXR0ZXJuLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgY29sb3IuICBUaGUgZmlsbFByaW9yaXR5IHByb3BlcnR5IG1ha2VzIGl0IHJlYWxseSBlYXN5IHRvIHRvZ2dsZSBiZXR3ZWVuIGRpZmZlcmVudCBmaWxsIHR5cGVzLiAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRvZ2dsZSBiZXR3ZWVuIGEgZmlsbCBjb2xvciBzdHlsZSBhbmQgYSBmaWxsIHBhdHRlcm4gc3R5bGUsIHNpbXBseSBzZXQgdGhlIGZpbGwgcHJvcGVydHkgYW5kIHRoZSBmaWxsUGF0dGVybiBwcm9wZXJ0aWVzLCBhbmQgdGhlbiB1c2Ugc2V0RmlsbFByaW9yaXR5KCdjb2xvcicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCBhIGNvbG9yIGZpbGwsIG9yIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ3BhdHRlcm4nKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggdGhlIHBhdHRlcm4gZmlsbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zdHJva2VdIHN0cm9rZSBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZVJlZF0gc2V0IHN0cm9rZSByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlR3JlZW5dIHNldCBzdHJva2UgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQmx1ZV0gc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUFscGhhXSBzZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3Ryb2tlV2lkdGhdIHN0cm9rZSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZVNjYWxlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHN0cm9rZSBzY2FsZS4gIFRoZSBkZWZhdWx0IGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHN0cm9rZS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVKb2luXSBjYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgbWl0ZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVDYXBdIGNhbiBiZSBidXR0LCByb3VuZCwgb3Igc3FhcmUuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIGJ1dHRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNoYWRvd0NvbG9yXVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd1JlZF0gc2V0IHNoYWRvdyBjb2xvciByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93R3JlZW5dIHNldCBzaGFkb3cgY29sb3IgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93Qmx1ZV0gc2V0IHNoYWRvdyBjb2xvciBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0FscGhhXSBzZXQgc2hhZG93IGNvbG9yIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93Qmx1cl1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNoYWRvd09mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T3BhY2l0eV0gc2hhZG93IG9wYWNpdHkuICBDYW4gYmUgYW55IHJlYWwgbnVtYmVyXHJcbiAgICAgKiAgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2hhZG93RW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzaGFkb3cuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmRhc2hdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGFzaEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZGFzaEFycmF5LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciB0ZXh0cGF0aCA9IG5ldyBLaW5ldGljLlRleHRQYXRoKHtcbiAgICAgKiAgIHg6IDEwMCxcbiAgICAgKiAgIHk6IDUwLFxuICAgICAqICAgZmlsbDogJyMzMzMnLFxuICAgICAqICAgZm9udFNpemU6ICcyNCcsXG4gICAgICogICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAqICAgdGV4dDogJ0FsbCB0aGUgd29ybGRcXCdzIGEgc3RhZ2UsIGFuZCBhbGwgdGhlIG1lbiBhbmQgd29tZW4gbWVyZWx5IHBsYXllcnMuJyxcbiAgICAgKiAgIGRhdGE6ICdNMTAsMTAgQzAsMCAxMCwxNTAgMTAwLDEwMCBTMzAwLDE1MCA0MDAsNTAnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgS2luZXRpYy5UZXh0UGF0aCA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9fX2luaXQoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2ZpbGxGdW5jKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnBhcnRpYWxUZXh0LCAwLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX3N0cm9rZUZ1bmMoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy5wYXJ0aWFsVGV4dCwgMCwgMCk7XG4gICAgfVxuXG4gICAgS2luZXRpYy5UZXh0UGF0aC5wcm90b3R5cGUgPSB7XG4gICAgICAgIF9fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5kdW1teUNhbnZhcyA9IEtpbmV0aWMuVXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IFtdO1xuXG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcblxuICAgICAgICAgICAgLy8gb3ZlcnJpZGVzXG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGRuJ3QgdGhpcyBiZSBvbiB0aGUgcHJvdG90eXBlP1xuICAgICAgICAgICAgdGhpcy5fZmlsbEZ1bmMgPSBfZmlsbEZ1bmM7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VGdW5jID0gX3N0cm9rZUZ1bmM7XG4gICAgICAgICAgICB0aGlzLl9maWxsRnVuY0hpdCA9IF9maWxsRnVuYztcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZUZ1bmNIaXQgPSBfc3Ryb2tlRnVuYztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnVGV4dFBhdGgnO1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IEtpbmV0aWMuUGF0aC5wYXJzZVBhdGhEYXRhKHRoaXMuYXR0cnMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLm9uKCdkYXRhQ2hhbmdlLmtpbmV0aWMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmRhdGFBcnJheSA9IEtpbmV0aWMuUGF0aC5wYXJzZVBhdGhEYXRhKHRoaXMuYXR0cnMuZGF0YSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRleHQgZGF0YSBmb3IgY2VydGFpbiBhdHRyIGNoYW5nZXNcbiAgICAgICAgICAgIHRoaXMub24oJ3RleHRDaGFuZ2Uua2luZXRpYyB0ZXh0U3Ryb2tlLmtpbmV0aWMgdGV4dFN0cm9rZVdpZHRoLmtpbmV0aWMnLCB0aGF0Ll9zZXRUZXh0RGF0YSk7XG4gICAgICAgICAgICB0aGF0Ll9zZXRUZXh0RGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZUZ1bmModGhpcy5fc2NlbmVGdW5jKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NjZW5lRnVuYzogZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5zZXRBdHRyKCdmb250JywgdGhpcy5fZ2V0Q29udGV4dEZvbnQoKSk7XG4gICAgICAgICAgICBjb250ZXh0LnNldEF0dHIoJ3RleHRCYXNlbGluZScsICdtaWRkbGUnKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0QXR0cigndGV4dEFsaWduJywgJ2xlZnQnKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgICAgICB2YXIgZ2x5cGhJbmZvID0gdGhpcy5nbHlwaEluZm87XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZ2x5cGhJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcDAgPSBnbHlwaEluZm9baV0ucDA7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShwMC54LCBwMC55KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJvdGF0ZShnbHlwaEluZm9baV0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMucGFydGlhbFRleHQgPSBnbHlwaEluZm9baV0udGV4dDtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8vLyBUbyBhc3Npc3Qgd2l0aCBkZWJ1Z2dpbmcgdmlzdWFsbHksIHVuY29tbWVudCBmb2xsb3dpbmdcbiAgICAgICAgICAgICAgICAvLyBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIC8vIGlmIChpICUgMilcbiAgICAgICAgICAgICAgICAvLyBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2N5YW4nO1xuICAgICAgICAgICAgICAgIC8vIGVsc2VcbiAgICAgICAgICAgICAgICAvLyBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2dyZWVuJztcbiAgICAgICAgICAgICAgICAvLyB2YXIgcDEgPSBnbHlwaEluZm9baV0ucDE7XG4gICAgICAgICAgICAgICAgLy8gY29udGV4dC5tb3ZlVG8ocDAueCwgcDAueSk7XG4gICAgICAgICAgICAgICAgLy8gY29udGV4dC5saW5lVG8ocDEueCwgcDEueSk7XG4gICAgICAgICAgICAgICAgLy8gY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHRleHQgd2lkdGggaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dFBhdGgucHJvdG90eXBlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRUZXh0V2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IHRleHQgaGVpZ2h0IGluIHBpeGVsc1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGV4dEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRleHRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0UGF0aC5wcm90b3R5cGVcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgICAgICovXG4gICAgICAgIHNldFRleHQ6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIEtpbmV0aWMuVGV4dC5wcm90b3R5cGUuc2V0VGV4dC5jYWxsKHRoaXMsIHRleHQpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VGV4dFNpemU6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBkdW1teUNhbnZhcyA9IHRoaXMuZHVtbXlDYW52YXM7XG4gICAgICAgICAgICB2YXIgX2NvbnRleHQgPSBkdW1teUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgICAgICBfY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgICAgIF9jb250ZXh0LmZvbnQgPSB0aGlzLl9nZXRDb250ZXh0Rm9udCgpO1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBfY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcblxuICAgICAgICAgICAgX2NvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQodGhpcy5hdHRycy5mb250U2l6ZSwgMTApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBfc2V0VGV4dERhdGE6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX2dldFRleHRTaXplKHRoaXMuYXR0cnMudGV4dCk7XG4gICAgICAgICAgICB0aGlzLnRleHRXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnRleHRIZWlnaHQgPSBzaXplLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5nbHlwaEluZm8gPSBbXTtcblxuICAgICAgICAgICAgdmFyIGNoYXJBcnIgPSB0aGlzLmF0dHJzLnRleHQuc3BsaXQoJycpO1xuXG4gICAgICAgICAgICB2YXIgcDAsIHAxLCBwYXRoQ21kO1xuXG4gICAgICAgICAgICB2YXIgcEluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgY3VycmVudFQgPSAwO1xuXG4gICAgICAgICAgICB2YXIgZ2V0TmV4dFBhdGhTZWdtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBwYXRoRGF0YSA9IHRoYXQuZGF0YUFycmF5O1xuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gcEluZGV4ICsgMTsgaSA8IHBhdGhEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHBhdGhEYXRhW2ldLnBhdGhMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwSW5kZXggPSBpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aERhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwYXRoRGF0YVtpXS5jb21tYW5kID09ICdNJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcDAgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcGF0aERhdGFbaV0ucG9pbnRzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBhdGhEYXRhW2ldLnBvaW50c1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZmluZFNlZ21lbnRUb0ZpdENoYXJhY3RlciA9IGZ1bmN0aW9uKGMpIHtcblxuICAgICAgICAgICAgICAgIHZhciBnbHlwaFdpZHRoID0gdGhhdC5fZ2V0VGV4dFNpemUoYykud2lkdGg7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VyckxlbiA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGF0dGVtcHRzID0gMDtcblxuICAgICAgICAgICAgICAgIHAxID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHdoaWxlKE1hdGguYWJzKGdseXBoV2lkdGggLSBjdXJyTGVuKSAvIGdseXBoV2lkdGggPiAwLjAxICYmIGF0dGVtcHRzIDwgMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1bXVsYXRpdmVQYXRoTGVuZ3RoID0gY3VyckxlbjtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUocGF0aENtZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoQ21kID0gZ2V0TmV4dFBhdGhTZWdtZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhdGhDbWQgJiYgY3VtdWxhdGl2ZVBhdGhMZW5ndGggKyBwYXRoQ21kLnBhdGhMZW5ndGggPCBnbHlwaFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZVBhdGhMZW5ndGggKz0gcGF0aENtZC5wYXRoTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhDbWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihwYXRoQ21kID09PSB7fSB8fCBwMCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5lZWROZXdTZWdtZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYXRoQ21kLmNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEtpbmV0aWMuUGF0aC5nZXRMaW5lTGVuZ3RoKHAwLngsIHAwLnksIHBhdGhDbWQucG9pbnRzWzBdLCBwYXRoQ21kLnBvaW50c1sxXSkgPiBnbHlwaFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAxID0gS2luZXRpYy5QYXRoLmdldFBvaW50T25MaW5lKGdseXBoV2lkdGgsIHAwLngsIHAwLnksIHBhdGhDbWQucG9pbnRzWzBdLCBwYXRoQ21kLnBvaW50c1sxXSwgcDAueCwgcDAueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoQ21kID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0EnOlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcGF0aENtZC5wb2ludHNbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNCA9IHRoZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRUaGV0YSA9IHBhdGhDbWQucG9pbnRzWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDUgPSBkVGhldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gcGF0aENtZC5wb2ludHNbNF0gKyBkVGhldGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50VCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUID0gc3RhcnQgKyAwLjAwMDAwMDAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdXN0IGluIGNhc2Ugc3RhcnQgaXMgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZ2x5cGhXaWR0aCA+IGN1cnJMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgKz0gKE1hdGguUEkgLyAxODAuMCkgKiBkVGhldGEgLyBNYXRoLmFicyhkVGhldGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgLT0gTWF0aC5QSSAvIDM2MC4wICogZFRoZXRhIC8gTWF0aC5hYnMoZFRoZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVkaXQgZm9yIGJ1ZyBmaXg6IEB0aGVydGggaHR0cHM6Ly9naXRodWIuY29tL2VyaWNkcm93ZWxsL0tpbmV0aWNKUy9pc3N1ZXMvMjQ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2xkIGNvZGUgZmFpbGVkIHRvIHJlbmRlciB0ZXh0IGFsb25nIGFyYyBvZiB0aGlzIHBhdGg6IFwiTSA1MCA1MCBhIDE1MCA1MCAwIDAgMSAyNTAgNTAgbCA1MCAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkVGhldGEgPCAwICYmIGN1cnJlbnRUIDwgZW5kIHx8IGRUaGV0YSA+PSAwICYmIGN1cnJlbnRUID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUID0gZW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkTmV3U2VnbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAxID0gS2luZXRpYy5QYXRoLmdldFBvaW50T25FbGxpcHRpY2FsQXJjKHBhdGhDbWQucG9pbnRzWzBdLCBwYXRoQ21kLnBvaW50c1sxXSwgcGF0aENtZC5wb2ludHNbMl0sIHBhdGhDbWQucG9pbnRzWzNdLCBjdXJyZW50VCwgcGF0aENtZC5wb2ludHNbNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2x5cGhXaWR0aCA+IHBhdGhDbWQucGF0aExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgPSAwLjAwMDAwMDAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgPSBnbHlwaFdpZHRoIC8gcGF0aENtZC5wYXRoTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZ2x5cGhXaWR0aCA+IGN1cnJMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgKz0gKGdseXBoV2lkdGggLSBjdXJyTGVuKSAvIHBhdGhDbWQucGF0aExlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUIC09IChjdXJyTGVuIC0gZ2x5cGhXaWR0aCkgLyBwYXRoQ21kLnBhdGhMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFQgPiAxLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWROZXdTZWdtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDEgPSBLaW5ldGljLlBhdGguZ2V0UG9pbnRPbkN1YmljQmV6aWVyKGN1cnJlbnRULCBwYXRoQ21kLnN0YXJ0LngsIHBhdGhDbWQuc3RhcnQueSwgcGF0aENtZC5wb2ludHNbMF0sIHBhdGhDbWQucG9pbnRzWzFdLCBwYXRoQ21kLnBvaW50c1syXSwgcGF0aENtZC5wb2ludHNbM10sIHBhdGhDbWQucG9pbnRzWzRdLCBwYXRoQ21kLnBvaW50c1s1XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50VCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VCA9IGdseXBoV2lkdGggLyBwYXRoQ21kLnBhdGhMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZ2x5cGhXaWR0aCA+IGN1cnJMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgKz0gKGdseXBoV2lkdGggLSBjdXJyTGVuKSAvIHBhdGhDbWQucGF0aExlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUIC09IChjdXJyTGVuIC0gZ2x5cGhXaWR0aCkgLyBwYXRoQ21kLnBhdGhMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFQgPiAxLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFQgPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWROZXdTZWdtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDEgPSBLaW5ldGljLlBhdGguZ2V0UG9pbnRPblF1YWRyYXRpY0JlemllcihjdXJyZW50VCwgcGF0aENtZC5zdGFydC54LCBwYXRoQ21kLnN0YXJ0LnksIHBhdGhDbWQucG9pbnRzWzBdLCBwYXRoQ21kLnBvaW50c1sxXSwgcGF0aENtZC5wb2ludHNbMl0sIHBhdGhDbWQucG9pbnRzWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYocDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyckxlbiA9IEtpbmV0aWMuUGF0aC5nZXRMaW5lTGVuZ3RoKHAwLngsIHAwLnksIHAxLngsIHAxLnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYobmVlZE5ld1NlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWROZXdTZWdtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoQ21kID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjaGFyQXJyLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHAxIHN1Y2ggdGhhdCBsaW5lIHNlZ21lbnQgYmV0d2VlbiBwMCBhbmQgcDEgaXMgYXBwcm94LiB3aWR0aCBvZiBnbHlwaFxuICAgICAgICAgICAgICAgIGZpbmRTZWdtZW50VG9GaXRDaGFyYWN0ZXIoY2hhckFycltpXSk7XG5cbiAgICAgICAgICAgICAgICBpZihwMCA9PT0gdW5kZWZpbmVkIHx8IHAxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gS2luZXRpYy5QYXRoLmdldExpbmVMZW5ndGgocDAueCwgcDAueSwgcDEueCwgcDEueSk7XG5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBTaW5jZSBnbHlwaHMgYXJlIHJlbmRlcmVkIG9uZSBhdCBhIHRpbWUsIGFueSBrZXJuaW5nIHBhaXIgZGF0YSBidWlsdCBpbnRvIHRoZSBmb250IHdpbGwgbm90IGJlIHVzZWQuXG4gICAgICAgICAgICAgICAgLy8gQ2FuIGZvcmVzZWUgaGF2aW5nIGEgcm91Z2ggcGFpciB0YWJsZSBidWlsdCBpbiB0aGF0IHRoZSBkZXZlbG9wZXIgY2FuIG92ZXJyaWRlIGFzIG5lZWRlZC5cblxuICAgICAgICAgICAgICAgIHZhciBrZXJuID0gMDtcbiAgICAgICAgICAgICAgICAvLyBwbGFjZWhvbGRlciBmb3IgZnV0dXJlIGltcGxlbWVudGF0aW9uXG5cbiAgICAgICAgICAgICAgICB2YXIgbWlkcG9pbnQgPSBLaW5ldGljLlBhdGguZ2V0UG9pbnRPbkxpbmUoa2VybiArIHdpZHRoIC8gMi4wLCBwMC54LCBwMC55LCBwMS54LCBwMS55KTtcblxuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvbiA9IE1hdGguYXRhbjIoKHAxLnkgLSBwMC55KSwgKHAxLnggLSBwMC54KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nbHlwaEluZm8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9zZVg6IG1pZHBvaW50LngsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9zZVk6IG1pZHBvaW50LnksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoYXJBcnJbaV0sXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcDA6IHAwLFxuICAgICAgICAgICAgICAgICAgICBwMTogcDFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwMCA9IHAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIG1hcCBUZXh0UGF0aCBtZXRob2RzIHRvIFRleHRcbiAgICBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZS5fZ2V0Q29udGV4dEZvbnQgPSBLaW5ldGljLlRleHQucHJvdG90eXBlLl9nZXRDb250ZXh0Rm9udDtcblxuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5UZXh0UGF0aCwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICAvLyBhZGQgc2V0dGVycyBhbmQgZ2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0UGF0aCwgJ2ZvbnRGYW1pbHknLCAnQXJpYWwnKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBmb250IGZhbWlseVxuICAgICAqIEBuYW1lIHNldEZvbnRGYW1pbHlcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dFBhdGgucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvbnRGYW1pbHlcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgZm9udCBmYW1pbHlcbiAgICAgKiBAbmFtZSBnZXRGb250RmFtaWx5XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRleHRQYXRoLCAnZm9udFNpemUnLCAxMik7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgZm9udCBzaXplXG4gICAgICogQG5hbWUgc2V0Rm9udFNpemVcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dFBhdGgucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtpbnR9IGZvbnRTaXplXG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICogZ2V0IGZvbnQgc2l6ZVxuICAgICAqIEBuYW1lIGdldEZvbnRTaXplXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRleHRQYXRoLCAnZm9udFN0eWxlJywgTk9STUFMKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBmb250IHN0eWxlLiAgQ2FuIGJlICdub3JtYWwnLCAnaXRhbGljJywgb3IgJ2JvbGQnLiAgJ25vcm1hbCcgaXMgdGhlIGRlZmF1bHQuXG4gICAgICogQG5hbWUgc2V0Rm9udFN0eWxlXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmb250U3R5bGVcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgZm9udCBzdHlsZVxuICAgICAqIEBuYW1lIGdldEZvbnRTdHlsZVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UZXh0UGF0aC5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UZXh0UGF0aCwgJ2ZvbnRWYXJpYW50JywgTk9STUFMKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBmb250IHZhcmlhbnQuICBDYW4gYmUgJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnLiAgJ25vcm1hbCcgaXMgdGhlIGRlZmF1bHQuXG4gICAgICogQG5hbWUgc2V0Rm9udFZhcmlhbnRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dFBhdGgucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvbnRWYXJpYW50XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAZ2V0IGZvbnQgdmFyaWFudFxuICAgICAqIEBuYW1lIGdldEZvbnRWYXJpYW50XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRleHRQYXRoLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlcihLaW5ldGljLlRleHRQYXRoLCAndGV4dCcsIEVNUFRZX1NUUklORyk7XG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGV4dFxuICAgICAqIEBuYW1lIGdldFRleHRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGV4dFBhdGgucHJvdG90eXBlXG4gICAgICovXG5cbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLlRleHRQYXRoKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIFJlZ3VsYXJQb2x5Z29uIGNvbnN0cnVjdG9yLiZuYnNwOyBFeGFtcGxlcyBpbmNsdWRlIHRyaWFuZ2xlcywgc3F1YXJlcywgcGVudGFnb25zLCBoZXhhZ29ucywgZXRjLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICogQGF1Z21lbnRzIEtpbmV0aWMuU2hhcGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbmZpZy5zaWRlc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcucmFkaXVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbF0gZmlsbCBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxSZWRdIHNldCBmaWxsIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsR3JlZW5dIHNldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxCbHVlXSBzZXQgZmlsbCBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxBbHBoYV0gc2V0IGZpbGwgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBbY29uZmlnLmZpbGxQYXR0ZXJuSW1hZ2VdIGZpbGwgcGF0dGVybiBpbWFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5YXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5ZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRZXSBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5Sb3RhdGlvbl1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQYXR0ZXJuUmVwZWF0XSBjYW4gYmUgXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuICBUaGUgZGVmYXVsdCBpcyBcIm5vLXJlcGVhdFwiXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFldIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZmlsbEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZmlsbC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQcmlvcml0eV0gY2FuIGJlIGNvbG9yLCBsaW5lYXItZ3JhZGllbnQsIHJhZGlhbC1ncmFpZGVudCwgb3IgcGF0dGVybi4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGNvbG9yLiAgVGhlIGZpbGxQcmlvcml0eSBwcm9wZXJ0eSBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB0b2dnbGUgYmV0d2VlbiBkaWZmZXJlbnQgZmlsbCB0eXBlcy4gIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0b2dnbGUgYmV0d2VlbiBhIGZpbGwgY29sb3Igc3R5bGUgYW5kIGEgZmlsbCBwYXR0ZXJuIHN0eWxlLCBzaW1wbHkgc2V0IHRoZSBmaWxsIHByb3BlcnR5IGFuZCB0aGUgZmlsbFBhdHRlcm4gcHJvcGVydGllcywgYW5kIHRoZW4gdXNlIHNldEZpbGxQcmlvcml0eSgnY29sb3InKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggYSBjb2xvciBmaWxsLCBvciB1c2Ugc2V0RmlsbFByaW9yaXR5KCdwYXR0ZXJuJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIHRoZSBwYXR0ZXJuIGZpbGwgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc3Ryb2tlXSBzdHJva2UgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VSZWRdIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUdyZWVuXSBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUJsdWVdIHNldCBzdHJva2UgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VBbHBoYV0gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0cm9rZVdpZHRoXSBzdHJva2Ugd2lkdGhcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VTY2FsZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyBzdHJva2Ugc2NhbGUuICBUaGUgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzdHJva2UuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lSm9pbl0gY2FuIGJlIG1pdGVyLCByb3VuZCwgb3IgYmV2ZWwuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIG1pdGVyXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lQ2FwXSBjYW4gYmUgYnV0dCwgcm91bmQsIG9yIHNxYXJlLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBidXR0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zaGFkb3dDb2xvcl1cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dSZWRdIHNldCBzaGFkb3cgY29sb3IgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0dyZWVuXSBzZXQgc2hhZG93IGNvbG9yIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0JsdWVdIHNldCBzaGFkb3cgY29sb3IgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dBbHBoYV0gc2V0IHNoYWRvdyBjb2xvciBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd0JsdXJdXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zaGFkb3dPZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09wYWNpdHldIHNoYWRvdyBvcGFjaXR5LiAgQ2FuIGJlIGFueSByZWFsIG51bWJlclxyXG4gICAgICogIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNoYWRvd0VuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc2hhZG93LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5kYXNoXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRhc2hFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGRhc2hBcnJheS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgaGV4YWdvbiA9IG5ldyBLaW5ldGljLlJlZ3VsYXJQb2x5Z29uKHtcbiAgICAgKiAgIHg6IDEwMCxcbiAgICAgKiAgIHk6IDIwMCxcbiAgICAgKiAgIHNpZGVzOiA2LFxuICAgICAqICAgcmFkaXVzOiA3MCxcbiAgICAgKiAgIGZpbGw6ICdyZWQnLFxuICAgICAqICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAqICAgc3Ryb2tlV2lkdGg6IDRcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLlJlZ3VsYXJQb2x5Z29uID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLlJlZ3VsYXJQb2x5Z29uLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ1JlZ3VsYXJQb2x5Z29uJztcbiAgICAgICAgICAgIHRoaXMuc2NlbmVGdW5jKHRoaXMuX3NjZW5lRnVuYyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9zY2VuZUZ1bmM6IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBzaWRlcyA9IHRoaXMuYXR0cnMuc2lkZXMsXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gdGhpcy5hdHRycy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgbiwgeCwgeTtcblxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKDAsIDAgLSByYWRpdXMpO1xuXG4gICAgICAgICAgICBmb3IobiA9IDE7IG4gPCBzaWRlczsgbisrKSB7XG4gICAgICAgICAgICAgICAgeCA9IHJhZGl1cyAqIE1hdGguc2luKG4gKiAyICogTWF0aC5QSSAvIHNpZGVzKTtcbiAgICAgICAgICAgICAgICB5ID0gLTEgKiByYWRpdXMgKiBNYXRoLmNvcyhuICogMiAqIE1hdGguUEkgLyBzaWRlcyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3Ryb2tlU2hhcGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEtpbmV0aWMuVXRpbC5leHRlbmQoS2luZXRpYy5SZWd1bGFyUG9seWdvbiwgS2luZXRpYy5TaGFwZSk7XG5cbiAgICAvLyBhZGQgZ2V0dGVycyBzZXR0ZXJzXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlJlZ3VsYXJQb2x5Z29uLCAncmFkaXVzJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgcmFkaXVzXG4gICAgICogQG5hbWUgc2V0UmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlJlZ3VsYXJQb2x5Z29uLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgcmFkaXVzXG4gICAgICogQG5hbWUgZ2V0UmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlJlZ3VsYXJQb2x5Z29uLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlJlZ3VsYXJQb2x5Z29uLCAnc2lkZXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBudW1iZXIgb2Ygc2lkZXNcbiAgICAgKiBAbmFtZSBzZXRTaWRlc1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5SZWd1bGFyUG9seWdvbi5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge2ludH0gc2lkZXNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIGdldCBudW1iZXIgb2Ygc2lkZXNcbiAgICAgKiBAbmFtZSBnZXRTaWRlc1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5SZWd1bGFyUG9seWdvbi5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuUmVndWxhclBvbHlnb24pO1xufSkoKTtcbjsoZnVuY3Rpb24oKSB7XG4gICAgLyoqXG4gICAgICogU3RhciBjb25zdHJ1Y3RvclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljXG4gICAgICogQGF1Z21lbnRzIEtpbmV0aWMuU2hhcGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBjb25maWcubnVtUG9pbnRzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbmZpZy5pbm5lclJhZGl1c1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcub3V0ZXJSYWRpdXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5maWxsXSBmaWxsIGNvbG9yXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbFJlZF0gc2V0IGZpbGwgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxHcmVlbl0gc2V0IGZpbGwgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEJsdWVdIHNldCBmaWxsIGJsdWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuZmlsbEFscGhhXSBzZXQgZmlsbCBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW1hZ2V9IFtjb25maWcuZmlsbFBhdHRlcm5JbWFnZV0gZmlsbCBwYXR0ZXJuIGltYWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuT2Zmc2V0WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFldIFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZV0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5TY2FsZVldXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblJvdGF0aW9uXVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFBhdHRlcm5SZXBlYXRdIGNhbiBiZSBcInJlcGVhdFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgb3IgXCJuby1yZXBlYXRcIi4gIFRoZSBkZWZhdWx0IGlzIFwibm8tcmVwZWF0XCJcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudFN0YXJ0UG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRFbmRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50RW5kUG9pbnRYXSBcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WV0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRTdGFydFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFJhZGl1c11cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50Q29sb3JTdG9wc10gYXJyYXkgb2YgY29sb3Igc3RvcHNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5maWxsRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBmaWxsLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbFByaW9yaXR5XSBjYW4gYmUgY29sb3IsIGxpbmVhci1ncmFkaWVudCwgcmFkaWFsLWdyYWlkZW50LCBvciBwYXR0ZXJuLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgY29sb3IuICBUaGUgZmlsbFByaW9yaXR5IHByb3BlcnR5IG1ha2VzIGl0IHJlYWxseSBlYXN5IHRvIHRvZ2dsZSBiZXR3ZWVuIGRpZmZlcmVudCBmaWxsIHR5cGVzLiAgRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHRvIHRvZ2dsZSBiZXR3ZWVuIGEgZmlsbCBjb2xvciBzdHlsZSBhbmQgYSBmaWxsIHBhdHRlcm4gc3R5bGUsIHNpbXBseSBzZXQgdGhlIGZpbGwgcHJvcGVydHkgYW5kIHRoZSBmaWxsUGF0dGVybiBwcm9wZXJ0aWVzLCBhbmQgdGhlbiB1c2Ugc2V0RmlsbFByaW9yaXR5KCdjb2xvcicpIHRvIHJlbmRlciB0aGUgc2hhcGUgd2l0aCBhIGNvbG9yIGZpbGwsIG9yIHVzZSBzZXRGaWxsUHJpb3JpdHkoJ3BhdHRlcm4nKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggdGhlIHBhdHRlcm4gZmlsbCBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zdHJva2VdIHN0cm9rZSBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZVJlZF0gc2V0IHN0cm9rZSByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlR3JlZW5dIHNldCBzdHJva2UgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc3Ryb2tlQmx1ZV0gc2V0IHN0cm9rZSBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUFscGhhXSBzZXQgc3Ryb2tlIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc3Ryb2tlV2lkdGhdIHN0cm9rZSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnN0cm9rZVNjYWxlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHN0cm9rZSBzY2FsZS4gIFRoZSBkZWZhdWx0IGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHN0cm9rZS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVKb2luXSBjYW4gYmUgbWl0ZXIsIHJvdW5kLCBvciBiZXZlbC4gIFRoZSBkZWZhdWx0XHJcbiAgICAgKiAgaXMgbWl0ZXJcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmxpbmVDYXBdIGNhbiBiZSBidXR0LCByb3VuZCwgb3Igc3FhcmUuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIGJ1dHRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNoYWRvd0NvbG9yXVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd1JlZF0gc2V0IHNoYWRvdyBjb2xvciByZWQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93R3JlZW5dIHNldCBzaGFkb3cgY29sb3IgZ3JlZW4gY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFtjb25maWcuc2hhZG93Qmx1ZV0gc2V0IHNoYWRvdyBjb2xvciBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0FscGhhXSBzZXQgc2hhZG93IGNvbG9yIGFscGhhIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93Qmx1cl1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNoYWRvd09mZnNldF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09mZnNldFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T3BhY2l0eV0gc2hhZG93IG9wYWNpdHkuICBDYW4gYmUgYW55IHJlYWwgbnVtYmVyXHJcbiAgICAgKiAgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2hhZG93RW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzaGFkb3cuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmRhc2hdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGFzaEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZGFzaEFycmF5LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy55XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcud2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5oZWlnaHRdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcudmlzaWJsZV1cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5saXN0ZW5pbmddIHdoZXRoZXIgb3Igbm90IHRoZSBub2RlIGlzIGxpc3RlbmluZyBmb3IgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5pZF0gdW5pcXVlIGlkXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5uYW1lXSBub24tdW5pcXVlIG5hbWVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9wYWNpdHldIGRldGVybWluZXMgbm9kZSBvcGFjaXR5LiAgQ2FuIGJlIGFueSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zY2FsZV0gc2V0IHNjYWxlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVhdIHNldCBzY2FsZSB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zY2FsZVldIHNldCBzY2FsZSB5XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5yb3RhdGlvbl0gcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcub2Zmc2V0XSBvZmZzZXQgZnJvbSBjZW50ZXIgcG9pbnQgYW5kIHJvdGF0aW9uIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRYXSBzZXQgb2Zmc2V0IHhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLm9mZnNldFldIHNldCBvZmZzZXQgeVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRyYWdnYWJsZV0gbWFrZXMgdGhlIG5vZGUgZHJhZ2dhYmxlLiAgV2hlbiBzdGFnZXMgYXJlIGRyYWdnYWJsZSwgeW91IGNhbiBkcmFnIGFuZCBkcm9wXHJcbiAgICAgKiAgdGhlIGVudGlyZSBzdGFnZSBieSBkcmFnZ2luZyBhbnkgcG9ydGlvbiBvZiB0aGUgc3RhZ2VcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmRyYWdEaXN0YW5jZV1cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb25maWcuZHJhZ0JvdW5kRnVuY11cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBzdGFyID0gbmV3IEtpbmV0aWMuU3Rhcih7XG4gICAgICogICB4OiAxMDAsXG4gICAgICogICB5OiAyMDAsXG4gICAgICogICBudW1Qb2ludHM6IDUsXG4gICAgICogICBpbm5lclJhZGl1czogNzAsXG4gICAgICogICBvdXRlclJhZGl1czogNzAsXG4gICAgICogICBmaWxsOiAncmVkJyxcbiAgICAgKiAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgKiAgIHN0cm9rZVdpZHRoOiA0XG4gICAgICogfSk7XG4gICAgICovXG4gICAgS2luZXRpYy5TdGFyID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLlN0YXIucHJvdG90eXBlID0ge1xuICAgICAgICBfX19pbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgc3VwZXIgY29uc3RydWN0b3JcbiAgICAgICAgICAgIEtpbmV0aWMuU2hhcGUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnU3Rhcic7XG4gICAgICAgICAgICB0aGlzLnNjZW5lRnVuYyh0aGlzLl9zY2VuZUZ1bmMpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzKCksXG4gICAgICAgICAgICAgICAgb3V0ZXJSYWRpdXMgPSB0aGlzLm91dGVyUmFkaXVzKCksXG4gICAgICAgICAgICAgICAgbnVtUG9pbnRzID0gdGhpcy5udW1Qb2ludHMoKTtcblxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKDAsIDAgLSBvdXRlclJhZGl1cyk7XG5cbiAgICAgICAgICAgIGZvcih2YXIgbiA9IDE7IG4gPCBudW1Qb2ludHMgKiAyOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gbiAlIDIgPT09IDAgPyBvdXRlclJhZGl1cyA6IGlubmVyUmFkaXVzO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gcmFkaXVzICogTWF0aC5zaW4obiAqIE1hdGguUEkgLyBudW1Qb2ludHMpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gLTEgKiByYWRpdXMgKiBNYXRoLmNvcyhuICogTWF0aC5QSSAvIG51bVBvaW50cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLlN0YXIsIEtpbmV0aWMuU2hhcGUpO1xuXG4gICAgLy8gYWRkIGdldHRlcnMgc2V0dGVyc1xuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TdGFyLCAnbnVtUG9pbnRzJywgNSk7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgbnVtYmVyIG9mIHBvaW50c1xuICAgICAqIEBuYW1lIHNldE51bVBvaW50c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFyLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcG9pbnRzXG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICogZ2V0IG51bWJlciBvZiBwb2ludHNcbiAgICAgKiBAbmFtZSBnZXROdW1Qb2ludHNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3Rhci5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TdGFyLCAnaW5uZXJSYWRpdXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBpbm5lciByYWRpdXNcbiAgICAgKiBAbmFtZSBzZXRJbm5lclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFyLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgaW5uZXIgcmFkaXVzXG4gICAgICogQG5hbWUgZ2V0SW5uZXJSYWRpdXNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3Rhci5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5TdGFyLCAnb3V0ZXJSYWRpdXMnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBvdXRlciByYWRpdXNcbiAgICAgKiBAbmFtZSBzZXRPdXRlclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5TdGFyLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgb3V0ZXIgcmFkaXVzXG4gICAgICogQG5hbWUgZ2V0T3V0ZXJSYWRpdXNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuU3Rhci5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuU3Rhcik7XG59KSgpO1xuOyhmdW5jdGlvbigpIHtcbiAgICAvLyBjb25zdGFudHNcbiAgICB2YXIgQVRUUl9DSEFOR0VfTElTVCA9IFsnZm9udEZhbWlseScsICdmb250U2l6ZScsICdmb250U3R5bGUnLCAncGFkZGluZycsICdsaW5lSGVpZ2h0JywgJ3RleHQnXSxcbiAgICAgICAgQ0hBTkdFX0tJTkVUSUMgPSAnQ2hhbmdlLmtpbmV0aWMnLFxuICAgICAgICBOT05FID0gJ25vbmUnLFxuICAgICAgICBVUCA9ICd1cCcsXG4gICAgICAgIFJJR0hUID0gJ3JpZ2h0JyxcbiAgICAgICAgRE9XTiA9ICdkb3duJyxcbiAgICAgICAgTEVGVCA9ICdsZWZ0JyxcbiAgICAgICAgTEFCRUwgPSAnTGFiZWwnLFxuXG4gICAgIC8vIGNhY2hlZCB2YXJpYWJsZXNcbiAgICAgYXR0ckNoYW5nZUxpc3RMZW4gPSBBVFRSX0NIQU5HRV9MSVNULmxlbmd0aDtcblxuICAgIC8qKlxuICAgICAqIExhYmVsIGNvbnN0cnVjdG9yLiZuYnNwOyBMYWJlbHMgYXJlIGdyb3VwcyB0aGF0IGNvbnRhaW4gYSBUZXh0IGFuZCBUYWcgc2hhcGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBjcmVhdGUgbGFiZWxcbiAgICAgKiB2YXIgbGFiZWwgPSBuZXcgS2luZXRpYy5MYWJlbCh7XG4gICAgICogICB4OiAxMDAsXG4gICAgICogICB5OiAxMDAsIFxuICAgICAqICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBhZGQgYSB0YWcgdG8gdGhlIGxhYmVsXG4gICAgICogbGFiZWwuYWRkKG5ldyBLaW5ldGljLlRhZyh7XG4gICAgICogICBmaWxsOiAnI2JiYicsXG4gICAgICogICBzdHJva2U6ICcjMzMzJyxcbiAgICAgKiAgIHNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgICAqICAgc2hhZG93Qmx1cjogMTAsXG4gICAgICogICBzaGFkb3dPZmZzZXQ6IFsxMCwgMTBdLFxuICAgICAqICAgc2hhZG93T3BhY2l0eTogMC4yLFxuICAgICAqICAgbGluZUpvaW46ICdyb3VuZCcsXG4gICAgICogICBwb2ludGVyRGlyZWN0aW9uOiAndXAnLFxuICAgICAqICAgcG9pbnRlcldpZHRoOiAyMCxcbiAgICAgKiAgIHBvaW50ZXJIZWlnaHQ6IDIwLFxuICAgICAqICAgY29ybmVyUmFkaXVzOiA1XG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gYWRkIHRleHQgdG8gdGhlIGxhYmVsXG4gICAgICogbGFiZWwuYWRkKG5ldyBLaW5ldGljLlRleHQoe1xuICAgICAqICAgdGV4dDogJ0hlbGxvIFdvcmxkIScsXG4gICAgICogICBmb250U2l6ZTogNTAsXG4gICAgICogICBsaW5lSGVpZ2h0OiAxLjIsXG4gICAgICogICBwYWRkaW5nOiAxMCxcbiAgICAgKiAgIGZpbGw6ICdncmVlbidcbiAgICAgKiAgfSkpO1xuICAgICAqL1xuICAgIEtpbmV0aWMuTGFiZWwgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fX19faW5pdChjb25maWcpO1xuICAgIH07XG5cbiAgICBLaW5ldGljLkxhYmVsLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX19fX2luaXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBLaW5ldGljLkdyb3VwLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gTEFCRUw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMub24oJ2FkZC5raW5ldGljJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fYWRkTGlzdGVuZXJzKGV2dC5jaGlsZCk7XG4gICAgICAgICAgICAgICAgdGhhdC5fc3luYygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXQgVGV4dCBzaGFwZSBmb3IgdGhlIGxhYmVsLiAgWW91IG5lZWQgdG8gYWNjZXNzIHRoZSBUZXh0IHNoYXBlIGluIG9yZGVyIHRvIHVwZGF0ZVxuICAgICAgICAgKiB0aGUgdGV4dCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBuYW1lIGdldFRleHRcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5MYWJlbC5wcm90b3R5cGVcbiAgICAgICAgICovXG4gICAgICAgIGdldFRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZCgnVGV4dCcpWzBdO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IFRhZyBzaGFwZSBmb3IgdGhlIGxhYmVsLiAgWW91IG5lZWQgdG8gYWNjZXNzIHRoZSBUYWcgc2hhcGUgaW4gb3JkZXIgdG8gdXBkYXRlXG4gICAgICAgICAqIHRoZSBwb2ludGVyIHByb3BlcnRpZXMgYW5kIHRoZSBjb3JuZXIgcmFkaXVzXG4gICAgICAgICAqIEBuYW1lIGdldFRhZ1xuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkxhYmVsLnByb3RvdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGFnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmQoJ1RhZycpWzBdO1xuICAgICAgICB9LFxuICAgICAgICBfYWRkTGlzdGVuZXJzOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgbjtcbiAgICAgICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fc3luYygpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0ZXh0IGRhdGEgZm9yIGNlcnRhaW4gYXR0ciBjaGFuZ2VzXG4gICAgICAgICAgICBmb3IobiA9IDA7IG4gPCBhdHRyQ2hhbmdlTGlzdExlbjsgbisrKSB7XG4gICAgICAgICAgICAgICAgdGV4dC5vbihBVFRSX0NIQU5HRV9MSVNUW25dICsgQ0hBTkdFX0tJTkVUSUMsIGZ1bmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KCkuZ2V0V2lkdGgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoKS5nZXRIZWlnaHQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3N5bmM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldFRleHQoKSxcbiAgICAgICAgICAgICAgICB0YWcgPSB0aGlzLmdldFRhZygpLFxuICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsIHBvaW50ZXJEaXJlY3Rpb24sIHBvaW50ZXJXaWR0aCwgeCwgeSwgcG9pbnRlckhlaWdodDtcblxuICAgICAgICAgICAgaWYgKHRleHQgJiYgdGFnKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0ZXh0LmdldFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGV4dC5nZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyRGlyZWN0aW9uID0gdGFnLmdldFBvaW50ZXJEaXJlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyV2lkdGggPSB0YWcuZ2V0UG9pbnRlcldpZHRoKCk7XG4gICAgICAgICAgICAgICAgcG9pbnRlckhlaWdodCA9IHRhZy5nZXRQb2ludGVySGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICAgICAgeSA9IDA7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2gocG9pbnRlckRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVQOlxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAtMSAqIHBvaW50ZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBSSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB3aWR0aCArIHBvaW50ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gaGVpZ2h0ICsgcG9pbnRlckhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIExFRlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gLTEgKiBwb2ludGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhZy5zZXRBdHRycyh7XG4gICAgICAgICAgICAgICAgICAgIHg6IC0xICogeCxcbiAgICAgICAgICAgICAgICAgICAgeTogLTEgKiB5LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0ZXh0LnNldEF0dHJzKHtcbiAgICAgICAgICAgICAgICAgICAgeDogLTEgKiB4LFxuICAgICAgICAgICAgICAgICAgICB5OiAtMSAqIHlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuTGFiZWwsIEtpbmV0aWMuR3JvdXApO1xuXG4gICAgS2luZXRpYy5Db2xsZWN0aW9uLm1hcE1ldGhvZHMoS2luZXRpYy5MYWJlbCk7XG5cbiAgICAvKipcbiAgICAgKiBUYWcgY29uc3RydWN0b3IuJm5ic3A7IEEgVGFnIGNhbiBiZSBjb25maWd1cmVkXG4gICAgICogIHRvIGhhdmUgYSBwb2ludGVyIGVsZW1lbnQgdGhhdCBwb2ludHMgdXAsIHJpZ2h0LCBkb3duLCBvciBsZWZ0XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcucG9pbnRlckRpcmVjdGlvbl0gY2FuIGJlIHVwLCByaWdodCwgZG93biwgbGVmdCwgb3Igbm9uZTsgdGhlIGRlZmF1bHRcbiAgICAgKiAgaXMgbm9uZS4gIFdoZW4gYSBwb2ludGVyIGlzIHByZXNlbnQsIHRoZSBwb3NpdGlvbmluZyBvZiB0aGUgbGFiZWwgaXMgcmVsYXRpdmUgdG8gdGhlIHRpcCBvZiB0aGUgcG9pbnRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5wb2ludGVyV2lkdGhdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucG9pbnRlckhlaWdodF1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5jb3JuZXJSYWRpdXNdXG4gICAgICovXG4gICAgS2luZXRpYy5UYWcgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fX19pbml0KGNvbmZpZyk7XG4gICAgfTtcblxuICAgIEtpbmV0aWMuVGFnLnByb3RvdHlwZSA9IHtcbiAgICAgICAgX19faW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICBLaW5ldGljLlNoYXBlLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ1RhZyc7XG4gICAgICAgICAgICB0aGlzLnNjZW5lRnVuYyh0aGlzLl9zY2VuZUZ1bmMpO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jOiBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBwb2ludGVyRGlyZWN0aW9uID0gdGhpcy5nZXRQb2ludGVyRGlyZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgcG9pbnRlcldpZHRoID0gdGhpcy5nZXRQb2ludGVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICBwb2ludGVySGVpZ2h0ID0gdGhpcy5nZXRQb2ludGVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgY29ybmVyUmFkaXVzID0gdGhpcy5nZXRDb3JuZXJSYWRpdXMoKTtcblxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKDAsMCk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludGVyRGlyZWN0aW9uID09PSBVUCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKCh3aWR0aCAtIHBvaW50ZXJXaWR0aCkvMiwgMCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgvMiwgLTEgKiBwb2ludGVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygod2lkdGggKyBwb2ludGVyV2lkdGgpLzIsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighY29ybmVyUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCAtIGNvcm5lclJhZGl1cywgMCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMod2lkdGggLSBjb3JuZXJSYWRpdXMsIGNvcm5lclJhZGl1cywgY29ybmVyUmFkaXVzLCBNYXRoLlBJICogMyAvIDIsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBvaW50ZXJEaXJlY3Rpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgsIChoZWlnaHQgLSBwb2ludGVySGVpZ2h0KS8yKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCArIHBvaW50ZXJXaWR0aCwgaGVpZ2h0LzIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHdpZHRoLCAoaGVpZ2h0ICsgcG9pbnRlckhlaWdodCkvMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8od2lkdGgsIGhlaWdodCAtIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMod2lkdGggLSBjb3JuZXJSYWRpdXMsIGhlaWdodCAtIGNvcm5lclJhZGl1cywgY29ybmVyUmFkaXVzLCAwLCBNYXRoLlBJIC8gMiwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9pbnRlckRpcmVjdGlvbiA9PT0gRE9XTikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKCh3aWR0aCArIHBvaW50ZXJXaWR0aCkvMiwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh3aWR0aC8yLCBoZWlnaHQgKyBwb2ludGVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygod2lkdGggLSBwb2ludGVyV2lkdGgpLzIsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFjb3JuZXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygwLCBoZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjb3JuZXJSYWRpdXMsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoY29ybmVyUmFkaXVzLCBoZWlnaHQgLSBjb3JuZXJSYWRpdXMsIGNvcm5lclJhZGl1cywgTWF0aC5QSSAvIDIsIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvaW50ZXJEaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygwLCAoaGVpZ2h0ICsgcG9pbnRlckhlaWdodCkvMik7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oLTEgKiBwb2ludGVyV2lkdGgsIGhlaWdodC8yKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygwLCAoaGVpZ2h0IC0gcG9pbnRlckhlaWdodCkvMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGNvcm5lclJhZGl1cykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKDAsIGNvcm5lclJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoY29ybmVyUmFkaXVzLCBjb3JuZXJSYWRpdXMsIGNvcm5lclJhZGl1cywgTWF0aC5QSSwgTWF0aC5QSSAqIDMgLyAyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHJva2VTaGFwZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBLaW5ldGljLlV0aWwuZXh0ZW5kKEtpbmV0aWMuVGFnLCBLaW5ldGljLlNoYXBlKTtcbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuVGFnLCAncG9pbnRlckRpcmVjdGlvbicsIE5PTkUpO1xuXG4gICAgLyoqXG4gICAgICogc2V0IHBvaW50ZXIgRGlyZWN0aW9uXG4gICAgICogQG5hbWUgc2V0UG9pbnRlckRpcmVjdGlvblxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UYWcucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBvaW50ZXJEaXJlY3Rpb24gY2FuIGJlIHVwLCByaWdodCwgZG93biwgbGVmdCwgb3Igbm9uZS4gIFRoZVxuICAgICAqICBkZWZhdWx0IGlzIG5vbmVcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgKiBnZXQgcG9pbnRlciBEaXJlY3Rpb25cbiAgICAgKiBAbmFtZSBnZXRQb2ludGVyRGlyZWN0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRhZy5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5UYWcsICdwb2ludGVyV2lkdGgnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBwb2ludGVyIHdpZHRoXG4gICAgICogQG5hbWUgc2V0UG9pbnRlcldpZHRoXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRhZy5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9pbnRlcldpZHRoXG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICogZ2V0IHBvaW50ZXIgd2lkdGhcbiAgICAgKiBAbmFtZSBnZXRQb2ludGVyV2lkdGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGFnLnByb3RvdHlwZVxuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLlRhZywgJ3BvaW50ZXJIZWlnaHQnLCAwKTtcblxuICAgIC8qKlxuICAgICAqIHNldCBwb2ludGVyIGhlaWdodFxuICAgICAqIEBuYW1lIHNldFBvaW50ZXJIZWlnaHRcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuVGFnLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb2ludGVySGVpZ2h0XG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICogZ2V0IHBvaW50ZXIgaGVpZ2h0XG4gICAgICogQG5hbWUgZ2V0UG9pbnRlckhlaWdodFxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UYWcucHJvdG90eXBlXG4gICAgICovXG5cbiAgICBLaW5ldGljLkZhY3RvcnkuYWRkR2V0dGVyU2V0dGVyKEtpbmV0aWMuVGFnLCAnY29ybmVyUmFkaXVzJywgMCk7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgY29ybmVyIHJhZGl1c1xuICAgICAqIEBuYW1lIHNldENvcm5lclJhZGl1c1xuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgS2luZXRpYy5UYWcucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvcm5lciByYWRpdXNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIGdldCBjb3JuZXIgcmFkaXVzXG4gICAgICogQG5hbWUgZ2V0Q29ybmVyUmFkaXVzXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLlRhZy5wcm90b3R5cGVcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuQ29sbGVjdGlvbi5tYXBNZXRob2RzKEtpbmV0aWMuVGFnKTtcbn0pKCk7XG47KGZ1bmN0aW9uKCkge1xuICAgIC8qKlxuICAgICAqIEFycm93IGNvbnN0cnVjdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWNcbiAgICAgKiBAYXVnbWVudHMgS2luZXRpYy5TaGFwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb25maWcucG9pbnRzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcudGVuc2lvbl0gSGlnaGVyIHZhbHVlcyB3aWxsIHJlc3VsdCBpbiBhIG1vcmUgY3VydnkgbGluZS4gIEEgdmFsdWUgb2YgMCB3aWxsIHJlc3VsdCBpbiBubyBpbnRlcnBvbGF0aW9uLlxuICAgICAqICAgVGhlIGRlZmF1bHQgaXMgMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcucG9pbnRlckxlbmd0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb25maWcucG9pbnRlcldpZHRoXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuZmlsbF0gZmlsbCBjb2xvclxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxSZWRdIHNldCBmaWxsIHJlZCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5maWxsR3JlZW5dIHNldCBmaWxsIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxCbHVlXSBzZXQgZmlsbCBibHVlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLmZpbGxBbHBoYV0gc2V0IGZpbGwgYWxwaGEgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlfSBbY29uZmlnLmZpbGxQYXR0ZXJuSW1hZ2VdIGZpbGwgcGF0dGVybiBpbWFnZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5YXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5ZXVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVybk9mZnNldFhdIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5PZmZzZXRZXSBcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUGF0dGVyblNjYWxlWF1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxQYXR0ZXJuU2NhbGVZXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFBhdHRlcm5Sb3RhdGlvbl1cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQYXR0ZXJuUmVwZWF0XSBjYW4gYmUgXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuICBUaGUgZGVmYXVsdCBpcyBcIm5vLXJlcGVhdFwiXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50U3RhcnRQb2ludFhdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRTdGFydFBvaW50WV1cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmZpbGxMaW5lYXJHcmFkaWVudEVuZFBvaW50XSBvYmplY3Qgd2l0aCB4IGFuZCB5IGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbExpbmVhckdyYWRpZW50RW5kUG9pbnRZXVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5maWxsTGluZWFyR3JhZGllbnRDb2xvclN0b3BzXSBhcnJheSBvZiBjb2xvciBzdG9wc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudFN0YXJ0UG9pbnRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRQb2ludFldXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludF0gb2JqZWN0IHdpdGggeCBhbmQgeSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudEVuZFBvaW50WF0gXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRQb2ludFldIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuZmlsbFJhZGlhbEdyYWRpZW50U3RhcnRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5maWxsUmFkaWFsR3JhZGllbnRFbmRSYWRpdXNdXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29uZmlnLmZpbGxSYWRpYWxHcmFkaWVudENvbG9yU3RvcHNdIGFycmF5IG9mIGNvbG9yIHN0b3BzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZmlsbEVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZmlsbC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmZpbGxQcmlvcml0eV0gY2FuIGJlIGNvbG9yLCBsaW5lYXItZ3JhZGllbnQsIHJhZGlhbC1ncmFpZGVudCwgb3IgcGF0dGVybi4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGNvbG9yLiAgVGhlIGZpbGxQcmlvcml0eSBwcm9wZXJ0eSBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB0b2dnbGUgYmV0d2VlbiBkaWZmZXJlbnQgZmlsbCB0eXBlcy4gIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byB0b2dnbGUgYmV0d2VlbiBhIGZpbGwgY29sb3Igc3R5bGUgYW5kIGEgZmlsbCBwYXR0ZXJuIHN0eWxlLCBzaW1wbHkgc2V0IHRoZSBmaWxsIHByb3BlcnR5IGFuZCB0aGUgZmlsbFBhdHRlcm4gcHJvcGVydGllcywgYW5kIHRoZW4gdXNlIHNldEZpbGxQcmlvcml0eSgnY29sb3InKSB0byByZW5kZXIgdGhlIHNoYXBlIHdpdGggYSBjb2xvciBmaWxsLCBvciB1c2Ugc2V0RmlsbFByaW9yaXR5KCdwYXR0ZXJuJykgdG8gcmVuZGVyIHRoZSBzaGFwZSB3aXRoIHRoZSBwYXR0ZXJuIGZpbGwgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc3Ryb2tlXSBzdHJva2UgY29sb3JcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VSZWRdIHNldCBzdHJva2UgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUdyZWVuXSBzZXQgc3Ryb2tlIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnN0cm9rZUJsdWVdIHNldCBzdHJva2UgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zdHJva2VBbHBoYV0gc2V0IHN0cm9rZSBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnN0cm9rZVdpZHRoXSBzdHJva2Ugd2lkdGhcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zdHJva2VTY2FsZUVuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyBzdHJva2Ugc2NhbGUuICBUaGUgZGVmYXVsdCBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc3Ryb2tlRW5hYmxlZF0gZmxhZyB3aGljaCBlbmFibGVzIG9yIGRpc2FibGVzIHRoZSBzdHJva2UuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lSm9pbl0gY2FuIGJlIG1pdGVyLCByb3VuZCwgb3IgYmV2ZWwuICBUaGUgZGVmYXVsdFxyXG4gICAgICogIGlzIG1pdGVyXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5saW5lQ2FwXSBjYW4gYmUgYnV0dCwgcm91bmQsIG9yIHNxYXJlLiAgVGhlIGRlZmF1bHRcclxuICAgICAqICBpcyBidXR0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zaGFkb3dDb2xvcl1cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dSZWRdIHNldCBzaGFkb3cgY29sb3IgcmVkIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0dyZWVuXSBzZXQgc2hhZG93IGNvbG9yIGdyZWVuIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBbY29uZmlnLnNoYWRvd0JsdWVdIHNldCBzaGFkb3cgY29sb3IgYmx1ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW2NvbmZpZy5zaGFkb3dBbHBoYV0gc2V0IHNoYWRvdyBjb2xvciBhbHBoYSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd0JsdXJdXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zaGFkb3dPZmZzZXRdIG9iamVjdCB3aXRoIHggYW5kIHkgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zaGFkb3dPZmZzZXRYXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2hhZG93T2Zmc2V0WV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLnNoYWRvd09wYWNpdHldIHNoYWRvdyBvcGFjaXR5LiAgQ2FuIGJlIGFueSByZWFsIG51bWJlclxyXG4gICAgICogIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnNoYWRvd0VuYWJsZWRdIGZsYWcgd2hpY2ggZW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgc2hhZG93LiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvbmZpZy5kYXNoXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLmRhc2hFbmFibGVkXSBmbGFnIHdoaWNoIGVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGRhc2hBcnJheS4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy54XVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcueV1cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uZmlnLndpZHRoXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuaGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29uZmlnLnZpc2libGVdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcubGlzdGVuaW5nXSB3aGV0aGVyIG9yIG5vdCB0aGUgbm9kZSBpcyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuaWRdIHVuaXF1ZSBpZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcubmFtZV0gbm9uLXVuaXF1ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vcGFjaXR5XSBkZXRlcm1pbmVzIG5vZGUgb3BhY2l0eS4gIENhbiBiZSBhbnkgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuc2NhbGVdIHNldCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVYXSBzZXQgc2NhbGUgeFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2NhbGVZXSBzZXQgc2NhbGUgeVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcucm90YXRpb25dIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm9mZnNldF0gb2Zmc2V0IGZyb20gY2VudGVyIHBvaW50IGFuZCByb3RhdGlvbiBwb2ludFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcub2Zmc2V0WF0gc2V0IG9mZnNldCB4XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5vZmZzZXRZXSBzZXQgb2Zmc2V0IHlcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kcmFnZ2FibGVdIG1ha2VzIHRoZSBub2RlIGRyYWdnYWJsZS4gIFdoZW4gc3RhZ2VzIGFyZSBkcmFnZ2FibGUsIHlvdSBjYW4gZHJhZyBhbmQgZHJvcFxyXG4gICAgICogIHRoZSBlbnRpcmUgc3RhZ2UgYnkgZHJhZ2dpbmcgYW55IHBvcnRpb24gb2YgdGhlIHN0YWdlXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5kcmFnRGlzdGFuY2VdXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29uZmlnLmRyYWdCb3VuZEZ1bmNdXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGluZSA9IG5ldyBLaW5ldGljLkxpbmUoe1xuICAgICAqICAgcG9pbnRzOiBbNzMsIDcwLCAzNDAsIDIzLCA0NTAsIDYwLCA1MDAsIDIwXSxcbiAgICAgKiAgIHN0cm9rZTogJ3JlZCcsXG4gICAgICogICB0ZW5zaW9uOiAxLFxuICAgICAqICAgcG9pbnRlckxlbmd0aCA6IDEwLFxuICAgICAqICAgcG9pbnRlcldpZHRoIDogMTJcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBLaW5ldGljLkFycm93ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX19fX2luaXQoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgS2luZXRpYy5BcnJvdy5wcm90b3R5cGUgPSB7XG4gICAgICAgIF9fX19pbml0IDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHN1cGVyIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBLaW5ldGljLkxpbmUuY2FsbCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnQXJyb3cnO1xuICAgICAgICB9LFxuICAgICAgICBfc2NlbmVGdW5jIDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICAgICAgICB2YXIgUEkyID0gTWF0aC5QSSAqIDI7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMoKTtcbiAgICAgICAgICAgIHZhciBuID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBkeCA9IHBvaW50c1tuLTJdIC0gcG9pbnRzW24tNF07XG4gICAgICAgICAgICB2YXIgZHkgPSBwb2ludHNbbi0xXSAtIHBvaW50c1tuLTNdO1xuICAgICAgICAgICAgdmFyIHJhZGlhbnMgPSAoTWF0aC5hdGFuMihkeSwgZHgpICsgUEkyKSAlIFBJMjtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50ZXJMZW5ndGgoKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMucG9pbnRlcldpZHRoKCk7XG5cbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHBvaW50c1tuLTJdLCBwb2ludHNbbi0xXSk7XG4gICAgICAgICAgICBjdHgucm90YXRlKHJhZGlhbnMpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oLWxlbmd0aCwgd2lkdGggLyAyKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oLWxlbmd0aCwgLXdpZHRoIC8gMik7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVyQXRCZWdpbm5pbmcoKSkge1xuICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgICAgICAgICAgZHggPSBwb2ludHNbMl0gLSBwb2ludHNbMF07XG4gICAgICAgICAgICAgICAgZHkgPSBwb2ludHNbM10gLSBwb2ludHNbMV07XG4gICAgICAgICAgICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5hdGFuMigtZHksIC1keCkgKyBQSTIpICUgUEkyKTtcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oLTEwLCA2KTtcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKC0xMCwgLTYpO1xuICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguZmlsbFN0cm9rZVNoYXBlKHRoaXMpO1xuICAgICAgICAgICAgS2luZXRpYy5MaW5lLnByb3RvdHlwZS5fc2NlbmVGdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgS2luZXRpYy5VdGlsLmV4dGVuZChLaW5ldGljLkFycm93LCBLaW5ldGljLkxpbmUpO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgcG9pbnRlckxlbmd0aFxuICAgICAqIEBuYW1lIHBvaW50ZXJMZW5ndGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQXJyb3cucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IExlbmd0aCBvZiBwb2ludGVyIG9mIGFycm93LlxuICAgICAqICAgVGhlIGRlZmF1bHQgaXMgMTAuXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGdldCB0ZW5zaW9uXG4gICAgICogdmFyIHBvaW50ZXJMZW5ndGggPSBsaW5lLnBvaW50ZXJMZW5ndGgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCB0ZW5zaW9uXG4gICAgICogbGluZS5wb2ludGVyTGVuZ3RoKDE1KTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5BcnJvdywgJ3BvaW50ZXJMZW5ndGgnLCAxMCk7XG4gICAgLyoqXG4gICAgICogZ2V0L3NldCBwb2ludGVyV2lkdGhcbiAgICAgKiBAbmFtZSBwb2ludGVyV2lkdGhcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEtpbmV0aWMuQXJyb3cucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFdpZHRoIG9mIHBvaW50ZXIgb2YgYXJyb3cuXG4gICAgICogICBUaGUgZGVmYXVsdCBpcyAxMC5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZ2V0IHRlbnNpb25cbiAgICAgKiB2YXIgcG9pbnRlcldpZHRoID0gbGluZS5wb2ludGVyV2lkdGgoKTtcbiAgICAgKlxuICAgICAqIC8vIHNldCB0ZW5zaW9uXG4gICAgICogbGluZS5wb2ludGVyV2lkdGgoMTUpO1xuICAgICAqL1xuXG4gICAgS2luZXRpYy5GYWN0b3J5LmFkZEdldHRlclNldHRlcihLaW5ldGljLkFycm93LCAncG9pbnRlcldpZHRoJywgMTApO1xuICAgIC8qKlxuICAgICAqIGdldC9zZXQgcG9pbnRlckF0QmVnaW5uaW5nXG4gICAgICogQG5hbWUgcG9pbnRlckF0QmVnaW5uaW5nXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBLaW5ldGljLkFycm93LnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBTaG91bGQgcG9pbnRlciBkaXNwbGF5ZWQgYXQgYmVnaW5uaW5nIG9mIGFycm93LlxuICAgICAqICAgVGhlIGRlZmF1bHQgaXMgZmFsc2UuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBnZXQgdGVuc2lvblxuICAgICAqIHZhciBwb2ludGVyQXRCZWdpbm5pbmcgPSBsaW5lLnBvaW50ZXJBdEJlZ2lubmluZygpO1xuICAgICAqXG4gICAgICogLy8gc2V0IHRlbnNpb25cbiAgICAgKiBsaW5lLnBvaW50ZXJBdEJlZ2lubmluZyh0cnVlKTtcbiAgICAgKi9cblxuICAgIEtpbmV0aWMuRmFjdG9yeS5hZGRHZXR0ZXJTZXR0ZXIoS2luZXRpYy5BcnJvdywgJ3BvaW50ZXJBdEJlZ2lubmluZycsIGZhbHNlKTtcbiAgICBLaW5ldGljLkNvbGxlY3Rpb24ubWFwTWV0aG9kcyhLaW5ldGljLkFycm93KTtcblxufSkoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBraW5ldGljID0gcmVxdWlyZSgna2luZXRpYycpO1xuXG5jbGFzcyBCbG9jayB7XG5cblx0Y29uc3RydWN0b3Iocm93LCBjb2x1bW4sIGdlbmVyYXRlS2V5LCBzcGFjZSwgYmxvY2tTaXplKSB7XG5cdFx0dGhpcy5yb3cgPSByb3c7XG5cdFx0dGhpcy5jb2x1bW4gPSBjb2x1bW47XG5cdFx0dGhpcy5nZW5lcmF0ZUtleSA9IGdlbmVyYXRlS2V5O1xuXHRcdHRoaXMuc3BhY2UgPSBzcGFjZTtcblx0XHR0aGlzLmJsb2NrU2l6ZSA9IGJsb2NrU2l6ZTtcblxuXHRcdHRoaXMueCA9IHRoaXMucm93ICogKHRoaXMuc3BhY2UgKiAyICsgdGhpcy5ibG9ja1NpemUpICsgdGhpcy5zcGFjZTtcblx0XHR0aGlzLnkgPSB0aGlzLmNvbHVtbiAqICh0aGlzLnNwYWNlICogMiArIHRoaXMuYmxvY2tTaXplKSArIHRoaXMuc3BhY2U7XG5cdFx0dGhpcy51cCA9IGZhbHNlO1xuXHRcdHRoaXMubGVmdCA9IGZhbHNlO1xuXHRcdHRoaXMuZG93biA9IGZhbHNlO1xuXHRcdHRoaXMucmlnaHQgPSBmYWxzZTtcblx0XHR0aGlzLmtleSA9IHRoaXMuZ2VuZXJhdGVLZXk7XG5cdFx0dGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcblx0XHR0aGlzLnJvdGF0aW9uID0gMDtcblx0XHR0aGlzLmFuaW1hdGlvbklzUnVubmluZyA9IGZhbHNlO1xuXHR9XG5cblx0aW5pdChvbkNsaWNrRXZlbnQsIGJveEFuaW1hdGlvbiwgd2lkdGgsIHJvd3MpIHtcblx0XHR0aGlzLmJveCA9IG5ldyBraW5ldGljLkdyb3VwKHtcblx0XHRcdHg6IHRoaXMueCArIHRoaXMuYmxvY2tTaXplIC8gMiArICh3aWR0aCAtIHRoaXMuYmxvY2tTaXplICogcm93cykgLyAyIC0gdGhpcy5ibG9ja1NpemUgLyAyLFxuXHRcdFx0eTogdGhpcy55ICsgdGhpcy5ibG9ja1NpemUgLyAyLFxuXHRcdFx0d2lkdGg6IHRoaXMuYmxvY2tTaXplLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmJsb2NrU2l6ZSxcblx0XHRcdG9mZnNldDoge1xuXHRcdFx0XHR4OiB0aGlzLmJsb2NrU2l6ZSAvIDIsXG5cdFx0XHRcdHk6IHRoaXMuYmxvY2tTaXplIC8gMlxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5waXBlcyA9IG5ldyBraW5ldGljLkdyb3VwKHtcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiAwXG5cdFx0fSk7XG5cblx0XHR0aGlzLnNoYXBlID0gbmV3IGtpbmV0aWMuUmVjdCh7XG5cdFx0XHR4OiAwLFxuXHRcdFx0eTogMCxcblx0XHRcdHdpZHRoOiB0aGlzLmJsb2NrU2l6ZSxcblx0XHRcdGhlaWdodDogdGhpcy5ibG9ja1NpemUsXG5cdFx0XHRuYW1lOiB0aGlzLnggKyAnLScgKyB0aGlzLnksXG5cdFx0XHRmaWxsOiAnZ3JleScsXG5cdFx0XHRzdHJva2U6ICdibGFjaycsXG5cdFx0XHRzdHJva2VXaWR0aDogdGhpcy5zcGFjZVxuXHRcdH0pO1xuXG5cdFx0dmFyIHBpcGVVcCA9IG5ldyBraW5ldGljLkxpbmUoe1xuXHRcdFx0cG9pbnRzOiBbIHRoaXMuYmxvY2tTaXplIC8gMiwgMCwgdGhpcy5ibG9ja1NpemUgLyAyLCB0aGlzLmJsb2NrU2l6ZSAvIDIgXSxcblx0XHRcdHN0cm9rZTogJ3JlZCcsXG5cdFx0XHRzdHJva2VXaWR0aDogMTMsXG5cdFx0XHRsaW5lQ2FwOiAncm91bmQnLFxuXHRcdFx0bmFtZTogJ3BpcGVVcCdcblx0XHR9KTtcblxuXHRcdHZhciBwaXBlTGVmdCA9IG5ldyBraW5ldGljLkxpbmUoe1xuXHRcdFx0cG9pbnRzOiBbIDAsIHRoaXMuYmxvY2tTaXplIC8gMiwgdGhpcy5ibG9ja1NpemUgLyAyLCB0aGlzLmJsb2NrU2l6ZSAvIDIgXSxcblx0XHRcdHN0cm9rZTogJ3JlZCcsXG5cdFx0XHRzdHJva2VXaWR0aDogMTMsXG5cdFx0XHRsaW5lQ2FwOiAncm91bmQnLFxuXHRcdFx0bmFtZTogJ3BpcGVMZWZ0J1xuXHRcdH0pO1xuXG5cdFx0dmFyIHBpcGVEb3duID0gbmV3IGtpbmV0aWMuTGluZSh7XG5cdFx0XHRwb2ludHM6IFsgdGhpcy5ibG9ja1NpemUgLyAyLCB0aGlzLmJsb2NrU2l6ZSwgdGhpcy5ibG9ja1NpemUgLyAyLCB0aGlzLmJsb2NrU2l6ZSAvIDIgXSxcblx0XHRcdHN0cm9rZTogJ3JlZCcsXG5cdFx0XHRzdHJva2VXaWR0aDogMTMsXG5cdFx0XHRsaW5lQ2FwOiAncm91bmQnLFxuXHRcdFx0bmFtZTogJ3BpcGVEb3duJ1xuXHRcdH0pO1xuXG5cdFx0dmFyIHBpcGVSaWdodCA9IG5ldyBraW5ldGljLkxpbmUoe1xuXHRcdFx0cG9pbnRzOiBbIHRoaXMuYmxvY2tTaXplLCB0aGlzLmJsb2NrU2l6ZSAvIDIsIHRoaXMuYmxvY2tTaXplIC8gMiwgdGhpcy5ibG9ja1NpemUgLyAyIF0sXG5cdFx0XHRzdHJva2U6ICdyZWQnLFxuXHRcdFx0c3Ryb2tlV2lkdGg6IDEzLFxuXHRcdFx0bGluZUNhcDogJ3JvdW5kJyxcblx0XHRcdG5hbWU6ICdwaXBlUmlnaHQnXG5cdFx0fSk7XG5cblx0XHQvLyBQbGFjaW5nIHBpcGVzXG5cdFx0aWYgKHRoaXMudXApIHtcblx0XHRcdHRoaXMucGlwZXMuYWRkKHBpcGVVcCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubGVmdCkge1xuXHRcdFx0dGhpcy5waXBlcy5hZGQocGlwZUxlZnQpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmRvd24pIHtcblx0XHRcdHRoaXMucGlwZXMuYWRkKHBpcGVEb3duKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5yaWdodCkge1xuXHRcdFx0dGhpcy5waXBlcy5hZGQocGlwZVJpZ2h0KTtcblx0XHR9XG5cblx0XHR0aGlzLmJveC5vbignY2xpY2snLCAoKSA9PiBvbkNsaWNrRXZlbnQodGhpcykpO1xuXHRcdHRoaXMubW91c2VDbGljayA9IGJveEFuaW1hdGlvbih0aGlzKTtcblxuXHRcdHRoaXMuYm94LmFkZCh0aGlzLnNoYXBlKTtcblx0XHR0aGlzLmJveC5hZGQodGhpcy5waXBlcyk7XG5cdH1cblxuXHRjb25uZWN0aW9uSGFuZGxlcihjb25uZWN0ZWQpIHtcblx0XHRpZiAoY29ubmVjdGVkKSB7XG5cdFx0XHR0aGlzLnBpcGVzLmZpbmQoJy5waXBlVXAnKS5zdHJva2UoJ2dyZWVuJyk7XG5cdFx0XHR0aGlzLnBpcGVzLmZpbmQoJy5waXBlTGVmdCcpLnN0cm9rZSgnZ3JlZW4nKTtcblx0XHRcdHRoaXMucGlwZXMuZmluZCgnLnBpcGVEb3duJykuc3Ryb2tlKCdncmVlbicpO1xuXHRcdFx0dGhpcy5waXBlcy5maW5kKCcucGlwZVJpZ2h0Jykuc3Ryb2tlKCdncmVlbicpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBpcGVzLmZpbmQoJy5waXBlVXAnKS5zdHJva2UoJ3JlZCcpO1xuXHRcdFx0dGhpcy5waXBlcy5maW5kKCcucGlwZUxlZnQnKS5zdHJva2UoJ3JlZCcpO1xuXHRcdFx0dGhpcy5waXBlcy5maW5kKCcucGlwZURvd24nKS5zdHJva2UoJ3JlZCcpO1xuXHRcdFx0dGhpcy5waXBlcy5maW5kKCcucGlwZVJpZ2h0Jykuc3Ryb2tlKCdyZWQnKTtcblx0XHR9XG5cdH1cblxuXHRzaHVmZmxlSXQoKSB7XG5cdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTsgaysrKSB7XG5cdFx0XHRpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuXHRcdFx0XHR0aGlzLnJvdGF0ZVJpZ2h0KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJvdGF0ZUxlZnQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyb3RhdGVSaWdodCgpIHtcblx0XHRsZXQgdGVtcCA9IHRoaXMudXA7XG5cblx0XHR0aGlzLnVwID0gdGhpcy5sZWZ0O1xuXHRcdHRoaXMubGVmdCA9IHRoaXMuZG93bjtcblx0XHR0aGlzLmRvd24gPSB0aGlzLnJpZ2h0O1xuXHRcdHRoaXMucmlnaHQgPSB0ZW1wO1xuXHR9XG5cblx0cm90YXRlTGVmdCgpIHtcblx0XHRsZXQgdGVtcCA9IHRoaXMudXA7XG5cblx0XHR0aGlzLnVwID0gdGhpcy5yaWdodDtcblx0XHR0aGlzLnJpZ2h0ID0gdGhpcy5kb3duO1xuXHRcdHRoaXMuZG93biA9IHRoaXMubGVmdDtcblx0XHR0aGlzLmxlZnQgPSB0ZW1wO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQmxvY2s7IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhdHRyU2VwYXJhdG9yID0gJzsnO1xuY29uc3Qga2V5VmFsdWVTZXBhcmF0b3IgPSAnPSc7XG5cbmNvbnN0IGV4cGlyZXNLZXkgPSAnZXhwaXJlcyc7XG5jb25zdCBwYXRoS2V5ID0gJ3BhdGgnO1xuXG5mdW5jdGlvbiBnZXQoa2V5LCBkZWZhdWx0VmFsdWUgPSBudWxsKSB7XG5cdGxldCBuYW1lID0ga2V5ICsga2V5VmFsdWVTZXBhcmF0b3IsXG5cdFx0ZGVjb2RlZENvb2tpZVN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpLFxuXHRcdGNvb2tpZXMgPSBkZWNvZGVkQ29va2llU3RyaW5nLnNwbGl0KCc7Jyk7XG5cblx0Zm9yIChsZXQgY29va2llIG9mIGNvb2tpZXMpIHtcblx0XHRjb29raWUgPSBjb29raWUudHJpbSgpO1xuXG5cdFx0aWYgKGNvb2tpZS5pbmRleE9mKG5hbWUpID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gY29va2llLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgY29va2llLmxlbmd0aCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUsIGV4cGlyZXMgPSAzNjUsIHBhdGggPSAnLycpIHtcblx0bGV0IGQgPSBuZXcgRGF0ZSgpO1xuXG5cdGQuc2V0VGltZShkLmdldFRpbWUoKSArIGV4cGlyZXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcblxuXHRsZXQgY29va2llQXR0ciA9IGtleSArIGtleVZhbHVlU2VwYXJhdG9yICsgdmFsdWUsXG5cdFx0ZXhwaXJlc0F0dHIgPSBleHBpcmVzS2V5ICsga2V5VmFsdWVTZXBhcmF0b3IgKyBkLnRvVVRDU3RyaW5nKCksXG5cdFx0cGF0aEF0dHIgPSBwYXRoS2V5ICsga2V5VmFsdWVTZXBhcmF0b3IgKyBwYXRoO1xuXG5cdGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZUF0dHIgKyBhdHRyU2VwYXJhdG9yICsgZXhwaXJlc0F0dHIgKyBhdHRyU2VwYXJhdG9yICsgcGF0aEF0dHI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRnZXQ6IGdldCxcblx0c2V0OiBzZXRcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBLaW5ldGljID0gcmVxdWlyZSgna2luZXRpYycpO1xuXG5jb25zdCBjb29raWUgID0gcmVxdWlyZSgnLi9tb2R1bGUvY29va2llJyk7XG5jb25zdCBCbG9jayAgID0gcmVxdWlyZSgnLi9tb2RlbC9ibG9jaycpO1xuXG5sZXQgd2lkdGggPSAxMjgwLFxuXHRoZWlnaHQgPSA3MjAsXG5cdHJvd3MgPSAxMCxcblx0Y29sdW1ucyA9IDEwLFxuXHRzcGFjZSA9IDUsXG5cdGxheWVyU2l6ZSA9IDUsXG5cdGxldmVsID0gMCxcblx0YmxvY2tTaXplID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyBNYXRoLm1heChyb3dzLCBjb2x1bW5zKSAtIHNwYWNlICogMixcblx0c3RhcnRpbmdQb2ludFggPSBNYXRoLmZsb29yKHJvd3MgLyAyKSxcblx0c3RhcnRpbmdQb2ludFkgPSBNYXRoLmZsb29yKGNvbHVtbnMgLyAyKTtcblxubGV0IHN0YWdlLCBnYW1lVHlwZSwgZ2FtZURpZmZpY3VsdHksIGxheWVyUm93cywgbGF5ZXJDb2x1bW5zLCB0YWJsZSwgdGltZXIsIGluZm9ybWF0aW9uLFxuXHRtZW51TGF5ZXIsIGRpZmZpY3VsdHlMYXllciwgdGltZVRyaWFsR2FtZUxheWVyLCBzY29yZUJvYXJkTWVudUxheWVyLCBpbmZvcm1hdGlvbk1lbnVMYXllcixcblx0Z2FtZUxheWVycywgYmxvY2tzO1xuXG5mdW5jdGlvbiBsb2FkQXBwbGljYXRpb24oKSB7XG5cdHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDIwMDtcblxuXHRzdGFnZSA9IG5ldyBLaW5ldGljLlN0YWdlKHtcblx0XHRjb250YWluZXI6ICd0YWJsZScsXG5cdFx0d2lkdGg6IHdpZHRoLFxuXHRcdGhlaWdodDogaGVpZ2h0XG5cdH0pO1xuXG5cdG1haW5NZW51KCk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0TmV3Q2xhc3NpY0dhbWUoKSB7XG5cblx0aWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcblx0XHRzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcblx0fVxuXG5cdGdhbWVUeXBlID0gJ2NsYXNzaWMnO1xuXG5cdHN3aXRjaCAoZ2FtZURpZmZpY3VsdHkpIHtcblx0XHRjYXNlICdlYXN5Jzpcblx0XHRcdHJvd3MgPSA1O1xuXHRcdFx0Y29sdW1ucyA9IDU7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdtZWRpdW0nOlxuXHRcdFx0cm93cyA9IDEwO1xuXHRcdFx0Y29sdW1ucyA9IDEwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaGFyZCc6XG5cdFx0XHRyb3dzID0gMTU7XG5cdFx0XHRjb2x1bW5zID0gMTU7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRzdGFydGluZ1BvaW50WCA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xuXHRzdGFydGluZ1BvaW50WSA9IE1hdGguZmxvb3IoY29sdW1ucyAvIDIpO1xuXHRsYXllclJvd3MgPSBNYXRoLmZsb29yKHJvd3MgLyBsYXllclNpemUpICsgMTtcblx0bGF5ZXJDb2x1bW5zID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gbGF5ZXJTaXplKSArIDE7XG5cdGJsb2NrU2l6ZSA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gTWF0aC5tYXgocm93cywgY29sdW1ucykgLSBzcGFjZSAqIDI7XG5cblx0dGFibGUgPSBuZXcgR2FtZVRhYmxlKCk7XG5cdHRhYmxlLmdlbmVyYXRlRmllbGRzKCk7XG5cdHRhYmxlLnNodWZmbGUoKTtcblx0dGFibGUuZHJhd0dhbWUoKTtcblxuXHR0aW1lciA9IG5ldyBHYW1lVGltZXIoKTtcblx0aW5mb3JtYXRpb24gPSBuZXcgSW5mb3JtYXRpb25QYW5lbCgpO1xuXG5cdHRpbWVyLnNldEluYyh0cnVlKTtcblx0dGltZXIuc3RhcnQoKTtcblxuXHRpbmZvcm1hdGlvbi5pbml0UGFuZWwoKTtcblx0aW5mb3JtYXRpb24udXBkYXRlU2NvcmUoY29va2llLmdldCgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSwgJy0tLy0tJykpO1xuXHRpbmZvcm1hdGlvbi5oaWRlTGV2ZWwoKTtcbn1cblxuZnVuY3Rpb24gc3RhcnROZXdUaW1lVHJpYWxHYW1lKCkge1xuXHRpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xuXHRcdHN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xuXHR9XG5cblx0Z2FtZVR5cGUgPSAndGltZS10cmlhbCc7XG5cblx0bGV2ZWwrKztcblxuXHRyb3dzID0gNCArIGxldmVsO1xuXHRjb2x1bW5zID0gNCArIGxldmVsO1xuXG5cdHN0YXJ0aW5nUG9pbnRYID0gTWF0aC5mbG9vcihyb3dzIC8gMik7XG5cdHN0YXJ0aW5nUG9pbnRZID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gMik7XG5cdGxheWVyUm93cyA9IE1hdGguZmxvb3Iocm93cyAvIGxheWVyU2l6ZSkgKyAxO1xuXHRsYXllckNvbHVtbnMgPSBNYXRoLmZsb29yKGNvbHVtbnMgLyBsYXllclNpemUpICsgMTtcblx0YmxvY2tTaXplID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyBNYXRoLm1heChyb3dzLCBjb2x1bW5zKSAtIHNwYWNlICogMjtcblxuXHR0YWJsZSA9IG5ldyBHYW1lVGFibGUoKTtcblx0dGFibGUuZ2VuZXJhdGVGaWVsZHMoKTtcblx0dGFibGUuc2h1ZmZsZSgpO1xuXHR0YWJsZS5kcmF3R2FtZSgpO1xuXG5cdGlmICh0eXBlb2YgdGltZXIgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0dGltZXIgPSBuZXcgR2FtZVRpbWVyKCk7XG5cdH1cblx0dGltZXIuc2V0SW5jKGZhbHNlKTtcblx0dGltZXIuc2V0Q3VycmVudFRpbWUoKHRpbWVyLmdldEN1cnJlbnRUaW1lKCkgPT09IDAgPyA4MCA6IHRpbWVyLmdldEN1cnJlbnRUaW1lKCkpICsgMzAgKyBsZXZlbCAqIDEwKTtcblx0dGltZXIuc3RhcnQoKTtcblxuXHRpbmZvcm1hdGlvbiA9IG5ldyBJbmZvcm1hdGlvblBhbmVsKCk7XG5cdGluZm9ybWF0aW9uLmluaXRQYW5lbCgpO1xuXHRpbmZvcm1hdGlvbi51cGRhdGVTY29yZShjb29raWUuZ2V0KCd0aW1lX3RyaWFsX3Njb3JlJywgJy0nKSk7XG5cdGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKHRpbWVyLmdldE1pbigpICsgJzonICsgdGltZXIuZ2V0U2VjKCkpO1xuXHRpbmZvcm1hdGlvbi51cGRhdGVMZXZlbChsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIEdhbWVUaW1lcigpIHtcblx0Ly8gT3B0aW9uc1xuXHR2YXIgaW5jID0gdHJ1ZTtcblx0dmFyIHRpbWVyT2JqID0gbnVsbDtcblxuXHQvLyBTdGF0ZXNcblx0dmFyIGN1cnJlbnRUaW1lID0gMDtcblx0dmFyIGN1cnJlbnRTZWMgPSAwO1xuXHR2YXIgY3VycmVudE1pbiA9IDA7XG5cblx0dGhpcy5zZXRJbmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGluYyA9IHZhbHVlO1xuXHR9O1xuXG5cdHRoaXMuZ2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gY3VycmVudFRpbWU7XG5cdH07XG5cblx0dGhpcy5zZXRDdXJyZW50VGltZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0Y3VycmVudFRpbWUgPSB2YWx1ZTtcblx0XHR1cGRhdGVNaW5BbmRTZWMoKTtcblx0fTtcblxuXHR0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKGluYykge1xuXHRcdFx0dGltZXJPYmogPSBzZXRJbnRlcnZhbChyZWZyZXNoSW5jVGltZXIsIDEwMDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aW1lck9iaiA9IHNldEludGVydmFsKHJlZnJlc2hEZWNUaW1lciwgMTAwMCk7XG5cdFx0fVxuXHR9O1xuXG5cdHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdGNsZWFySW50ZXJ2YWwodGltZXJPYmopO1xuXHR9O1xuXG5cdHRoaXMucmVzZXQgPSBmdW5jdGlvbigpIHtcblx0XHRjdXJyZW50VGltZSA9IDA7XG5cdFx0Y3VycmVudFNlYyA9IDA7XG5cdFx0Y3VycmVudE1pbiA9IDA7XG5cdH07XG5cblx0dGhpcy5nZXRTZWMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gY3VycmVudFNlYztcblx0fTtcblxuXHR0aGlzLmdldE1pbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBjdXJyZW50TWluO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIHJlZnJlc2hJbmNUaW1lcigpIHtcblx0XHRjdXJyZW50VGltZSsrO1xuXHRcdHVwZGF0ZU1pbkFuZFNlYygpO1xuXHRcdGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKGN1cnJlbnRNaW4gKyAnOicgKyBjdXJyZW50U2VjKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlZnJlc2hEZWNUaW1lcigpIHtcblx0XHRjdXJyZW50VGltZS0tO1xuXHRcdHVwZGF0ZU1pbkFuZFNlYygpO1xuXHRcdGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKGN1cnJlbnRNaW4gKyAnOicgKyBjdXJyZW50U2VjKTtcblxuXHRcdGlmIChjdXJyZW50VGltZSA9PT0gMCkge1xuXHRcdFx0dGltZVRyaWFsR2FtZVRpbWVVcCgpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHVwZGF0ZU1pbkFuZFNlYygpIHtcblx0XHRjdXJyZW50TWluID0gTWF0aC5mbG9vcihjdXJyZW50VGltZSAvIDYwKTtcblx0XHRjdXJyZW50TWluID0gY3VycmVudE1pbiA8IDEwID8gJzAnICsgY3VycmVudE1pbiA6IGN1cnJlbnRNaW47XG5cdFx0Y3VycmVudFNlYyA9IGN1cnJlbnRUaW1lICUgNjA7XG5cdFx0Y3VycmVudFNlYyA9IGN1cnJlbnRTZWMgPCAxMCA/ICcwJyArIGN1cnJlbnRTZWMgOiBjdXJyZW50U2VjO1xuXHR9XG59XG5cbmZ1bmN0aW9uIG1haW5NZW51KCkge1xuXG5cdGlmIChzdGFnZS5oYXNDaGlsZHJlbigpKSB7XG5cdFx0c3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XG5cdH1cblxuXHR2YXIgY2xhc3NpY0dhbWVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyLFxuXHRcdHk6IGhlaWdodCAvIDMgLSAxMDAsXG5cdFx0dGV4dDogJ0NsYXNzaWMgZ2FtZScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0Y2xhc3NpY0dhbWVUZXh0LnNldE9mZnNldCh7XG5cdFx0eDogY2xhc3NpY0dhbWVUZXh0LmdldFdpZHRoKCkgLyAyXG5cdH0pO1xuXG5cdHZhciB0aW1lVHJpYWxHYW1lVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xuXHRcdHg6IHdpZHRoIC8gMixcblx0XHR5OiBoZWlnaHQgLyAzLFxuXHRcdHRleHQ6ICdUaW1lIHRyaWFsJyxcblx0XHRmb250U2l6ZTogMzIsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR0aW1lVHJpYWxHYW1lVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IHRpbWVUcmlhbEdhbWVUZXh0LmdldFdpZHRoKCkgLyAyXG5cdH0pO1xuXG5cdHZhciBzY29yZUJvYXJkVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xuXHRcdHg6IHdpZHRoIC8gMixcblx0XHR5OiBoZWlnaHQgLyAzICsgMTAwLFxuXHRcdHRleHQ6ICdTY29yZWJvYXJkJyxcblx0XHRmb250U2l6ZTogMzIsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHRzY29yZUJvYXJkVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IHNjb3JlQm9hcmRUZXh0LmdldFdpZHRoKCkgLyAyXG5cdH0pO1xuXG5cdHZhciBpbmZvcm1hdGlvblRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyArIDIwMCxcblx0XHR0ZXh0OiAnSW5mb3JtYXRpb24nLFxuXHRcdGZvbnRTaXplOiAzMixcblx0XHRmb250RmFtaWx5OiAnQ2FsaWJyaScsXG5cdFx0ZmlsbDogJ2dyZXknXG5cdH0pO1xuXG5cdGluZm9ybWF0aW9uVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IGluZm9ybWF0aW9uVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHRtZW51TGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xuXHRtZW51TGF5ZXIubmFtZSA9ICdnYW1lTWVudSc7XG5cdG1lbnVMYXllci5hZGQoY2xhc3NpY0dhbWVUZXh0KTtcblx0bWVudUxheWVyLmFkZCh0aW1lVHJpYWxHYW1lVGV4dCk7XG5cdG1lbnVMYXllci5hZGQoc2NvcmVCb2FyZFRleHQpO1xuXHRtZW51TGF5ZXIuYWRkKGluZm9ybWF0aW9uVGV4dCk7XG5cdHN0YWdlLmFkZChtZW51TGF5ZXIpO1xuXG5cdC8vIEV2ZW50IGxpc3RlbmVyc1xuXHR2YXIgY2xhc3NpY0dhbWVUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdGNsYXNzaWNHYW1lVGV4dC5maWxsKCdibGFjaycpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBtZW51TGF5ZXIpO1xuXG5cdHZhciBjbGFzc2ljR2FtZVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRjbGFzc2ljR2FtZVRleHQuZmlsbCgnZ3JleScpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBtZW51TGF5ZXIpO1xuXG5cdGNsYXNzaWNHYW1lVGV4dC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG5cdFx0Y2xhc3NpY0dhbWVUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGNsYXNzaWNHYW1lVGV4dC5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcblx0XHRjbGFzc2ljR2FtZVRleHRNb3VzZU91dC5zdGFydCgpO1xuXHR9KTtcblxuXHRjbGFzc2ljR2FtZVRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0Y2xhc3NpY0RpZmZpY3VsdHlTZWxlY3RNZW51KCk7XG5cdH0pO1xuXG5cdHZhciB0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHR0aW1lVHJpYWxHYW1lVGV4dC5maWxsKCdibGFjaycpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBtZW51TGF5ZXIpO1xuXG5cdHZhciB0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3V0ID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdHRpbWVUcmlhbEdhbWVUZXh0LmZpbGwoJ2dyZXknKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgbWVudUxheWVyKTtcblxuXHR0aW1lVHJpYWxHYW1lVGV4dC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG5cdFx0dGltZVRyaWFsR2FtZVRleHRNb3VzZU92ZXIuc3RhcnQoKTtcblx0fSk7XG5cblx0dGltZVRyaWFsR2FtZVRleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0dGltZVRyaWFsR2FtZVRleHRNb3VzZU91dC5zdGFydCgpO1xuXHR9KTtcblxuXHR0aW1lVHJpYWxHYW1lVGV4dC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHR0aW1lVHJpYWxHYW1lTWVudSgpO1xuXHR9KTtcblxuXHR2YXIgc2NvcmVCb2FyZFRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0c2NvcmVCb2FyZFRleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgbWVudUxheWVyKTtcblxuXHR2YXIgc2NvcmVCb2FyZFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRzY29yZUJvYXJkVGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIG1lbnVMYXllcik7XG5cblx0c2NvcmVCb2FyZFRleHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdHNjb3JlQm9hcmRUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdHNjb3JlQm9hcmRUZXh0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdHNjb3JlQm9hcmRUZXh0TW91c2VPdXQuc3RhcnQoKTtcblx0fSk7XG5cblx0c2NvcmVCb2FyZFRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0c2NvcmVCb2FyZE1lbnUoKTtcblx0fSk7XG5cblx0dmFyIGluZm9ybWF0aW9uVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRpbmZvcm1hdGlvblRleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgbWVudUxheWVyKTtcblxuXHR2YXIgaW5mb3JtYXRpb25UZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0aW5mb3JtYXRpb25UZXh0LmZpbGwoJ2dyZXknKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgbWVudUxheWVyKTtcblxuXHRpbmZvcm1hdGlvblRleHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdGluZm9ybWF0aW9uVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xuXHR9KTtcblxuXHRpbmZvcm1hdGlvblRleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0aW5mb3JtYXRpb25UZXh0TW91c2VPdXQuc3RhcnQoKTtcblx0fSk7XG5cblx0aW5mb3JtYXRpb25UZXh0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdGluZm9ybWF0aW9uTWVudSgpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gY2xhc3NpY0RpZmZpY3VsdHlTZWxlY3RNZW51KCkge1xuXG5cdGlmIChzdGFnZS5oYXNDaGlsZHJlbigpKSB7XG5cdFx0c3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XG5cdH1cblxuXHR2YXIgZWFzeVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyAtIDEwMCxcblx0XHR0ZXh0OiAnRWFzeSAoNXg1KScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0ZWFzeVRleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBlYXN5VGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHR2YXIgbWVkaXVtVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xuXHRcdHg6IHdpZHRoIC8gMixcblx0XHR5OiBoZWlnaHQgLyAzLFxuXHRcdHRleHQ6ICdNZWRpdW0gKDEweDEwKScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0bWVkaXVtVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IG1lZGl1bVRleHQuZ2V0V2lkdGgoKSAvIDJcblx0fSk7XG5cblx0dmFyIGhhcmRUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyLFxuXHRcdHk6IGhlaWdodCAvIDMgKyAxMDAsXG5cdFx0dGV4dDogJ0hhcmQgKDE1eDE1KScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0aGFyZFRleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBoYXJkVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHR2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyArIDIwMCxcblx0XHR0ZXh0OiAnQmFjayB0byB0aGUgbWVudScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0YmFja1RleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHQvLyBMYXllciBzZXR1cFxuXHRkaWZmaWN1bHR5TGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xuXHRkaWZmaWN1bHR5TGF5ZXIubmFtZSA9ICdkaWZmaWN1bHR5U2VsZWN0TWVudSc7XG5cdGRpZmZpY3VsdHlMYXllci5hZGQoZWFzeVRleHQpO1xuXHRkaWZmaWN1bHR5TGF5ZXIuYWRkKG1lZGl1bVRleHQpO1xuXHRkaWZmaWN1bHR5TGF5ZXIuYWRkKGhhcmRUZXh0KTtcblx0ZGlmZmljdWx0eUxheWVyLmFkZChiYWNrVGV4dCk7XG5cdHN0YWdlLmFkZChkaWZmaWN1bHR5TGF5ZXIpO1xuXG5cdC8vIEVhc3kgbWVudVxuXHR2YXIgZWFzeVRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0ZWFzeVRleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgZGlmZmljdWx0eUxheWVyKTtcblxuXHR2YXIgZWFzeVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRlYXN5VGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGRpZmZpY3VsdHlMYXllcik7XG5cblx0ZWFzeVRleHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdGVhc3lUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGVhc3lUZXh0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdGVhc3lUZXh0TW91c2VPdXQuc3RhcnQoKTtcblx0fSk7XG5cblx0ZWFzeVRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0Z2FtZURpZmZpY3VsdHkgPSAnZWFzeSc7XG5cdFx0c3RhcnROZXdDbGFzc2ljR2FtZSgpO1xuXHR9KTtcblxuXHQvLyBNZWRpdW0gbWVudVxuXHR2YXIgbWVkaXVtVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRtZWRpdW1UZXh0LmZpbGwoJ2JsYWNrJyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGRpZmZpY3VsdHlMYXllcik7XG5cblx0dmFyIG1lZGl1bVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRtZWRpdW1UZXh0LmZpbGwoJ2dyZXknKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgZGlmZmljdWx0eUxheWVyKTtcblxuXHRtZWRpdW1UZXh0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcblx0XHRtZWRpdW1UZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdG1lZGl1bVRleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0bWVkaXVtVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XG5cdH0pO1xuXG5cdG1lZGl1bVRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0Z2FtZURpZmZpY3VsdHkgPSAnbWVkaXVtJztcblx0XHRzdGFydE5ld0NsYXNzaWNHYW1lKCk7XG5cdH0pO1xuXG5cdC8vIEhhcmQgbWVudVxuXHR2YXIgaGFyZFRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0aGFyZFRleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgZGlmZmljdWx0eUxheWVyKTtcblxuXHR2YXIgaGFyZFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRoYXJkVGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGRpZmZpY3VsdHlMYXllcik7XG5cblx0aGFyZFRleHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdGhhcmRUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGhhcmRUZXh0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdGhhcmRUZXh0TW91c2VPdXQuc3RhcnQoKTtcblx0fSk7XG5cblx0aGFyZFRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0Z2FtZURpZmZpY3VsdHkgPSAnaGFyZCc7XG5cdFx0c3RhcnROZXdDbGFzc2ljR2FtZSgpO1xuXHR9KTtcblxuXHQvLyBCYWNrIG1lbnVcblx0dmFyIGJhY2tUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdGJhY2tUZXh0LmZpbGwoJ2JsYWNrJyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGRpZmZpY3VsdHlMYXllcik7XG5cblx0dmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHQuZmlsbCgnZ3JleScpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBkaWZmaWN1bHR5TGF5ZXIpO1xuXG5cdGJhY2tUZXh0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xuXHR9KTtcblxuXHRiYWNrVGV4dC5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGJhY2tUZXh0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdG1haW5NZW51KCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiB0aW1lVHJpYWxHYW1lTWVudSgpIHtcblxuXHRpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xuXHRcdHN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xuXHR9XG5cblx0dmFyIHRpbWVUcmlhbFRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyxcblx0XHR0ZXh0OiAnU3RhcnRpbmcgdGltZSB0cmlhbCcsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0dGltZVRyaWFsVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IHRpbWVUcmlhbFRleHQuZ2V0V2lkdGgoKSAvIDJcblx0fSk7XG5cblx0dmFyIGJhY2tUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyLFxuXHRcdHk6IGhlaWdodCAvIDMgKyAyMDAsXG5cdFx0dGV4dDogJ0JhY2sgdG8gdGhlIG1lbnUnLFxuXHRcdGZvbnRTaXplOiAzMixcblx0XHRmb250RmFtaWx5OiAnQ2FsaWJyaScsXG5cdFx0ZmlsbDogJ2dyZXknXG5cdH0pO1xuXG5cdGJhY2tUZXh0LnNldE9mZnNldCh7XG5cdFx0eDogYmFja1RleHQuZ2V0V2lkdGgoKSAvIDJcblx0fSk7XG5cblx0Ly8gTGF5ZXIgc2V0dXBcblx0dGltZVRyaWFsR2FtZUxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcblx0dGltZVRyaWFsR2FtZUxheWVyLm5hbWUgPSAndGltZVRyaWFsR2FtZUxheWVyJztcblx0dGltZVRyaWFsR2FtZUxheWVyLmFkZCh0aW1lVHJpYWxUZXh0KTtcblx0dGltZVRyaWFsR2FtZUxheWVyLmFkZChiYWNrVGV4dCk7XG5cdHN0YWdlLmFkZCh0aW1lVHJpYWxHYW1lTGF5ZXIpO1xuXG5cdC8vIFRpbWUgVHJpYWwgbWVudVxuXHR2YXIgdGltZVRyaWFsVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHR0aW1lVHJpYWxUZXh0LmZpbGwoJ2JsYWNrJyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIHRpbWVUcmlhbEdhbWVMYXllcik7XG5cblx0dmFyIHRpbWVUcmlhbFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHR0aW1lVHJpYWxUZXh0LmZpbGwoJ2dyZXknKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgdGltZVRyaWFsR2FtZUxheWVyKTtcblxuXHR0aW1lVHJpYWxUZXh0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcblx0XHR0aW1lVHJpYWxUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdHRpbWVUcmlhbFRleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0dGltZVRyaWFsVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XG5cdH0pO1xuXG5cdHRpbWVUcmlhbFRleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0c3RhcnROZXdUaW1lVHJpYWxHYW1lKCk7XG5cdH0pO1xuXG5cdC8vIEJhY2sgbWVudVxuXHR2YXIgYmFja1RleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgdGltZVRyaWFsR2FtZUxheWVyKTtcblxuXHR2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIHRpbWVUcmlhbEdhbWVMYXllcik7XG5cblx0YmFja1RleHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuXHRcdGJhY2tUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGJhY2tUZXh0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdGJhY2tUZXh0TW91c2VPdXQuc3RhcnQoKTtcblx0fSk7XG5cblx0YmFja1RleHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0bWFpbk1lbnUoKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNjb3JlQm9hcmRNZW51KCkge1xuXHRpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xuXHRcdHN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xuXHR9XG5cblx0dmFyIGNsYXNzaWNUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyLFxuXHRcdHk6IGhlaWdodCAvIDMgLSAxMDAsXG5cdFx0dGV4dDogJ0NsYXNzaWMgZ2FtZScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0Y2xhc3NpY1RleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBjbGFzc2ljVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHR2YXIgZWFzeVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIgLSAxMjAsXG5cdFx0eTogaGVpZ2h0IC8gMyAtIDQwLFxuXHRcdHRleHQ6ICdFYXN5XFxuJyArIGNvb2tpZS5nZXQoJ2NsYXNzaWNfaGlnaF9zY29yZV9lYXN5JywgJzk5Ojk5JyksXG5cdFx0Zm9udFNpemU6IDE4LFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0ZWFzeVRleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBlYXN5VGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHR2YXIgbWVkaXVtVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xuXHRcdHg6IHdpZHRoIC8gMixcblx0XHR5OiBoZWlnaHQgLyAzIC0gNDAsXG5cdFx0dGV4dDogJ01lZGl1bVxcbicgKyBjb29raWUuZ2V0KCdjbGFzc2ljX2hpZ2hfc2NvcmVfbWVkaXVtJywgJzk5Ojk5JyksXG5cdFx0Zm9udFNpemU6IDE4LFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0bWVkaXVtVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IG1lZGl1bVRleHQuZ2V0V2lkdGgoKSAvIDJcblx0fSk7XG5cblx0dmFyIGhhcmRUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyICsgMTIwLFxuXHRcdHk6IGhlaWdodCAvIDMgLSA0MCxcblx0XHR0ZXh0OiAnSGFyZFxcbicgKyBjb29raWUuZ2V0KCdjbGFzc2ljX2hpZ2hfc2NvcmVfaGFyZCcsICc5OTo5OScpLFxuXHRcdGZvbnRTaXplOiAxOCxcblx0XHRmb250RmFtaWx5OiAnQ2FsaWJyaScsXG5cdFx0ZmlsbDogJ2dyZXknXG5cdH0pO1xuXG5cdGhhcmRUZXh0LnNldE9mZnNldCh7XG5cdFx0eDogaGFyZFRleHQuZ2V0V2lkdGgoKSAvIDJcblx0fSk7XG5cblx0dmFyIHRpbWVUcmlhbFRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyArIDQwLFxuXHRcdHRleHQ6ICdUaW1lIHRyaWFsJyxcblx0XHRmb250U2l6ZTogMzIsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR0aW1lVHJpYWxUZXh0LnNldE9mZnNldCh7XG5cdFx0eDogdGltZVRyaWFsVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHR2YXIgbGV2ZWxUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogd2lkdGggLyAyLFxuXHRcdHk6IGhlaWdodCAvIDMgKyAxMDAsXG5cdFx0dGV4dDogY29va2llLmdldCgndGltZV90cmlhbF9zY29yZScsICcwJykgKyAnLiBsZXZlbCcsXG5cdFx0Zm9udFNpemU6IDE4LFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0bGV2ZWxUZXh0LnNldE9mZnNldCh7XG5cdFx0eDogbGV2ZWxUZXh0LmdldFdpZHRoKCkgLyAyXG5cdH0pO1xuXG5cdHZhciBiYWNrVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xuXHRcdHg6IHdpZHRoIC8gMixcblx0XHR5OiBoZWlnaHQgLyAzICsgMjAwLFxuXHRcdHRleHQ6ICdCYWNrIHRvIHRoZSBtZW51Jyxcblx0XHRmb250U2l6ZTogMzIsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHRiYWNrVGV4dC5zZXRPZmZzZXQoe1xuXHRcdHg6IGJhY2tUZXh0LmdldFdpZHRoKCkgLyAyXG5cdH0pO1xuXG5cdC8vIExheWVyIHNldHVwXG5cdHNjb3JlQm9hcmRNZW51TGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xuXHRzY29yZUJvYXJkTWVudUxheWVyLm5hbWUgPSAnc2NvcmVCb2FyZE1lbnVMYXllcic7XG5cdHNjb3JlQm9hcmRNZW51TGF5ZXIuYWRkKGNsYXNzaWNUZXh0KTtcblx0c2NvcmVCb2FyZE1lbnVMYXllci5hZGQoZWFzeVRleHQpO1xuXHRzY29yZUJvYXJkTWVudUxheWVyLmFkZChtZWRpdW1UZXh0KTtcblx0c2NvcmVCb2FyZE1lbnVMYXllci5hZGQoaGFyZFRleHQpO1xuXHRzY29yZUJvYXJkTWVudUxheWVyLmFkZCh0aW1lVHJpYWxUZXh0KTtcblx0c2NvcmVCb2FyZE1lbnVMYXllci5hZGQobGV2ZWxUZXh0KTtcblx0c2NvcmVCb2FyZE1lbnVMYXllci5hZGQoYmFja1RleHQpO1xuXHRzdGFnZS5hZGQoc2NvcmVCb2FyZE1lbnVMYXllcik7XG5cblx0Ly8gQmFjayBtZW51XG5cdHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dC5maWxsKCdibGFjaycpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBzY29yZUJvYXJkTWVudUxheWVyKTtcblxuXHR2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIHNjb3JlQm9hcmRNZW51TGF5ZXIpO1xuXG5cdGJhY2tUZXh0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xuXHR9KTtcblxuXHRiYWNrVGV4dC5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XG5cdH0pO1xuXG5cdGJhY2tUZXh0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdG1haW5NZW51KCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbmZvcm1hdGlvbk1lbnUoKSB7XG5cblx0aWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcblx0XHRzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcblx0fVxuXG5cdHZhciBpbmZvcm1hdGlvblRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyAtIDEwMCxcblx0XHR0ZXh0OiAnJyxcblx0XHRmb250U2l6ZTogMTgsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHRsZXQgaW5mb1RleHQgPSAnR2FtZSBnb2FsOlxcblR1cm4gYWxsIHRoZSBwaXBlcyBpbnRvIHRoZSBjb3JyZWN0IHBvc2l0aW9uLCBzbyBldmVyeSBwaXBlIGNvbm5lY3RlZCB0byBlYWNoIG90aGVyIVxcbic7XG5cblx0aW5mb1RleHQgKz0gJ0luIGNsYXNzaWMgZ2FtZSB5b3UgY2FuIGNob29zZSBiZXR3ZWVuIHRocmVlIGRpZmZlcmVudCBkaWZmaWN1bHR5LCB3aGlsZSBpbiB0aW1lIHRyaWFsIHRoZSBkaWZmaWN1bHR5IGlzIGluY3JlbWVudGFseSBpbmNyZWFzaW5nLlxcbic7XG5cdGluZm9UZXh0ICs9ICdUaW1lIGlzIGtleSwgc28gZG9uXFwndCBoZXNpdGF0ZSB0b28gbXVjaCFcXG4nO1xuXHRpbmZvVGV4dCArPSAnWW91IGNhbiBjaGVjayB5b3VyIHJhbmsgYXQgdGhlIHNjb3JlYm9hcmQhXFxuXFxuTWFkZSBieTogV2hpdGUgUmFiYml0IChUYW3DoXMgUnVzemthKSAoQykgMjAxNCxcXG5NYWlsOiBydXN6a2EgZG90IHRhbWFzIGF0IGdtYWlsIGRvdCBjb20nO1xuXG5cdGluZm9ybWF0aW9uVGV4dC5zZXRUZXh0KGluZm9UZXh0KTtcblxuXHRpbmZvcm1hdGlvblRleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBpbmZvcm1hdGlvblRleHQuZ2V0V2lkdGgoKSAvIDIgPiAwID8gaW5mb3JtYXRpb25UZXh0LmdldFdpZHRoKCkgLyAyIDogMFxuXHR9KTtcblxuXHR2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiB3aWR0aCAvIDIsXG5cdFx0eTogaGVpZ2h0IC8gMyArIDIwMCxcblx0XHR0ZXh0OiAnQmFjayB0byB0aGUgbWVudScsXG5cdFx0Zm9udFNpemU6IDMyLFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0YmFja1RleHQuc2V0T2Zmc2V0KHtcblx0XHR4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxuXHR9KTtcblxuXHQvLyBMYXllciBzZXR1cFxuXHRpbmZvcm1hdGlvbk1lbnVMYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XG5cdGluZm9ybWF0aW9uTWVudUxheWVyLm5hbWUgPSAnaW5mb3JtYXRpb25NZW51TGF5ZXInO1xuXHRpbmZvcm1hdGlvbk1lbnVMYXllci5hZGQoaW5mb3JtYXRpb25UZXh0KTtcblx0aW5mb3JtYXRpb25NZW51TGF5ZXIuYWRkKGJhY2tUZXh0KTtcblx0c3RhZ2UuYWRkKGluZm9ybWF0aW9uTWVudUxheWVyKTtcblxuXHQvLyBCYWNrIG1lbnVcblx0dmFyIGJhY2tUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdGJhY2tUZXh0LmZpbGwoJ2JsYWNrJyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGluZm9ybWF0aW9uTWVudUxheWVyKTtcblxuXHR2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRiYWNrVGV4dC5maWxsKCdncmV5Jyk7XG5cdFx0dGhpcy5zdG9wKCk7XG5cdH0sIGluZm9ybWF0aW9uTWVudUxheWVyKTtcblxuXHRiYWNrVGV4dC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcblx0fSk7XG5cblx0YmFja1RleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xuXHR9KTtcblxuXHRiYWNrVGV4dC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRtYWluTWVudSgpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gR2FtZVRhYmxlKCkge1xuXHRnYW1lTGF5ZXJzID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsYXllclJvd3M7IGkrKykge1xuXHRcdGdhbWVMYXllcnNbaV0gPSBuZXcgQXJyYXkobGF5ZXJDb2x1bW5zKTtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGxheWVyQ29sdW1uczsgaisrKSB7XG5cdFx0XHRnYW1lTGF5ZXJzW2ldW2pdID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcblx0XHR9XG5cdH1cblxuXHRibG9ja3MgPSBbXTtcblxuXHR0aGlzLmdlbmVyYXRlRmllbGRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGdyZWF0ZXIgPSAwO1xuXHRcdHZhciBzbWFsbGVyID0gMDtcblxuXHRcdHZhciBnZW5lcmF0ZUl0ID0gdHJ1ZTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHRibG9ja3NbaV0gPSBuZXcgQXJyYXkoY29sdW1ucyk7XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuXHRcdFx0XHRibG9ja3NbaV1bal0gPSBuZXcgQmxvY2soaSwgaiwgaSAqIGNvbHVtbnMgKyBqLCBzcGFjZSwgYmxvY2tTaXplKTtcblx0XHRcdFx0Ly8gYmxvY2tzW2ldW2pdLmluaXQob25DbGlja0Jsb2NrLCBib3hBbmltYXRpb24pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHdoaWxlIChnZW5lcmF0ZUl0KSB7XG5cdFx0XHRsZXQgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJvd3MpLFxuXHRcdFx0XHR5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sdW1ucyksXG5cdFx0XHRcdGN1cnJlbnRCbG9jayA9IGJsb2Nrc1t4XVt5XTtcblxuXHRcdFx0Z2VuZXJhdGVJdCA9IGZhbHNlO1xuXG5cdFx0XHRpZiAoY3VycmVudEJsb2NrLmtleSAhPT0gMCkge1xuXHRcdFx0XHR2YXIgZGlyZWN0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCArIDApO1xuXG5cdFx0XHRcdHN3aXRjaCAoZGlyZWN0aW9uKSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0aWYgKHggIT09IDApIHtcblx0XHRcdFx0XHRcdFx0bGV0IGxlZnRCbG9jayA9IGJsb2Nrc1t4IC0gMV1beV07XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGVmdFxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIGxlZnRCbG9jayAhPSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50QmxvY2sua2V5ICE9PSBsZWZ0QmxvY2sua2V5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50QmxvY2subGVmdCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRsZWZ0QmxvY2sucmlnaHQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0Z3JlYXRlciA9IGN1cnJlbnRCbG9jay5rZXkgPiBsZWZ0QmxvY2sua2V5ID8gY3VycmVudEJsb2NrLmtleSA6IGxlZnRCbG9jay5rZXk7XG5cdFx0XHRcdFx0XHRcdFx0XHRzbWFsbGVyID0gY3VycmVudEJsb2NrLmtleSA8IGxlZnRCbG9jay5rZXkgPyBjdXJyZW50QmxvY2sua2V5IDogbGVmdEJsb2NrLmtleTtcblx0XHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRCbG9jay5rZXkgPT09IGdyZWF0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRCbG9jay5rZXkgPSBzbWFsbGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0aWYgKHkgIT09IDApIHtcblx0XHRcdFx0XHRcdFx0bGV0IHVwQmxvY2sgPSBibG9ja3NbeF1beSAtIDFdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFVwXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgdXBCbG9jayAhPSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50QmxvY2sua2V5ICE9PSB1cEJsb2NrLmtleSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudEJsb2NrLnVwID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdHVwQmxvY2suZG93biA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRncmVhdGVyID0gY3VycmVudEJsb2NrLmtleSA+IHVwQmxvY2sua2V5ID8gY3VycmVudEJsb2NrLmtleSA6IHVwQmxvY2sua2V5O1xuXHRcdFx0XHRcdFx0XHRcdFx0c21hbGxlciA9IGN1cnJlbnRCbG9jay5rZXkgPCB1cEJsb2NrLmtleSA/IGN1cnJlbnRCbG9jay5rZXkgOiB1cEJsb2NrLmtleTtcblx0XHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGJsb2Nrc1tpXVtqXS5rZXkgPT09IGdyZWF0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJsb2Nrc1tpXVtqXS5rZXkgPSBzbWFsbGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0aWYgKHggIT09IGNvbHVtbnMgLSAxKSB7XG5cdFx0XHRcdFx0XHRcdGxldCByaWdodEJsb2NrID0gYmxvY2tzW3ggKyAxXVt5XTtcblxuXHRcdFx0XHRcdFx0XHQvLyBSaWdodFxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIHJpZ2h0QmxvY2sgIT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoY3VycmVudEJsb2NrLmtleSAhPT0gcmlnaHRCbG9jay5rZXkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRCbG9jay5yaWdodCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRyaWdodEJsb2NrLmxlZnQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0Z3JlYXRlciA9IGN1cnJlbnRCbG9jay5rZXkgPiByaWdodEJsb2NrLmtleSA/IGN1cnJlbnRCbG9jay5rZXkgOiByaWdodEJsb2NrLmtleTtcblx0XHRcdFx0XHRcdFx0XHRcdHNtYWxsZXIgPSBjdXJyZW50QmxvY2sua2V5IDwgcmlnaHRCbG9jay5rZXkgPyBjdXJyZW50QmxvY2sua2V5IDogcmlnaHRCbG9jay5rZXk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChibG9ja3NbaV1bal0ua2V5ID09PSBncmVhdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRibG9ja3NbaV1bal0ua2V5ID0gc21hbGxlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdGlmICh5ICE9PSByb3dzIC0gMSkge1xuXHRcdFx0XHRcdFx0XHRsZXQgZG93bkJsb2NrID0gYmxvY2tzW3hdW3kgKyAxXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBEb3duXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgZG93bkJsb2NrICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRCbG9jay5rZXkgIT09IGRvd25CbG9jay5rZXkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRCbG9jay5kb3duID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdGRvd25CbG9jay51cCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRncmVhdGVyID0gY3VycmVudEJsb2NrLmtleSA+IGRvd25CbG9jay5rZXkgPyBjdXJyZW50QmxvY2sua2V5IDogZG93bkJsb2NrLmtleTtcblx0XHRcdFx0XHRcdFx0XHRcdHNtYWxsZXIgPSBjdXJyZW50QmxvY2sua2V5IDwgZG93bkJsb2NrLmtleSA/IGN1cnJlbnRCbG9jay5rZXkgOiBkb3duQmxvY2sua2V5O1xuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoYmxvY2tzW2ldW2pdLmtleSA9PT0gZ3JlYXRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmxvY2tzW2ldW2pdLmtleSA9IHNtYWxsZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKGJsb2Nrc1tpXVtqXS5rZXkgPiAwKSB7XG5cdFx0XHRcdFx0XHRnZW5lcmF0ZUl0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gYmxvY2tzW3N0YXJ0aW5nUG9pbnRYXVtzdGFydGluZ1BvaW50WV0uY29ubmVjdGVkID0gdHJ1ZTtcblx0XHQvLyBibG9ja3Nbc3RhcnRpbmdQb2ludFhdW3N0YXJ0aW5nUG9pbnRZXS5jb25uZWN0aW9uSGFuZGxlcih0cnVlKTtcblx0fTtcblxuXHR0aGlzLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0YmxvY2tzW2ldW2pdLnNodWZmbGVJdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHR0aGlzLmRyYXdHYW1lID0gZnVuY3Rpb24oKSB7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0YmxvY2tzW2ldW2pdLmluaXQob25DbGlja0Jsb2NrLCBib3hBbmltYXRpb24sIHdpZHRoLCByb3dzKTtcblxuXHRcdFx0XHRnYW1lTGF5ZXJzW01hdGguZmxvb3IoaSAvIGxheWVyU2l6ZSldW01hdGguZmxvb3IoaiAvIGxheWVyU2l6ZSldLmFkZChibG9ja3NbaV1bal0uYm94KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRibG9ja3Nbc3RhcnRpbmdQb2ludFhdW3N0YXJ0aW5nUG9pbnRZXS5jb25uZWN0ZWQgPSB0cnVlO1xuXHRcdGJsb2Nrc1tzdGFydGluZ1BvaW50WF1bc3RhcnRpbmdQb2ludFldLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xuXG5cdFx0dGhpcy5jaGVja1BpcGVDb25uZWN0aW9ucygpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJSb3dzOyBpKyspIHtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbGF5ZXJDb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0c3RhZ2UuYWRkKGdhbWVMYXllcnNbaV1bal0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHR0aGlzLmNoZWNrUGlwZUNvbm5lY3Rpb25zID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBqID0gMDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0YmxvY2tzW2ldW2pdLmNvbm5lY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRibG9ja3NbaV1bal0uY29ubmVjdGlvbkhhbmRsZXIoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRibG9ja3Nbc3RhcnRpbmdQb2ludFhdW3N0YXJ0aW5nUG9pbnRZXS5jb25uZWN0ZWQgPSB0cnVlO1xuXHRcdGJsb2Nrc1tzdGFydGluZ1BvaW50WF1bc3RhcnRpbmdQb2ludFldLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xuXG5cdFx0Ly8gSXRlcmF0ZSB0aHJvdWdodCB0aGUgbWF0cml4XG5cdFx0Zm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuXHRcdFx0XHQvLyBJZiBjdXJyZW50IGVsZW1lbnQgaXMgY29ubmVjdGluZ1xuXHRcdFx0XHRpZiAoYmxvY2tzW2ldW2pdLmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdHZhciB1cGRhdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gTGVmdFxuXG5cdFx0XHRcdFx0aWYgKGkgIT09IDAgJiYgIXVwZGF0ZWQpIHtcblx0XHRcdFx0XHRcdGlmIChibG9ja3NbaV1bal0ubGVmdCAmJiBibG9ja3NbaSAtIDFdW2pdLnJpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICghYmxvY2tzW2kgLSAxXVtqXS5jb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRibG9ja3NbaSAtIDFdW2pdLmNvbm5lY3RlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0YmxvY2tzW2kgLSAxXVtqXS5jb25uZWN0aW9uSGFuZGxlcih0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRcdFx0XHRqID0gLTE7XG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gUmlnaHRcblx0XHRcdFx0XHRpZiAoaSAhPT0gcm93cyAtIDEgJiYgIXVwZGF0ZWQpIHtcblx0XHRcdFx0XHRcdGlmIChibG9ja3NbaV1bal0ucmlnaHQgJiYgYmxvY2tzW2kgKyAxXVtqXS5sZWZ0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICghYmxvY2tzW2kgKyAxXVtqXS5jb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRibG9ja3NbaSArIDFdW2pdLmNvbm5lY3RlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0YmxvY2tzW2kgKyAxXVtqXS5jb25uZWN0aW9uSGFuZGxlcih0cnVlKTtcblx0XHRcdFx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRcdFx0XHRqID0gLTE7XG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gVXBcblx0XHRcdFx0XHRpZiAoaiAhPT0gMCAmJiAhdXBkYXRlZCkge1xuXHRcdFx0XHRcdFx0aWYgKGJsb2Nrc1tpXVtqXS51cCAmJiBibG9ja3NbaV1baiAtIDFdLmRvd24pIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFibG9ja3NbaV1baiAtIDFdLmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGJsb2Nrc1tpXVtqIC0gMV0uY29ubmVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRibG9ja3NbaV1baiAtIDFdLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdGogPSAtMTtcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBEb3duXG5cdFx0XHRcdFx0aWYgKGogIT09IGNvbHVtbnMgLSAxICYmICF1cGRhdGVkKSB7XG5cdFx0XHRcdFx0XHRpZiAoYmxvY2tzW2ldW2pdLmRvd24gJiYgYmxvY2tzW2ldW2ogKyAxXS51cCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIWJsb2Nrc1tpXVtqICsgMV0uY29ubmVjdGVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0YmxvY2tzW2ldW2ogKyAxXS5jb25uZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdGJsb2Nrc1tpXVtqICsgMV0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0aiA9IC0xO1xuXHRcdFx0XHRcdFx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBJbmZvcm1hdGlvblBhbmVsKCkge1xuXG5cdHZhciB4ID0gd2lkdGggLyAyICsgcm93cyAqIGJsb2NrU2l6ZSAvIDIgKyByb3dzICogKHNwYWNlICogMik7XG5cdHZhciB5ID0gMDtcblx0dmFyIHBhbmVsV2lkdGggPSB3aWR0aCAtICh4ICsgcm93cyAqIHNwYWNlICogMik7XG5cdHZhciBwYW5lbEhlaWdodCA9IGhlaWdodDtcblxuXHR2YXIgaW5mb3JtYXRpb25MYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XG5cblx0dmFyIHBhbmVsID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHR3aWR0aDogcGFuZWxXaWR0aCxcblx0XHRoZWlnaHQ6IHBhbmVsSGVpZ2h0XG5cdH0pO1xuXG5cdHZhciB0aW1lckdyb3VwID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xuXHRcdHg6IDAsXG5cdFx0eTogMCxcblx0XHR3aWR0aDogeCAtIHdpZHRoLFxuXHRcdGhlaWdodDogaGVpZ2h0XG5cdH0pO1xuXG5cdHZhciBzY29yZSA9IG5ldyBLaW5ldGljLkdyb3VwKHtcblx0XHR4OiAwLFxuXHRcdHk6IDAsXG5cdFx0d2lkdGg6IHggLSB3aWR0aCxcblx0XHRoZWlnaHQ6IGhlaWdodFxuXHR9KTtcblxuXHR2YXIgbGV2ZWxHcm91cCA9IG5ldyBLaW5ldGljLkdyb3VwKHtcblx0XHR4OiAwLFxuXHRcdHk6IDAsXG5cdFx0d2lkdGg6IHggLSB3aWR0aCxcblx0XHRoZWlnaHQ6IGhlaWdodFxuXHR9KTtcblxuXHR2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiAyMDAsXG5cdFx0eTogMjAwLFxuXHRcdHRleHQ6ICdCYWNrJyxcblx0XHRmb250U2l6ZTogNDgsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR2YXIgdGltZXJUaXRsZVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiAzMCxcblx0XHR5OiA1MCxcblx0XHR0ZXh0OiAnVGltZTonLFxuXHRcdGZvbnRTaXplOiAzMixcblx0XHRmb250RmFtaWx5OiAnQ2FsaWJyaScsXG5cdFx0ZmlsbDogJ2dyZXknXG5cdH0pO1xuXG5cdHZhciB0aW1lclRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiAzMCxcblx0XHR5OiAxMDAsXG5cdFx0dGV4dDogJzAwOjAwJyxcblx0XHRmb250U2l6ZTogNDgsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR2YXIgc2NvcmVUaXRsZVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiAyMDAsXG5cdFx0eTogNTAsXG5cdFx0dGV4dDogJ1ByZXZpb3VzIHJlY29yZDonLFxuXHRcdGZvbnRTaXplOiAzMixcblx0XHRmb250RmFtaWx5OiAnQ2FsaWJyaScsXG5cdFx0ZmlsbDogJ2dyZXknXG5cdH0pO1xuXG5cdHZhciBzY29yZVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcblx0XHR4OiAyMDAsXG5cdFx0eTogMTAwLFxuXHRcdHRleHQ6ICcwMDowMCcsXG5cdFx0Zm9udFNpemU6IDQ4LFxuXHRcdGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcblx0XHRmaWxsOiAnZ3JleSdcblx0fSk7XG5cblx0dmFyIGxldmVsVGl0bGVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogMzAsXG5cdFx0eTogMjAwLFxuXHRcdHRleHQ6ICdBY3R1YWwgbGV2ZWw6Jyxcblx0XHRmb250U2l6ZTogMzIsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR2YXIgbGV2ZWxUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XG5cdFx0eDogMzAsXG5cdFx0eTogMjUwLFxuXHRcdHRleHQ6ICcxJyxcblx0XHRmb250U2l6ZTogNjQsXG5cdFx0Zm9udEZhbWlseTogJ0NhbGlicmknLFxuXHRcdGZpbGw6ICdncmV5J1xuXHR9KTtcblxuXHR0aGlzLmluaXRQYW5lbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHRpbWVyR3JvdXAuYWRkKHRpbWVyVGl0bGVUZXh0KTtcblx0XHR0aW1lckdyb3VwLmFkZCh0aW1lclRleHQpO1xuXHRcdHNjb3JlLmFkZChzY29yZVRpdGxlVGV4dCk7XG5cdFx0c2NvcmUuYWRkKHNjb3JlVGV4dCk7XG5cdFx0c2NvcmUuYWRkKGJhY2tUZXh0KTtcblx0XHRsZXZlbEdyb3VwLmFkZChsZXZlbFRpdGxlVGV4dCk7XG5cdFx0bGV2ZWxHcm91cC5hZGQobGV2ZWxUZXh0KTtcblx0XHRwYW5lbC5hZGQodGltZXJHcm91cCk7XG5cdFx0cGFuZWwuYWRkKHNjb3JlKTtcblx0XHRwYW5lbC5hZGQobGV2ZWxHcm91cCk7XG5cdFx0aW5mb3JtYXRpb25MYXllci5hZGQocGFuZWwpO1xuXHRcdHN0YWdlLmFkZChpbmZvcm1hdGlvbkxheWVyKTtcblx0fTtcblxuXHR0aGlzLnNob3dUaW1lciA9IGZ1bmN0aW9uKCkge1xuXHRcdHRpbWVyR3JvdXAuc2hvdygpO1xuXHRcdGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xuXHR9O1xuXG5cdHRoaXMuaGlkZVRpbWVyID0gZnVuY3Rpb24oKSB7XG5cdFx0dGltZXJHcm91cC5oaWRlKCk7XG5cdFx0aW5mb3JtYXRpb25MYXllci5kcmF3KCk7XG5cdH07XG5cblx0dGhpcy5zaG93U2NvcmUgPSBmdW5jdGlvbigpIHtcblx0XHRzY29yZS5zaG93KCk7XG5cdFx0aW5mb3JtYXRpb25MYXllci5kcmF3KCk7XG5cdH07XG5cblx0dGhpcy5zY29yZVRpbWVyID0gZnVuY3Rpb24oKSB7XG5cdFx0c2NvcmUuaGlkZSgpO1xuXHRcdGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xuXHR9O1xuXG5cdHRoaXMuc2hvd0xldmVsID0gZnVuY3Rpb24oKSB7XG5cdFx0bGV2ZWxHcm91cC5zaG93KCk7XG5cdFx0aW5mb3JtYXRpb25MYXllci5kcmF3KCk7XG5cdH07XG5cblx0dGhpcy5oaWRlTGV2ZWwgPSBmdW5jdGlvbigpIHtcblx0XHRsZXZlbEdyb3VwLmhpZGUoKTtcblx0XHRpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcblx0fTtcblxuXHR0aGlzLnVwZGF0ZVRpbWVyID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHR0aW1lclRleHQuc2V0VGV4dCh2YWx1ZSk7XG5cdFx0aW5mb3JtYXRpb25MYXllci5kcmF3KCk7XG5cdH07XG5cblx0dGhpcy51cGRhdGVTY29yZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0c2NvcmVUZXh0LnNldFRleHQodmFsdWUpO1xuXHRcdGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xuXHR9O1xuXG5cdHRoaXMudXBkYXRlTGV2ZWwgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGxldmVsVGV4dC5zZXRUZXh0KHZhbHVlKTtcblx0XHRpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcblx0fTtcblxuXHR2YXIgYmFja1RleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHQuZmlsbCgnYmxhY2snKTtcblx0XHR0aGlzLnN0b3AoKTtcblx0fSwgaW5mb3JtYXRpb25MYXllcik7XG5cblx0dmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHQuZmlsbCgnZ3JleScpO1xuXHRcdHRoaXMuc3RvcCgpO1xuXHR9LCBpbmZvcm1hdGlvbkxheWVyKTtcblxuXHRiYWNrVGV4dC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcblx0fSk7XG5cblx0YmFja1RleHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0YmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xuXHR9KTtcblxuXHRiYWNrVGV4dC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRtYWluTWVudSgpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gY2xhc3NpY0dhbWVGaW5pc2hlZCgpIHtcblx0dGltZXIuc3RvcCgpO1xuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbmV3UmVjb3JkID0gZmFsc2U7XG5cblx0XHRpZiAoY29va2llLmdldCgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSkgPT09IG51bGwpIHtcblx0XHRcdG5ld1JlY29yZCA9IHRydWU7XG5cdFx0fSBlbHNlIGlmIChjb29raWUuZ2V0KCdjbGFzc2ljX2hpZ2hfc2NvcmVfJyArIGdhbWVEaWZmaWN1bHR5KSA+IHRpbWVyLmdldE1pbigpICsgJyA6ICcgKyB0aW1lci5nZXRTZWMoKSkge1xuXHRcdFx0bmV3UmVjb3JkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcblx0XHRhbGVydCgnQ29uZ3JhdHVsYXRpb24sIHlvdSBzb2x2ZWQgdGhlIGxldmVsISBcXG5Zb3VyIHRpbWU6ICcgKyB0aW1lci5nZXRNaW4oKSArICcgOiAnICsgdGltZXIuZ2V0U2VjKCkgKyAobmV3UmVjb3JkID8gJ1xcbk5ldyByZWNvcmQhJyA6ICcnKSk7XG5cdFx0aWYgKG5ld1JlY29yZCkge1xuXHRcdFx0Y29va2llLnNldCgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSwgdGltZXIuZ2V0TWluKCkgKyAnIDogJyArIHRpbWVyLmdldFNlYygpKTtcblx0XHR9XG5cblx0XHRtYWluTWVudSgpO1xuXG5cdH0sIDMwMCk7XG59XG5cbmZ1bmN0aW9uIHRpbWVUcmlhbEdhbWVGaW5pc2hlZCgpIHtcblx0dGltZXIuc3RvcCgpO1xuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0c3RhcnROZXdUaW1lVHJpYWxHYW1lKCk7XG5cdH0sIDMwMCk7XG59XG5cbmZ1bmN0aW9uIHRpbWVUcmlhbEdhbWVUaW1lVXAoKSB7XG5cdHRpbWVyLnN0b3AoKTtcblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdSZWNvcmQgPSBmYWxzZTtcblxuXHRcdGlmIChjb29raWUuZ2V0KCd0aW1lX3RyaWFsX3Njb3JlJykgPT09IG51bGwpIHtcblx0XHRcdG5ld1JlY29yZCA9IHRydWU7XG5cdFx0fSBlbHNlIGlmIChjb29raWUuZ2V0KCd0aW1lX3RyaWFsX3Njb3JlJykgPCBsZXZlbCkge1xuXHRcdFx0bmV3UmVjb3JkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcblx0XHRhbGVydCgnQ29uZ3JhdHVsYXRpb24hIFxcbllvdXIgbGV2ZWw6ICcgKyBsZXZlbCArIChuZXdSZWNvcmQgPyAnXFxuTmV3IHJlY29yZCEnIDogJycpKTtcblxuXHRcdGlmIChuZXdSZWNvcmQpIHtcblx0XHRcdGNvb2tpZS5zZXQoJ3RpbWVfdHJpYWxfc2NvcmUnLCBsZXZlbCk7XG5cdFx0fVxuXG5cdFx0bWFpbk1lbnUoKTtcblxuXHR9LCAzMDApO1xufVxuXG5mdW5jdGlvbiBjaGVja0dhbWVTdGF0dXMoKSB7XG5cdHZhciBmaW5pc2hlZCA9IHRydWU7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuXHRcdFx0aWYgKCFibG9ja3NbaV1bal0uY29ubmVjdGVkKSB7XG5cdFx0XHRcdGZpbmlzaGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGZpbmlzaGVkKSB7XG5cdFx0aWYgKGdhbWVUeXBlID09PSAnY2xhc3NpYycpIHtcblx0XHRcdGNsYXNzaWNHYW1lRmluaXNoZWQoKTtcblx0XHR9IGVsc2UgaWYgKGdhbWVUeXBlID09PSAndGltZS10cmlhbCcpIHtcblx0XHRcdHRpbWVUcmlhbEdhbWVGaW5pc2hlZCgpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyUm93czsgaSsrKSB7XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGxheWVyQ29sdW1uczsgaisrKSB7XG5cdFx0XHRcdGdhbWVMYXllcnNbaV1bal0uZHJhdygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBvbkNsaWNrQmxvY2soaW5zdGFuY2UpIHtcblx0aWYgKCFpbnN0YW5jZS5tb3VzZUNsaWNrLmlzUnVubmluZygpICYmICFpbnN0YW5jZS5hbmltYXRpb25Jc1J1bm5pbmcpIHtcblx0XHRpbnN0YW5jZS5yb3RhdGVSaWdodCgpO1xuXHRcdGluc3RhbmNlLm1vdXNlQ2xpY2suc3RhcnQoKTtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0dGFibGUuY2hlY2tQaXBlQ29ubmVjdGlvbnMoKTtcblx0XHRcdGNoZWNrR2FtZVN0YXR1cygpO1xuXHRcdH0sIDEwMCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYm94QW5pbWF0aW9uKGluc3RhbmNlKSB7XG5cdHJldHVybiBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oKSB7XG5cdFx0aW5zdGFuY2UuYW5pbWF0aW9uSXNSdW5uaW5nID0gdHJ1ZTtcblx0XHRpbnN0YW5jZS5ib3gucm90YXRlKDUpO1xuXHRcdGlmIChpbnN0YW5jZS5ib3gucm90YXRpb24oKSA+PSBpbnN0YW5jZS5yb3RhdGlvbiArIDkwKSB7XG5cdFx0XHRpbnN0YW5jZS5ib3gucm90YXRpb24oaW5zdGFuY2Uucm90YXRpb24gKyA5MCk7XG5cdFx0XHRpbnN0YW5jZS5yb3RhdGlvbiA9IGluc3RhbmNlLmJveC5yb3RhdGlvbigpO1xuXG5cdFx0XHR2YXIgZmluaXNoZWQgPSB0cnVlO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xuXHRcdFx0XHRcdGlmICghYmxvY2tzW2ldW2pdLmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdFx0ZmluaXNoZWQgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuc3RvcCgpO1xuXHRcdFx0aW5zdGFuY2UuYW5pbWF0aW9uSXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoZmluaXNoZWQpIHtcblx0XHRcdFx0aWYgKGdhbWVUeXBlID09PSAnY2xhc3NpYycpIHtcblx0XHRcdFx0XHRjbGFzc2ljR2FtZUZpbmlzaGVkKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZ2FtZVR5cGUgPT09ICd0aW1lLXRyaWFsJykge1xuXHRcdFx0XHRcdHRpbWVUcmlhbEdhbWVGaW5pc2hlZCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyUm93czsgaSsrKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBsYXllckNvbHVtbnM7IGorKykge1xuXHRcdFx0XHRcdFx0Z2FtZUxheWVyc1tpXVtqXS5kcmF3KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCBnYW1lTGF5ZXJzW01hdGguZmxvb3IoaW5zdGFuY2Uucm93IC8gbGF5ZXJTaXplKV1bTWF0aC5mbG9vcihpbnN0YW5jZS5jb2x1bW4gLyBsYXllclNpemUpXSk7XG59XG5cbi8qXG5mdW5jdGlvbiBPbGRCbG9jayhyb3csIGNvbHVtbiwgZ2VuZXJhdGVLZXkpIHtcblxuXHQvLyBNYWluIGF0dHJpYnV0ZXNcblx0dmFyIHggPSByb3cgKiAoc3BhY2UgKiAyICsgYmxvY2tTaXplKSArIHNwYWNlO1xuXHR2YXIgeSA9IGNvbHVtbiAqIChzcGFjZSAqIDIgKyBibG9ja1NpemUpICsgc3BhY2U7XG5cdHZhciB1cCA9IGZhbHNlO1xuXHR2YXIgbGVmdCA9IGZhbHNlO1xuXHR2YXIgZG93biA9IGZhbHNlO1xuXHR2YXIgcmlnaHQgPSBmYWxzZTtcblx0dmFyIGtleSA9IGdlbmVyYXRlS2V5O1xuXG5cdHZhciBjb25uZWN0ZWQgPSBmYWxzZTtcblx0dmFyIHJvdGF0aW9uID0gMDtcblxuXHQvLyBTaGFwZXNcblxuXHR2YXIgYm94ID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xuXHRcdHg6IHggKyBibG9ja1NpemUgLyAyICsgKHdpZHRoIC0gYmxvY2tTaXplICogcm93cykgLyAyIC0gYmxvY2tTaXplIC8gMixcblx0XHR5OiB5ICsgYmxvY2tTaXplIC8gMixcblx0XHR3aWR0aDogYmxvY2tTaXplLFxuXHRcdGhlaWdodDogYmxvY2tTaXplLFxuXHRcdG9mZnNldDoge1xuXHRcdFx0eDogYmxvY2tTaXplIC8gMixcblx0XHRcdHk6IGJsb2NrU2l6ZSAvIDJcblx0XHR9XG5cdH0pO1xuXG5cdHZhciBwaXBlcyA9IG5ldyBLaW5ldGljLkdyb3VwKHtcblx0XHR4OiAwLFxuXHRcdHk6IDBcblx0fSk7XG5cblx0dmFyIHNoYXBlID0gbmV3IEtpbmV0aWMuUmVjdCh7XG5cdFx0eDogMCxcblx0XHR5OiAwLFxuXHRcdHdpZHRoOiBibG9ja1NpemUsXG5cdFx0aGVpZ2h0OiBibG9ja1NpemUsXG5cdFx0bmFtZTogeCArICctJyArIHksXG5cdFx0ZmlsbDogJ2dyZXknLFxuXHRcdHN0cm9rZTogJ2JsYWNrJyxcblx0XHRzdHJva2VXaWR0aDogc3BhY2Vcblx0fSk7XG5cblx0Ly8gZ2V0dGVycyBhbmQgc2V0dGVyc1xuXHR0aGlzLmdldENvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBjb25uZWN0ZWQ7XG5cdH07XG5cblx0dGhpcy5zZXRDb25uZWN0ZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGNvbm5lY3RlZCA9IHZhbHVlO1xuXHR9O1xuXG5cdHRoaXMuZ2V0S2V5ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGtleTtcblx0fTtcblxuXHR0aGlzLnNldEtleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0a2V5ID0gdmFsdWU7XG5cdH07XG5cblx0dGhpcy5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiByb3RhdGlvbjtcblx0fTtcblxuXHR0aGlzLnNldExlZnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGxlZnQgPSB2YWx1ZTtcblx0fTtcblxuXHR0aGlzLmdldExlZnQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gbGVmdDtcblx0fTtcblxuXHR0aGlzLnNldERvd24gPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGRvd24gPSB2YWx1ZTtcblx0fTtcblxuXHR0aGlzLmdldERvd24gPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG93bjtcblx0fTtcblxuXHR0aGlzLnNldFJpZ2h0ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRyaWdodCA9IHZhbHVlO1xuXHR9O1xuXG5cdHRoaXMuZ2V0UmlnaHQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gcmlnaHQ7XG5cdH07XG5cblx0dGhpcy5zZXRVcCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0dXAgPSB2YWx1ZTtcblx0fTtcblxuXHR0aGlzLmdldFVwID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHVwO1xuXHR9O1xuXG5cdHRoaXMuZ2V0Qm94ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGJveDtcblx0fTtcblxuXHQvLyBNZXRob2RzXG5cdHRoaXMuY29ubmVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbihjb25uZWN0KSB7XG5cdFx0aWYgKGNvbm5lY3QpIHtcblx0XHRcdHBpcGVzLmZpbmQoJy5waXBlVXAnKS5zdHJva2UoJ2dyZWVuJyk7XG5cdFx0XHRwaXBlcy5maW5kKCcucGlwZUxlZnQnKS5zdHJva2UoJ2dyZWVuJyk7XG5cdFx0XHRwaXBlcy5maW5kKCcucGlwZURvd24nKS5zdHJva2UoJ2dyZWVuJyk7XG5cdFx0XHRwaXBlcy5maW5kKCcucGlwZVJpZ2h0Jykuc3Ryb2tlKCdncmVlbicpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwaXBlcy5maW5kKCcucGlwZVVwJykuc3Ryb2tlKCdyZWQnKTtcblx0XHRcdHBpcGVzLmZpbmQoJy5waXBlTGVmdCcpLnN0cm9rZSgncmVkJyk7XG5cdFx0XHRwaXBlcy5maW5kKCcucGlwZURvd24nKS5zdHJva2UoJ3JlZCcpO1xuXHRcdFx0cGlwZXMuZmluZCgnLnBpcGVSaWdodCcpLnN0cm9rZSgncmVkJyk7XG5cdFx0fVxuXHR9O1xuXG5cdHRoaXMuc2h1ZmZsZUl0ID0gZnVuY3Rpb24oKSB7XG5cdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzICsgMCk7IGsrKykge1xuXHRcdFx0aWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcblx0XHRcdFx0cm90YXRlUmlnaHQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJvdGF0ZUxlZnQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gcm90YXRlUmlnaHQoKSB7XG5cdFx0dmFyIHRlbXAgPSB1cDtcblxuXHRcdHVwID0gbGVmdDtcblx0XHRsZWZ0ID0gZG93bjtcblx0XHRkb3duID0gcmlnaHQ7XG5cdFx0cmlnaHQgPSB0ZW1wO1xuXHR9XG5cblx0ZnVuY3Rpb24gcm90YXRlTGVmdCgpIHtcblx0XHR2YXIgdGVtcCA9IHVwO1xuXG5cdFx0dXAgPSByaWdodDtcblx0XHRyaWdodCA9IGRvd247XG5cdFx0ZG93biA9IGxlZnQ7XG5cdFx0bGVmdCA9IHRlbXA7XG5cdH1cblxuXHR2YXIgbW91c2VDbGljayA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbigpIHtcblx0XHRhbmltYXRpb25Jc1J1bm5pbmcgPSB0cnVlO1xuXHRcdGJveC5yb3RhdGUoNSk7XG5cdFx0aWYgKGJveC5yb3RhdGlvbigpID49IHJvdGF0aW9uICsgOTApIHtcblx0XHRcdGJveC5yb3RhdGlvbihyb3RhdGlvbiArIDkwKTtcblx0XHRcdHJvdGF0aW9uID0gYm94LnJvdGF0aW9uKCk7XG5cblx0XHRcdHZhciBmaW5pc2hlZCA9IHRydWU7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKCFibG9ja3NbaV1bal0uZ2V0Q29ubmVjdGVkKCkpIHtcblx0XHRcdFx0XHRcdGZpbmlzaGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnN0b3AoKTtcblx0XHRcdGFuaW1hdGlvbklzUnVubmluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKGZpbmlzaGVkKSB7XG5cdFx0XHRcdGlmIChnYW1lVHlwZSA9PT0gJ2NsYXNzaWMnKSB7XG5cdFx0XHRcdFx0Y2xhc3NpY0dhbWVGaW5pc2hlZCgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGdhbWVUeXBlID09PSAndGltZS10cmlhbCcpIHtcblx0XHRcdFx0XHR0aW1lVHJpYWxHYW1lRmluaXNoZWQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsYXllclJvd3M7IGkrKykge1xuXHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbGF5ZXJDb2x1bW5zOyBqKyspIHtcblx0XHRcdFx0XHRcdGdhbWVMYXllcnNbaV1bal0uZHJhdygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSwgZ2FtZUxheWVyc1tNYXRoLmZsb29yKHJvdyAvIGxheWVyU2l6ZSldW01hdGguZmxvb3IoY29sdW1uIC8gbGF5ZXJTaXplKV0pO1xuXG5cdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gUGlwZSBncmFwaGljIGRlZmluaXRpb25cblx0XHR2YXIgcGlwZVVwID0gbmV3IEtpbmV0aWMuTGluZSh7XG5cdFx0XHRwb2ludHM6IFsgYmxvY2tTaXplIC8gMiwgMCwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiBdLFxuXHRcdFx0c3Ryb2tlOiAncmVkJyxcblx0XHRcdHN0cm9rZVdpZHRoOiAxMyxcblx0XHRcdGxpbmVDYXA6ICdyb3VuZCcsXG5cdFx0XHRuYW1lOiAncGlwZVVwJ1xuXHRcdH0pO1xuXG5cdFx0dmFyIHBpcGVMZWZ0ID0gbmV3IEtpbmV0aWMuTGluZSh7XG5cdFx0XHRwb2ludHM6IFsgMCwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiBdLFxuXHRcdFx0c3Ryb2tlOiAncmVkJyxcblx0XHRcdHN0cm9rZVdpZHRoOiAxMyxcblx0XHRcdGxpbmVDYXA6ICdyb3VuZCcsXG5cdFx0XHRuYW1lOiAncGlwZUxlZnQnXG5cdFx0fSk7XG5cblx0XHR2YXIgcGlwZURvd24gPSBuZXcgS2luZXRpYy5MaW5lKHtcblx0XHRcdHBvaW50czogWyBibG9ja1NpemUgLyAyLCBibG9ja1NpemUsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDIgXSxcblx0XHRcdHN0cm9rZTogJ3JlZCcsXG5cdFx0XHRzdHJva2VXaWR0aDogMTMsXG5cdFx0XHRsaW5lQ2FwOiAncm91bmQnLFxuXHRcdFx0bmFtZTogJ3BpcGVEb3duJ1xuXHRcdH0pO1xuXG5cdFx0dmFyIHBpcGVSaWdodCA9IG5ldyBLaW5ldGljLkxpbmUoe1xuXHRcdFx0cG9pbnRzOiBbIGJsb2NrU2l6ZSwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiBdLFxuXHRcdFx0c3Ryb2tlOiAncmVkJyxcblx0XHRcdHN0cm9rZVdpZHRoOiAxMyxcblx0XHRcdGxpbmVDYXA6ICdyb3VuZCcsXG5cdFx0XHRuYW1lOiAncGlwZVJpZ2h0J1xuXHRcdH0pO1xuXG5cdFx0Ly8gUGxhY2luZyBwaXBlc1xuXHRcdGlmICh1cCkge1xuXHRcdFx0cGlwZXMuYWRkKHBpcGVVcCk7XG5cdFx0fVxuXG5cdFx0aWYgKGxlZnQpIHtcblx0XHRcdHBpcGVzLmFkZChwaXBlTGVmdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGRvd24pIHtcblx0XHRcdHBpcGVzLmFkZChwaXBlRG93bik7XG5cdFx0fVxuXG5cdFx0aWYgKHJpZ2h0KSB7XG5cdFx0XHRwaXBlcy5hZGQocGlwZVJpZ2h0KTtcblx0XHR9XG5cblx0XHRib3gub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIW1vdXNlQ2xpY2suaXNSdW5uaW5nKCkgJiYgIWFuaW1hdGlvbklzUnVubmluZykge1xuXHRcdFx0XHRyb3RhdGVSaWdodCgpO1xuXHRcdFx0XHRtb3VzZUNsaWNrLnN0YXJ0KCk7XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGFibGUuY2hlY2tQaXBlQ29ubmVjdGlvbnMoKTtcblx0XHRcdFx0XHRjaGVja0dhbWVTdGF0dXMoKTtcblx0XHRcdFx0fSwgMTAwKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGJveC5hZGQoc2hhcGUpO1xuXHRcdGJveC5hZGQocGlwZXMpO1xuXHR9O1xufVxuKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGxvYWRBcHBsaWNhdGlvbjogbG9hZEFwcGxpY2F0aW9uXG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHBpcGUgPSByZXF1aXJlKCcuL2pzL3BpcGUnKTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRwaXBlLmxvYWRBcHBsaWNhdGlvbigpO1xufTsiXX0=
