!function r(a,s,c){function l(t,e){if(!s[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,r,a,s,c)}return s[t].exports}for(var f="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){function h(){switch(stage.hasChildren()&&stage.destroyChildren(),gameType="classic",gameDifficulty){case"easy":rows=5,columns=5;break;case"medium":rows=10,columns=10;break;case"hard":rows=15,columns=15}startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),layerRows=Math.floor(rows/layerSize)+1,layerColumns=Math.floor(columns/layerSize)+1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,table=new r,table.generateFields(),table.shuffle(),table.drawGame(),timer=new o,information=new a,timer.setInc(!0),timer.start(),information.initPanel(),information.updateScore(void 0===K.cookie("classic_high_score_"+gameDifficulty)?"--/--":K.cookie("classic_high_score_"+gameDifficulty)),information.hideLevel()}function b(){stage.hasChildren()&&stage.destroyChildren(),gameType="time-trial",level++,rows=4+level,columns=4+level,startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),layerRows=Math.floor(rows/layerSize)+1,layerColumns=Math.floor(columns/layerSize)+1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,table=new r,table.generateFields(),table.shuffle(),table.drawGame(),"undefined"==typeof timer&&(timer=new o),timer.setInc(!1),timer.setCurrentTime((0===timer.getCurrentTime()?80:timer.getCurrentTime())+30+10*level),timer.start(),information=new a,information.initPanel(),information.updateScore(void 0===K.cookie("time_trial_score")?"-":K.cookie("time_trial_score")),information.updateTimer(timer.getMin()+":"+timer.getSec()),information.updateLevel(level)}function o(){var t=!0,e=null,i=0,n=0,o=0;function r(){i++,s(),information.updateTimer(o+":"+n)}function a(){i--,s(),information.updateTimer(o+":"+n),0===i&&(timer.stop(),setTimeout(function(){var e=!1;void 0===K.cookie("time_trial_score")?e=!0:K.cookie("time_trial_score")<level&&(e=!0),alert("Congratulation! \nYour level: "+level+(e?"\nNew record!":"")),e&&K.cookie("time_trial_score",level,{expires:365,path:"/"}),p()},300))}function s(){o=(o=Math.floor(i/60))<10?"0"+o:o,n=(n=i%60)<10?"0"+n:n}this.setInc=function(e){t=e},this.getCurrentTime=function(){return i},this.setCurrentTime=function(e){i=e,s()},this.start=function(){e=t?setInterval(r,1e3):setInterval(a,1e3)},this.stop=function(){clearInterval(e)},this.reset=function(){o=n=i=0},this.getSec=function(){return n},this.getMin=function(){return o}}function p(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3-100,text:"Classic game",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3,text:"Time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2,y:height/3+100,text:"Scoreboard",fontSize:32,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+200,text:"Information",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2}),menuLayer=new Kinetic.Layer,menuLayer.name="gameMenu",menuLayer.add(t),menuLayer.add(i),menuLayer.add(n),menuLayer.add(o),stage.add(menuLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},menuLayer),r=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},menuLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){r.start()}),t.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3-100,text:"Easy (5x5)",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3,text:"Medium (10x10)",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2,y:height/3+100,text:"Hard (15x15)",fontSize:32,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2}),difficultyLayer=new Kinetic.Layer,difficultyLayer.name="difficultySelectMenu",difficultyLayer.add(t),difficultyLayer.add(i),difficultyLayer.add(n),difficultyLayer.add(o),stage.add(difficultyLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},difficultyLayer),r=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},difficultyLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){r.start()}),t.on("click",function(){gameDifficulty="easy",h()});var a=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},difficultyLayer),s=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},difficultyLayer);i.on("mouseover",function(){a.start()}),i.on("mouseout",function(){s.start()}),i.on("click",function(){gameDifficulty="medium",h()});var c=new Kinetic.Animation(function(e){n.fill("black"),this.stop()},difficultyLayer),l=new Kinetic.Animation(function(e){n.fill("grey"),this.stop()},difficultyLayer);n.on("mouseover",function(){c.start()}),n.on("mouseout",function(){l.start()}),n.on("click",function(){gameDifficulty="hard",h()});var f=new Kinetic.Animation(function(e){o.fill("black"),this.stop()},difficultyLayer),u=new Kinetic.Animation(function(e){o.fill("grey"),this.stop()},difficultyLayer);o.on("mouseover",function(){f.start()}),o.on("mouseout",function(){u.start()}),o.on("click",function(){p()})}()});var a=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},menuLayer),s=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},menuLayer);i.on("mouseover",function(){a.start()}),i.on("mouseout",function(){s.start()}),i.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var t=new Kinetic.Text({x:width/2,y:height/3,text:"Starting time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2}),timeTrialGameLayer=new Kinetic.Layer,timeTrialGameLayer.name="timeTrialGameLayer",timeTrialGameLayer.add(t),timeTrialGameLayer.add(i),stage.add(timeTrialGameLayer);var e=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},timeTrialGameLayer),n=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},timeTrialGameLayer);t.on("mouseover",function(){e.start()}),t.on("mouseout",function(){n.start()}),t.on("click",function(){b()});var o=new Kinetic.Animation(function(e){i.fill("black"),this.stop()},timeTrialGameLayer),r=new Kinetic.Animation(function(e){i.fill("grey"),this.stop()},timeTrialGameLayer);i.on("mouseover",function(){o.start()}),i.on("mouseout",function(){r.start()}),i.on("click",function(){p()})}()});var c=new Kinetic.Animation(function(e){n.fill("black"),this.stop()},menuLayer),l=new Kinetic.Animation(function(e){n.fill("grey"),this.stop()},menuLayer);n.on("mouseover",function(){c.start()}),n.on("mouseout",function(){l.start()}),n.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var e=new Kinetic.Text({x:width/2,y:height/3-100,text:"Classic game",fontSize:32,fontFamily:"Calibri",fill:"grey"});e.setOffset({x:e.getWidth()/2});var t=new Kinetic.Text({x:width/2-120,y:height/3-40,text:"Easy\n"+(void 0===K.cookie("classic_high_score_easy")?"99:99":K.cookie("classic_high_score_easy")),fontSize:18,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2});var i=new Kinetic.Text({x:width/2,y:height/3-40,text:"Medium\n"+(void 0===K.cookie("classic_high_score_medium")?"99:99":K.cookie("classic_high_score_medium")),fontSize:18,fontFamily:"Calibri",fill:"grey"});i.setOffset({x:i.getWidth()/2});var n=new Kinetic.Text({x:width/2+120,y:height/3-40,text:"Hard\n"+(void 0===K.cookie("classic_high_score_hard")?"99:99":K.cookie("classic_high_score_hard")),fontSize:18,fontFamily:"Calibri",fill:"grey"});n.setOffset({x:n.getWidth()/2});var o=new Kinetic.Text({x:width/2,y:height/3+40,text:"Time trial",fontSize:32,fontFamily:"Calibri",fill:"grey"});o.setOffset({x:o.getWidth()/2});var r=new Kinetic.Text({x:width/2,y:height/3+100,text:(void 0===K.cookie("time_trial_score")?"0":K.cookie("time_trial_score"))+". szint",fontSize:18,fontFamily:"Calibri",fill:"grey"});r.setOffset({x:r.getWidth()/2});var a=new Kinetic.Text({x:width/2,y:height/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});a.setOffset({x:a.getWidth()/2}),scoreBoardMenuLayer=new Kinetic.Layer,scoreBoardMenuLayer.name="scoreBoardMenuLayer",scoreBoardMenuLayer.add(e),scoreBoardMenuLayer.add(t),scoreBoardMenuLayer.add(i),scoreBoardMenuLayer.add(n),scoreBoardMenuLayer.add(o),scoreBoardMenuLayer.add(r),scoreBoardMenuLayer.add(a),stage.add(scoreBoardMenuLayer);var s=new Kinetic.Animation(function(e){a.fill("black"),this.stop()},scoreBoardMenuLayer),c=new Kinetic.Animation(function(e){a.fill("grey"),this.stop()},scoreBoardMenuLayer);a.on("mouseover",function(){s.start()}),a.on("mouseout",function(){c.start()}),a.on("click",function(){p()})}()});var f=new Kinetic.Animation(function(e){o.fill("black"),this.stop()},menuLayer),u=new Kinetic.Animation(function(e){o.fill("grey"),this.stop()},menuLayer);o.on("mouseover",function(){f.start()}),o.on("mouseout",function(){u.start()}),o.on("click",function(){!function(){stage.hasChildren()&&stage.destroyChildren();var e=new Kinetic.Text({x:width/2,y:height/3-100,text:"",fontSize:18,fontFamily:"Calibri",fill:"grey"});"In classic game you can choose between three different difficulty, while in time trial the difficulty is incrementaly increasing.\n","Time is key, so don't hesitate too much!\n","You can check your rank at the scoreboard!\n\nMade by: White Rabbit (Tamás Ruszka) (C) 2014,\nMail: ruszka dot tamas at gmail dot com",e.setText("Game goal:\nTurn all the pipes into the correct position, so every pipe connected to each other!\nIn classic game you can choose between three different difficulty, while in time trial the difficulty is incrementaly increasing.\nTime is key, so don't hesitate too much!\nYou can check your rank at the scoreboard!\n\nMade by: White Rabbit (Tamás Ruszka) (C) 2014,\nMail: ruszka dot tamas at gmail dot com"),e.setOffset({x:0<e.getWidth()/2?e.getWidth()/2:0});var t=new Kinetic.Text({x:width/2,y:height/3+200,text:"Back to the menu",fontSize:32,fontFamily:"Calibri",fill:"grey"});t.setOffset({x:t.getWidth()/2}),informationMenuLayer=new Kinetic.Layer,informationMenuLayer.name="informationMenuLayer",informationMenuLayer.add(e),informationMenuLayer.add(t),stage.add(informationMenuLayer);var i=new Kinetic.Animation(function(e){t.fill("black"),this.stop()},informationMenuLayer),n=new Kinetic.Animation(function(e){t.fill("grey"),this.stop()},informationMenuLayer);t.on("mouseover",function(){i.start()}),t.on("mouseout",function(){n.start()}),t.on("click",function(){p()})}()})}function r(){var e=0,t=0;for(gameLayers=[],e=0;e<layerRows;e++)for(gameLayers[e]=new Array(layerColumns),t=0;t<layerColumns;t++)gameLayers[e][t]=new Kinetic.Layer;blocks=[],this.generateFields=function(){var e=0,t=0,i=0,n=0,o=!0;for(e=0;e<rows;e++)for(blocks[e]=new Array(columns),t=0;t<columns;t++)blocks[e][t]=new s(e,t,e*columns+t);for(;o;){o=!1;var r=Math.floor(Math.random()*rows),a=Math.floor(Math.random()*columns);if(0!==blocks[r][a].getKey())switch(Math.floor(4*Math.random()+0)){case 0:if(0!==r&&void 0!==blocks[r-1][a]&&blocks[r][a].getKey()!=blocks[r-1][a].getKey())for(blocks[r][a].setLeft(!0),blocks[r-1][a].setRight(!0),i=blocks[r][a].getKey()>blocks[r-1][a].getKey()?blocks[r][a].getKey():blocks[r-1][a].getKey(),n=blocks[r][a].getKey()<blocks[r-1][a].getKey()?blocks[r][a].getKey():blocks[r-1][a].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 1:if(0!==a&&void 0!==blocks[r][a-1]&&blocks[r][a].getKey()!=blocks[r][a-1].getKey())for(blocks[r][a].setUp(!0),blocks[r][a-1].setDown(!0),i=blocks[r][a].getKey()>blocks[r][a-1].getKey()?blocks[r][a].getKey():blocks[r][a-1].getKey(),n=blocks[r][a].getKey()<blocks[r][a-1].getKey()?blocks[r][a].getKey():blocks[r][a-1].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 2:if(r!=columns-1&&void 0!==blocks[r+1][a]&&blocks[r][a].getKey()!=blocks[r+1][a].getKey())for(blocks[r][a].setRight(!0),blocks[r+1][a].setLeft(!0),i=blocks[r][a].getKey()>blocks[r+1][a].getKey()?blocks[r][a].getKey():blocks[r+1][a].getKey(),n=blocks[r][a].getKey()<blocks[r+1][a].getKey()?blocks[r][a].getKey():blocks[r+1][a].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n);break;case 3:if(a!=rows-1&&void 0!==blocks[r][a+1]&&blocks[r][a].getKey()!=blocks[r][a+1].getKey())for(blocks[r][a].setDown(!0),blocks[r][a+1].setUp(!0),i=blocks[r][a].getKey()>blocks[r][a+1].getKey()?blocks[r][a].getKey():blocks[r][a+1].getKey(),n=blocks[r][a].getKey()<blocks[r][a+1].getKey()?blocks[r][a].getKey():blocks[r][a+1].getKey(),e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].getKey()==i&&blocks[e][t].setKey(n)}for(e=0;e<rows;e++)for(t=0;t<columns;t++)0<blocks[e][t].getKey()&&(o=!0)}blocks[startingPointX][startingPointY].setConnected(!0),blocks[startingPointX][startingPointY].connectionHandler(!0)},this.shuffle=function(){for(var e=0;e<rows;e++)for(var t=0;t<columns;t++)blocks[e][t].shuffleIt()},this.drawGame=function(){for(e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].init(),gameLayers[Math.floor(e/layerSize)][Math.floor(t/layerSize)].add(blocks[e][t].getBox());for(this.checkPipeConnections(),e=0;e<layerRows;e++)for(t=0;t<layerColumns;t++)stage.add(gameLayers[e][t])},this.checkPipeConnections=function(){var e=0,t=0;for(e=0;e<rows;e++)for(t=0;t<columns;t++)blocks[e][t].setConnected(!1),blocks[e][t].connectionHandler(!1);for(blocks[startingPointX][startingPointY].setConnected(!0),blocks[startingPointX][startingPointY].connectionHandler(!0),e=0;e<rows;e++)for(t=0;t<columns;t++)if(blocks[e][t].getConnected()){var i=!1;0===e||i||blocks[e][t].getLeft()&&blocks[e-1][t].getRight()&&(blocks[e-1][t].getConnected()||(blocks[e-1][t].setConnected(!0),blocks[e-1][t].connectionHandler(!0),t=-1,i=!(e=0))),e==rows-1||i||blocks[e][t].getRight()&&blocks[e+1][t].getLeft()&&(blocks[e+1][t].getConnected()||(blocks[e+1][t].setConnected(!0),blocks[e+1][t].connectionHandler(!0),t=-1,i=!(e=0))),0===t||i||blocks[e][t].getUp()&&blocks[e][t-1].getDown()&&(blocks[e][t-1].getConnected()||(blocks[e][t-1].setConnected(!0),blocks[e][t-1].connectionHandler(!0),t=-1,i=!(e=0))),t==columns-1||i||blocks[e][t].getDown()&&blocks[e][t+1].getUp()&&(blocks[e][t+1].getConnected()||(blocks[e][t+1].setConnected(!0),blocks[e][t+1].connectionHandler(!0),t=-1,i=!(e=0)))}}}function a(){var e=width/2+rows*blockSize/2+rows*(2*space),t=width-(e+rows*space*2),i=height,n=new Kinetic.Layer,o=new Kinetic.Group({x:e,y:0,width:t,height:i}),r=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),a=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),s=new Kinetic.Group({x:0,y:0,width:e-width,height:height}),c=new Kinetic.Text({x:200,y:200,text:"Back",fontSize:48,fontFamily:"Calibri",fill:"grey"}),l=new Kinetic.Text({x:30,y:50,text:"Time:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),f=new Kinetic.Text({x:30,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),u=new Kinetic.Text({x:200,y:50,text:"Previous record:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),h=new Kinetic.Text({x:200,y:100,text:"00:00",fontSize:48,fontFamily:"Calibri",fill:"grey"}),d=new Kinetic.Text({x:30,y:200,text:"Actual level:",fontSize:32,fontFamily:"Calibri",fill:"grey"}),y=new Kinetic.Text({x:30,y:250,text:"1",fontSize:64,fontFamily:"Calibri",fill:"grey"});this.initPanel=function(){r.add(l),r.add(f),a.add(u),a.add(h),a.add(c),s.add(d),s.add(y),o.add(r),o.add(a),o.add(s),n.add(o),stage.add(n)},this.showTimer=function(){r.show(),n.draw()},this.hideTimer=function(){r.hide(),n.draw()},this.showScore=function(){a.show(),n.draw()},this.scoreTimer=function(){a.hide(),n.draw()},this.showLevel=function(){s.show(),n.draw()},this.hideLevel=function(){s.hide(),n.draw()},this.updateTimer=function(e){f.setText(e),n.draw()},this.updateScore=function(e){h.setText(e),n.draw()},this.updateLevel=function(e){y.setText(e),n.draw()};var m=new Kinetic.Animation(function(e){c.fill("black"),this.stop()},n),g=new Kinetic.Animation(function(e){c.fill("grey"),this.stop()},n);c.on("mouseover",function(){m.start()}),c.on("mouseout",function(){g.start()}),c.on("click",function(){p()})}function s(e,t,n){var o=e*(2*space+blockSize)+space,r=t*(2*space+blockSize)+space,a=!1,s=!1,c=!1,l=!1,f=n,u=!1,h=0,d=new Kinetic.Group({x:o+blockSize/2+(width-blockSize*rows)/2-blockSize/2,y:r+blockSize/2,width:blockSize,height:blockSize,offset:{x:blockSize/2,y:blockSize/2}}),y=new Kinetic.Group({x:0,y:0}),m=new Kinetic.Rect({x:0,y:0,width:blockSize,height:blockSize,name:o+"-"+r,fill:"grey",stroke:"black",strokeWidth:space});function g(){var e=a;a=s,s=c,c=l,l=e}function k(){var e=a;a=l,l=c,c=s,s=e}this.getConnected=function(){return u},this.setConnected=function(e){u=e},this.getKey=function(){return f},this.setKey=function(e){f=e},this.getRotation=function(){return h},this.setLeft=function(e){s=e},this.getLeft=function(){return s},this.setDown=function(e){c=e},this.getDown=function(){return c},this.setRight=function(e){l=e},this.getRight=function(){return l},this.setUp=function(e){a=e},this.getUp=function(){return a},this.getBox=function(){return d},this.setParentLayer=function(e){parentLayer=e},this.connectionHandler=function(e){e?(y.find(".pipeUp").stroke("green"),y.find(".pipeLeft").stroke("green"),y.find(".pipeDown").stroke("green"),y.find(".pipeRight").stroke("green")):(y.find(".pipeUp").stroke("red"),y.find(".pipeLeft").stroke("red"),y.find(".pipeDown").stroke("red"),y.find(".pipeRight").stroke("red"))},this.shuffleIt=function(){for(var e=0;e<Math.floor(3*Math.random()+0);e++)Math.random()<.5?g():k()};var w=new Kinetic.Animation(function(e){if(animationIsRunning=!0,d.rotate(5),d.rotation()>=h+90){d.rotation(h+90),h=d.rotation();var t=!0;for(i=0;i<rows;i++)for(j=0;j<columns;j++)blocks[i][j].getConnected()||(t=!1);if(this.stop(),animationIsRunning=!1,t)"classic"==gameType?(timer.stop(),setTimeout(function(){var e=!1;void 0===K.cookie("classic_high_score_"+gameDifficulty)?e=!0:K.cookie("classic_high_score_"+gameDifficulty)>timer.getMin()+" : "+timer.getSec()&&(e=!0),alert("Congratulation, you solved the level! \nYour time: "+timer.getMin()+" : "+timer.getSec()+(e?"\nNew record!":"")),e&&K.cookie("classic_high_score_"+gameDifficulty,timer.getMin()+" : "+timer.getSec(),{expires:365,path:"/"}),p()},300)):"time-trial"==gameType&&(timer.stop(),setTimeout(function(){b()},300));else for(i=0;i<layerRows;i++)for(j=0;j<layerColumns;j++)gameLayers[i][j].draw()}},gameLayers[Math.floor(e/layerSize)][Math.floor(t/layerSize)]);this.init=function(){var e=new Kinetic.Line({points:[blockSize/2,0,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeUp"}),t=new Kinetic.Line({points:[0,blockSize/2,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeLeft"}),i=new Kinetic.Line({points:[blockSize/2,blockSize,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeDown"}),n=new Kinetic.Line({points:[blockSize,blockSize/2,blockSize/2,blockSize/2],stroke:"red",strokeWidth:13,lineCap:"round",name:"pipeRight"});a&&y.add(e),s&&y.add(t),c&&y.add(i),l&&y.add(n),d.on("click",function(){w.isRunning()||animationIsRunning||(g(),w.start(),setTimeout(function(){table.checkPipeConnections()},100))}),d.add(m),d.add(y)}}var K;K=jQuery,width=1280,height=720,rows=10,columns=10,space=5,layerSize=5,level=0,animationIsRunning=!1,blockSize=Math.min(width,height)/Math.max(rows,columns)-2*space,startingPointX=Math.floor(rows/2),startingPointY=Math.floor(columns/2),K(document).on("ready",function(){width=K(window).width(),height=K(window).height()-200,stage=new Kinetic.Stage({container:"table",width:width,height:height}),p()})},{}],2:[function(e,t,i){"use strict";var n=e("./js/pipe");window.onload=function(){this.console.log("Yey",n)}},{"./js/pipe":1}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvcGlwZS5qcyIsInNyYy9tYWluLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsInN0YXJ0TmV3Q2xhc3NpY0dhbWUiLCJzdGFnZSIsImhhc0NoaWxkcmVuIiwiZGVzdHJveUNoaWxkcmVuIiwiZ2FtZVR5cGUiLCJnYW1lRGlmZmljdWx0eSIsInJvd3MiLCJjb2x1bW5zIiwic3RhcnRpbmdQb2ludFgiLCJNYXRoIiwiZmxvb3IiLCJzdGFydGluZ1BvaW50WSIsImxheWVyUm93cyIsImxheWVyU2l6ZSIsImxheWVyQ29sdW1ucyIsImJsb2NrU2l6ZSIsIm1pbiIsIndpZHRoIiwiaGVpZ2h0IiwibWF4Iiwic3BhY2UiLCJ0YWJsZSIsImdhbWVUYWJsZSIsImdlbmVyYXRlRmllbGRzIiwic2h1ZmZsZSIsImRyYXdHYW1lIiwidGltZXIiLCJnYW1lVGltZXIiLCJpbmZvcm1hdGlvbiIsImluZm9ybWF0aW9uUGFuZWwiLCJzZXRJbmMiLCJzdGFydCIsImluaXRQYW5lbCIsInVwZGF0ZVNjb3JlIiwiJCIsImNvb2tpZSIsImhpZGVMZXZlbCIsInN0YXJ0TmV3VGltZVRyaWFsR2FtZSIsImxldmVsIiwic2V0Q3VycmVudFRpbWUiLCJnZXRDdXJyZW50VGltZSIsInVwZGF0ZVRpbWVyIiwiZ2V0TWluIiwiZ2V0U2VjIiwidXBkYXRlTGV2ZWwiLCJpbmMiLCJ0aW1lck9iaiIsImN1cnJlbnRUaW1lIiwiY3VycmVudFNlYyIsImN1cnJlbnRNaW4iLCJyZWZyZXNoSW5jVGltZXIiLCJ1cGRhdGVNaW5BbmRTZWMiLCJyZWZyZXNoRGVjVGltZXIiLCJzdG9wIiwic2V0VGltZW91dCIsIm5ld1JlY29yZCIsImFsZXJ0IiwiZXhwaXJlcyIsInBhdGgiLCJtYWluTWVudSIsInRoaXMiLCJ2YWx1ZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJlc2V0IiwiY2xhc3NpY0dhbWVUZXh0IiwiS2luZXRpYyIsIlRleHQiLCJ4IiwieSIsInRleHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmaWxsIiwic2V0T2Zmc2V0IiwiZ2V0V2lkdGgiLCJ0aW1lVHJpYWxHYW1lVGV4dCIsInNjb3JlQm9hcmRUZXh0IiwiaW5mb3JtYXRpb25UZXh0IiwibWVudUxheWVyIiwiTGF5ZXIiLCJuYW1lIiwiYWRkIiwiY2xhc3NpY0dhbWVUZXh0TW91c2VPdmVyIiwiQW5pbWF0aW9uIiwiZnJhbWUiLCJjbGFzc2ljR2FtZVRleHRNb3VzZU91dCIsIm9uIiwiZWFzeVRleHQiLCJtZWRpdW1UZXh0IiwiaGFyZFRleHQiLCJiYWNrVGV4dCIsImRpZmZpY3VsdHlMYXllciIsImVhc3lUZXh0TW91c2VPdmVyIiwiZWFzeVRleHRNb3VzZU91dCIsIm1lZGl1bVRleHRNb3VzZU92ZXIiLCJtZWRpdW1UZXh0TW91c2VPdXQiLCJoYXJkVGV4dE1vdXNlT3ZlciIsImhhcmRUZXh0TW91c2VPdXQiLCJiYWNrVGV4dE1vdXNlT3ZlciIsImJhY2tUZXh0TW91c2VPdXQiLCJjbGFzc2ljRGlmZmljdWx0eVNlbGVjdE1lbnUiLCJ0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbEdhbWVUZXh0TW91c2VPdXQiLCJ0aW1lVHJpYWxUZXh0IiwidGltZVRyaWFsR2FtZUxheWVyIiwidGltZVRyaWFsVGV4dE1vdXNlT3ZlciIsInRpbWVUcmlhbFRleHRNb3VzZU91dCIsInRpbWVUcmlhbEdhbWVNZW51Iiwic2NvcmVCb2FyZFRleHRNb3VzZU92ZXIiLCJzY29yZUJvYXJkVGV4dE1vdXNlT3V0IiwiY2xhc3NpY1RleHQiLCJsZXZlbFRleHQiLCJzY29yZUJvYXJkTWVudUxheWVyIiwic2NvcmVCb2FyZE1lbnUiLCJpbmZvcm1hdGlvblRleHRNb3VzZU92ZXIiLCJpbmZvcm1hdGlvblRleHRNb3VzZU91dCIsInNldFRleHQiLCJpbmZvVGV4dCIsImluZm9ybWF0aW9uTWVudUxheWVyIiwiaW5mb3JtYXRpb25NZW51IiwiaiIsImdhbWVMYXllcnMiLCJBcnJheSIsImJsb2NrcyIsImdyZWF0ZXIiLCJzbWFsbGVyIiwiZ2VuZXJhdGVJdCIsImJsb2NrIiwicmFuZG9tIiwiZ2V0S2V5Iiwic2V0TGVmdCIsInNldFJpZ2h0Iiwic2V0S2V5Iiwic2V0VXAiLCJzZXREb3duIiwic2V0Q29ubmVjdGVkIiwiY29ubmVjdGlvbkhhbmRsZXIiLCJzaHVmZmxlSXQiLCJpbml0IiwiZ2V0Qm94IiwiY2hlY2tQaXBlQ29ubmVjdGlvbnMiLCJnZXRDb25uZWN0ZWQiLCJ1cGRhdGVkIiwiZ2V0TGVmdCIsImdldFJpZ2h0IiwiZ2V0VXAiLCJnZXREb3duIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwiaW5mb3JtYXRpb25MYXllciIsInBhbmVsIiwiR3JvdXAiLCJzY29yZSIsInRpbWVyVGl0bGVUZXh0IiwidGltZXJUZXh0Iiwic2NvcmVUaXRsZVRleHQiLCJzY29yZVRleHQiLCJsZXZlbFRpdGxlVGV4dCIsInNob3dUaW1lciIsInNob3ciLCJkcmF3IiwiaGlkZVRpbWVyIiwiaGlkZSIsInNob3dTY29yZSIsInNjb3JlVGltZXIiLCJzaG93TGV2ZWwiLCJyb3ciLCJjb2x1bW4iLCJnZW5lcmF0ZUtleSIsInVwIiwibGVmdCIsImRvd24iLCJyaWdodCIsImtleSIsImNvbm5lY3RlZCIsInJvdGF0aW9uIiwiYm94Iiwib2Zmc2V0IiwicGlwZXMiLCJzaGFwZSIsIlJlY3QiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJvdGF0ZVJpZ2h0IiwidGVtcCIsInJvdGF0ZUxlZnQiLCJnZXRSb3RhdGlvbiIsInNldFBhcmVudExheWVyIiwicGFyZW50TGF5ZXIiLCJjb25uZWN0IiwiZmluZCIsImsiLCJtb3VzZUNsaWNrIiwiYW5pbWF0aW9uSXNSdW5uaW5nIiwicm90YXRlIiwiZmluaXNoZWQiLCJwaXBlVXAiLCJMaW5lIiwicG9pbnRzIiwibGluZUNhcCIsInBpcGVMZWZ0IiwicGlwZURvd24iLCJwaXBlUmlnaHQiLCJpc1J1bm5pbmciLCJqUXVlcnkiLCJkb2N1bWVudCIsIndpbmRvdyIsIlN0YWdlIiwiY29udGFpbmVyIiwicGlwZSIsIm9ubG9hZCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsSUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLEtBQUEsTUFBQUssRUFBQUUsS0FBQSxtQkFBQUYsRUFBQSxJQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsSUFBQWIsRUFBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsT0FBQUksRUFBQUgsRUFBQUksR0FBQSxHQUFBTCxJQUFBQSxJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFELEVBQUFHLEdBQUFTLFFBQUEsSUFBQSxJQUFBTCxFQUFBLG1CQUFBRCxTQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLElBQUEsT0FBQUQsRUFBQSxDQUFBLENBQUFhLEVBQUEsQ0FBQSxTQUFBVCxFQUFBVSxFQUFBSixHQzhCQSxTQUFBSyxJQVFBLE9BTkFDLE1BQUFDLGVBQ0FELE1BQUFFLGtCQUdBQyxTQUFBLFVBRUFDLGdCQUNBLElBQUEsT0FDQUMsS0FBQSxFQUNBQyxRQUFBLEVBQ0EsTUFDQSxJQUFBLFNBQ0FE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NkssUUFBQTlMLFFBQ0FDLE9BQUFnQixFQUFBNkssUUFBQTdMLFNBQUEsSUFFQWpCLE1BQUEsSUFBQWlFLFFBQUE4SSxNQUFBLENBQ0FDLFVBQUEsUUFDQWhNLE1BQUFBLE1BQ0FDLE9BQUFBLFNBR0F5Qyw4QkMxQkEsYUFFQSxJQUFBdUosRUFBQTdOLEVBQUEsYUFFQTBOLE9BQUFJLE9BQUEsV0FDQXZKLEtBQUF3SixRQUFBQyxJQUFBLE1BQUFIIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIihmdW5jdGlvbigkKSB7XHJcbiAgICAvL0RlZmF1bHQgYmXDoWxsw610w6Fzb2ssIGdsb2LDoWxpcyB2w6FsdG96w7NiYW5cclxuICAgIHdpZHRoID0gMTI4MDtcclxuICAgIGhlaWdodCA9IDcyMDtcclxuICAgIHJvd3MgPSAxMDtcclxuICAgIGNvbHVtbnMgPSAxMDtcclxuICAgIHNwYWNlID0gNTtcclxuICAgIGxheWVyU2l6ZSA9IDU7XHJcbiAgICBsZXZlbCA9IDA7XHJcbiAgICBhbmltYXRpb25Jc1J1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICBibG9ja1NpemUgPSAoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyBNYXRoLm1heChyb3dzLCBjb2x1bW5zKSkgLSAoc3BhY2UgKiAyKTtcclxuXHJcbiAgICBzdGFydGluZ1BvaW50WCA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xyXG4gICAgc3RhcnRpbmdQb2ludFkgPSBNYXRoLmZsb29yKGNvbHVtbnMgLyAyKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcInJlYWR5XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHdpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcbiAgICAgICAgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gMjAwO1xyXG5cclxuICAgICAgICBzdGFnZSA9IG5ldyBLaW5ldGljLlN0YWdlKHtcclxuICAgICAgICAgICAgY29udGFpbmVyOiAndGFibGUnLFxyXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1haW5NZW51KCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3RhcnROZXdDbGFzc2ljR2FtZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnYW1lVHlwZSA9IFwiY2xhc3NpY1wiO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGdhbWVEaWZmaWN1bHR5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXN5XCI6XHJcbiAgICAgICAgICAgICAgICByb3dzID0gNTtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSA1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtZWRpdW1cIjpcclxuICAgICAgICAgICAgICAgIHJvd3MgPSAxMDtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSAxMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGFyZFwiOlxyXG4gICAgICAgICAgICAgICAgcm93cyA9IDE1O1xyXG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IDE1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydGluZ1BvaW50WCA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xyXG4gICAgICAgIHN0YXJ0aW5nUG9pbnRZID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gMik7XHJcbiAgICAgICAgbGF5ZXJSb3dzID0gTWF0aC5mbG9vcihyb3dzIC8gbGF5ZXJTaXplKSArIDE7XHJcbiAgICAgICAgbGF5ZXJDb2x1bW5zID0gTWF0aC5mbG9vcihjb2x1bW5zIC8gbGF5ZXJTaXplKSArIDE7XHJcbiAgICAgICAgYmxvY2tTaXplID0gKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gTWF0aC5tYXgocm93cywgY29sdW1ucykpIC0gKHNwYWNlICogMik7XHJcblxyXG4gICAgICAgIHRhYmxlID0gbmV3IGdhbWVUYWJsZSgpO1xyXG4gICAgICAgIHRhYmxlLmdlbmVyYXRlRmllbGRzKCk7XHJcbiAgICAgICAgdGFibGUuc2h1ZmZsZSgpO1xyXG4gICAgICAgIHRhYmxlLmRyYXdHYW1lKCk7XHJcblxyXG4gICAgICAgIHRpbWVyID0gbmV3IGdhbWVUaW1lcigpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uID0gbmV3IGluZm9ybWF0aW9uUGFuZWwoKTtcclxuXHJcbiAgICAgICAgdGltZXIuc2V0SW5jKHRydWUpO1xyXG4gICAgICAgIHRpbWVyLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgIGluZm9ybWF0aW9uLmluaXRQYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVNjb3JlKHR5cGVvZiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSkgPT0gJ3VuZGVmaW5lZCcgPyBcIi0tLy0tXCIgOiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlXycgKyBnYW1lRGlmZmljdWx0eSkpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLmhpZGVMZXZlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0YXJ0TmV3VGltZVRyaWFsR2FtZSgpIHtcclxuICAgICAgICBpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICBzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdhbWVUeXBlID0gXCJ0aW1lLXRyaWFsXCI7XHJcblxyXG4gICAgICAgIGxldmVsKys7XHJcblxyXG4gICAgICAgIHJvd3MgPSA0ICsgbGV2ZWw7XHJcbiAgICAgICAgY29sdW1ucyA9IDQgKyBsZXZlbDtcclxuXHJcbiAgICAgICAgc3RhcnRpbmdQb2ludFggPSBNYXRoLmZsb29yKHJvd3MgLyAyKTtcclxuICAgICAgICBzdGFydGluZ1BvaW50WSA9IE1hdGguZmxvb3IoY29sdW1ucyAvIDIpO1xyXG4gICAgICAgIGxheWVyUm93cyA9IE1hdGguZmxvb3Iocm93cyAvIGxheWVyU2l6ZSkgKyAxO1xyXG4gICAgICAgIGxheWVyQ29sdW1ucyA9IE1hdGguZmxvb3IoY29sdW1ucyAvIGxheWVyU2l6ZSkgKyAxO1xyXG4gICAgICAgIGJsb2NrU2l6ZSA9IChNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIE1hdGgubWF4KHJvd3MsIGNvbHVtbnMpKSAtIChzcGFjZSAqIDIpO1xyXG5cclxuICAgICAgICB0YWJsZSA9IG5ldyBnYW1lVGFibGUoKTtcclxuICAgICAgICB0YWJsZS5nZW5lcmF0ZUZpZWxkcygpO1xyXG4gICAgICAgIHRhYmxlLnNodWZmbGUoKTtcclxuICAgICAgICB0YWJsZS5kcmF3R2FtZSgpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRpbWVyID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aW1lciA9IG5ldyBnYW1lVGltZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGltZXIuc2V0SW5jKGZhbHNlKTtcclxuICAgICAgICB0aW1lci5zZXRDdXJyZW50VGltZSgodGltZXIuZ2V0Q3VycmVudFRpbWUoKSA9PT0gMCA/IDgwIDogdGltZXIuZ2V0Q3VycmVudFRpbWUoKSkgKyAzMCArIChsZXZlbCAqIDEwKSk7XHJcbiAgICAgICAgdGltZXIuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb24gPSBuZXcgaW5mb3JtYXRpb25QYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLmluaXRQYW5lbCgpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVNjb3JlKCh0eXBlb2YgJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnKSA9PSAndW5kZWZpbmVkJykgPyBcIi1cIiA6ICQuY29va2llKCd0aW1lX3RyaWFsX3Njb3JlJykpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKHRpbWVyLmdldE1pbigpICsgJzonICsgdGltZXIuZ2V0U2VjKCkpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZUxldmVsKGxldmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnYW1lVGltZXIoKSB7XHJcbiAgICAgICAgLy8gT3B0aW9uc1xyXG4gICAgICAgIHZhciBpbmMgPSB0cnVlO1xyXG4gICAgICAgIHZhciB0aW1lck9iaiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vU3RhdGVzXHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICB2YXIgY3VycmVudFNlYyA9IDA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRNaW4gPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGluYyA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFRpbWUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB1cGRhdGVNaW5BbmRTZWMoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmMpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVyT2JqID0gc2V0SW50ZXJ2YWwocmVmcmVzaEluY1RpbWVyLCAxMDAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVyT2JqID0gc2V0SW50ZXJ2YWwocmVmcmVzaERlY1RpbWVyLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyT2JqKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgY3VycmVudFNlYyA9IDA7XHJcbiAgICAgICAgICAgIGN1cnJlbnRNaW4gPSAwO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0U2VjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2VjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0TWluID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TWluO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hJbmNUaW1lcigpIHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWUrKztcclxuICAgICAgICAgICAgdXBkYXRlTWluQW5kU2VjKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uLnVwZGF0ZVRpbWVyKGN1cnJlbnRNaW4gKyBcIjpcIiArIGN1cnJlbnRTZWMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaERlY1RpbWVyKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZS0tO1xyXG4gICAgICAgICAgICB1cGRhdGVNaW5BbmRTZWMoKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb24udXBkYXRlVGltZXIoY3VycmVudE1pbiArIFwiOlwiICsgY3VycmVudFNlYyk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGltZVRyaWFsR2FtZVRpbWVVcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVNaW5BbmRTZWMoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRNaW4gPSBNYXRoLmZsb29yKGN1cnJlbnRUaW1lIC8gNjApO1xyXG4gICAgICAgICAgICBjdXJyZW50TWluID0gY3VycmVudE1pbiA8IDEwID8gXCIwXCIgKyBjdXJyZW50TWluIDogY3VycmVudE1pbjtcclxuICAgICAgICAgICAgY3VycmVudFNlYyA9IGN1cnJlbnRUaW1lICUgNjA7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTZWMgPSBjdXJyZW50U2VjIDwgMTAgPyBcIjBcIiArIGN1cnJlbnRTZWMgOiBjdXJyZW50U2VjO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWluTWVudSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY2xhc3NpY0dhbWVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQ2xhc3NpYyBnYW1lJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjbGFzc2ljR2FtZVRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogY2xhc3NpY0dhbWVUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxHYW1lVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSxcclxuICAgICAgICAgICAgdGV4dDogJ1RpbWUgdHJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IHRpbWVUcmlhbEdhbWVUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzY29yZUJvYXJkVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDEwMCxcclxuICAgICAgICAgICAgdGV4dDogJ1Njb3JlYm9hcmQnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNjb3JlQm9hcmRUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IHNjb3JlQm9hcmRUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBpbmZvcm1hdGlvblRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdJbmZvcm1hdGlvbicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGluZm9ybWF0aW9uVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51TGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xyXG4gICAgICAgIG1lbnVMYXllci5uYW1lID0gXCJnYW1lTWVudVwiO1xyXG4gICAgICAgIG1lbnVMYXllci5hZGQoY2xhc3NpY0dhbWVUZXh0KTtcclxuICAgICAgICBtZW51TGF5ZXIuYWRkKHRpbWVUcmlhbEdhbWVUZXh0KTtcclxuICAgICAgICBtZW51TGF5ZXIuYWRkKHNjb3JlQm9hcmRUZXh0KTtcclxuICAgICAgICBtZW51TGF5ZXIuYWRkKGluZm9ybWF0aW9uVGV4dCk7XHJcbiAgICAgICAgc3RhZ2UuYWRkKG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIC8vRXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgdmFyIGNsYXNzaWNHYW1lVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc2ljR2FtZVRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgbWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGNsYXNzaWNHYW1lVGV4dE1vdXNlT3V0ID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzaWNHYW1lVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIGNsYXNzaWNHYW1lVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xhc3NpY0dhbWVUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNsYXNzaWNHYW1lVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGFzc2ljR2FtZVRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjbGFzc2ljR2FtZVRleHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xhc3NpY0RpZmZpY3VsdHlTZWxlY3RNZW51KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgdGltZVRyaWFsR2FtZVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxHYW1lVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRpbWVUcmlhbEdhbWVNZW51KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzY29yZUJvYXJkVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBzY29yZUJvYXJkVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmVCb2FyZFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBzY29yZUJvYXJkVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIHNjb3JlQm9hcmRUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY29yZUJvYXJkVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY29yZUJvYXJkVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY29yZUJvYXJkVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNjb3JlQm9hcmRUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3JlQm9hcmRNZW51KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBpbmZvcm1hdGlvblRleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25UZXh0LmZpbGwoJ2JsYWNrJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIG1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIHZhciBpbmZvcm1hdGlvblRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvblRleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBtZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICBpbmZvcm1hdGlvblRleHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbmZvcm1hdGlvblRleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25UZXh0TW91c2VPdXQuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsYXNzaWNEaWZmaWN1bHR5U2VsZWN0TWVudSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZWFzeVRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgLSAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdFYXN5ICg1eDUpJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlYXN5VGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBlYXN5VGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgbWVkaXVtVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSxcclxuICAgICAgICAgICAgdGV4dDogJ01lZGl1bSAoMTB4MTApJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IG1lZGl1bVRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGhhcmRUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpICsgMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnSGFyZCAoMTV4MTUpJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBoYXJkVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdCYWNrIHRvIHRoZSBtZW51JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0xheWVyIHNldHVwXHJcbiAgICAgICAgZGlmZmljdWx0eUxheWVyID0gbmV3IEtpbmV0aWMuTGF5ZXIoKTtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIubmFtZSA9IFwiZGlmZmljdWx0eVNlbGVjdE1lbnVcIjtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIuYWRkKGVhc3lUZXh0KTtcclxuICAgICAgICBkaWZmaWN1bHR5TGF5ZXIuYWRkKG1lZGl1bVRleHQpO1xyXG4gICAgICAgIGRpZmZpY3VsdHlMYXllci5hZGQoaGFyZFRleHQpO1xyXG4gICAgICAgIGRpZmZpY3VsdHlMYXllci5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZChkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvL0Vhc3kgbWVudVxyXG4gICAgICAgIHZhciBlYXN5VGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgZWFzeVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIGRpZmZpY3VsdHlMYXllcik7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlYXN5VGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBlYXN5VGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJlYXN5XCI7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3Q2xhc3NpY0dhbWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9NZWRpdW0gbWVudVxyXG4gICAgICAgIHZhciBtZWRpdW1UZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIG1lZGl1bVRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIG1lZGl1bVRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBtZWRpdW1UZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgbWVkaXVtVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWVkaXVtVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1lZGl1bVRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpdW1UZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJtZWRpdW1cIjtcclxuICAgICAgICAgICAgc3RhcnROZXdDbGFzc2ljR2FtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0hhcmQgbWVudVxyXG4gICAgICAgIHZhciBoYXJkVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgaGFyZFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIGRpZmZpY3VsdHlMYXllcik7XHJcblxyXG4gICAgICAgIGhhcmRUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoYXJkVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGhhcmRUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVEaWZmaWN1bHR5ID0gXCJoYXJkXCI7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3Q2xhc3NpY0dhbWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9CYWNrIG1lbnVcclxuICAgICAgICB2YXIgYmFja1RleHRNb3VzZU92ZXIgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgZGlmZmljdWx0eUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBkaWZmaWN1bHR5TGF5ZXIpO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRpbWVUcmlhbEdhbWVNZW51KCkge1xyXG5cclxuICAgICAgICBpZiAoc3RhZ2UuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICBzdGFnZS5kZXN0cm95Q2hpbGRyZW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpLFxyXG4gICAgICAgICAgICB0ZXh0OiAnU3RhcnRpbmcgdGltZSB0cmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiB0aW1lVHJpYWxUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDIwMCxcclxuICAgICAgICAgICAgdGV4dDogJ0JhY2sgdG8gdGhlIG1lbnUnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGJhY2tUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTGF5ZXIgc2V0dXBcclxuICAgICAgICB0aW1lVHJpYWxHYW1lTGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVMYXllci5uYW1lID0gXCJ0aW1lVHJpYWxHYW1lTGF5ZXJcIjtcclxuICAgICAgICB0aW1lVHJpYWxHYW1lTGF5ZXIuYWRkKHRpbWVUcmlhbFRleHQpO1xyXG4gICAgICAgIHRpbWVUcmlhbEdhbWVMYXllci5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgIHN0YWdlLmFkZCh0aW1lVHJpYWxHYW1lTGF5ZXIpO1xyXG5cclxuICAgICAgICAvL1RpbWUgVHJpYWwgbWVudVxyXG4gICAgICAgIHZhciB0aW1lVHJpYWxUZXh0TW91c2VPdmVyID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIHRpbWVUcmlhbFRleHQuZmlsbCgnYmxhY2snKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgdGltZVRyaWFsR2FtZUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVUcmlhbFRleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICB0aW1lVHJpYWxUZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgdGltZVRyaWFsR2FtZUxheWVyKTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZVRyaWFsVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxUZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRpbWVUcmlhbFRleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aW1lVHJpYWxUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3VGltZVRyaWFsR2FtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JhY2sgbWVudVxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCB0aW1lVHJpYWxHYW1lTGF5ZXIpO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHRNb3VzZU91dCA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdncmV5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH0sIHRpbWVUcmlhbEdhbWVMYXllcik7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3Zlci5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dE1vdXNlT3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1haW5NZW51KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2NvcmVCb2FyZE1lbnUoKSB7XHJcbiAgICAgICAgaWYgKHN0YWdlLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgc3RhZ2UuZGVzdHJveUNoaWxkcmVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY2xhc3NpY1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgLSAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdDbGFzc2ljIGdhbWUnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNsYXNzaWNUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGNsYXNzaWNUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlYXN5VGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAod2lkdGggLyAyKSAtIDEyMCxcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gNDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdFYXN5XFxuJyArICh0eXBlb2YgJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV9lYXN5JykgPT0gJ3VuZGVmaW5lZCcgPyAnOTk6OTknIDogJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV9lYXN5JykpLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMTgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVhc3lUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGVhc3lUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBtZWRpdW1UZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogKGhlaWdodCAvIDMpIC0gNDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdNZWRpdW1cXG4nICsgKHR5cGVvZiAkLmNvb2tpZSgnY2xhc3NpY19oaWdoX3Njb3JlX21lZGl1bScpID09ICd1bmRlZmluZWQnID8gJzk5Ojk5JyA6ICQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfbWVkaXVtJykpLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMTgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lZGl1bVRleHQuc2V0T2Zmc2V0KHtcclxuICAgICAgICAgICAgeDogbWVkaXVtVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgaGFyZFRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogKHdpZHRoIC8gMikgKyAxMjAsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSAtIDQwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnSGFyZFxcbicgKyAodHlwZW9mICQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfaGFyZCcpID09ICd1bmRlZmluZWQnID8gJzk5Ojk5JyA6ICQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfaGFyZCcpKSxcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoYXJkVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBoYXJkVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZVRyaWFsVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSArIDQwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnVGltZSB0cmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGltZVRyaWFsVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiB0aW1lVHJpYWxUZXh0LmdldFdpZHRoKCkgLyAyXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbFRleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICh0eXBlb2YgJC5jb29raWUoJ3RpbWVfdHJpYWxfc2NvcmUnKSA9PSAndW5kZWZpbmVkJyA/ICcwJyA6ICQuY29va2llKCd0aW1lX3RyaWFsX3Njb3JlJykpICsgXCIuIHN6aW50XCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAxOCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV2ZWxUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IGxldmVsVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdCYWNrIHRvIHRoZSBtZW51JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0xheWVyIHNldHVwXHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllci5uYW1lID0gXCJzY29yZUJvYXJkTWVudUxheWVyXCI7XHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllci5hZGQoY2xhc3NpY1RleHQpO1xyXG4gICAgICAgIHNjb3JlQm9hcmRNZW51TGF5ZXIuYWRkKGVhc3lUZXh0KTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZChtZWRpdW1UZXh0KTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZChoYXJkVGV4dCk7XHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllci5hZGQodGltZVRyaWFsVGV4dCk7XHJcbiAgICAgICAgc2NvcmVCb2FyZE1lbnVMYXllci5hZGQobGV2ZWxUZXh0KTtcclxuICAgICAgICBzY29yZUJvYXJkTWVudUxheWVyLmFkZChiYWNrVGV4dCk7XHJcbiAgICAgICAgc3RhZ2UuYWRkKHNjb3JlQm9hcmRNZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICAvL0JhY2sgbWVudVxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBzY29yZUJvYXJkTWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBzY29yZUJvYXJkTWVudUxheWVyKTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdXQuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFpbk1lbnUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbmZvcm1hdGlvbk1lbnUoKSB7XHJcblxyXG4gICAgICAgIGlmIChzdGFnZS5oYXNDaGlsZHJlbigpKSB7XHJcbiAgICAgICAgICAgIHN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGluZm9ybWF0aW9uVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IChoZWlnaHQgLyAzKSAtIDEwMCxcclxuICAgICAgICAgICAgdGV4dDogJycsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAxOCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGluZm9UZXh0ID0gJ0dhbWUgZ29hbDpcXG5UdXJuIGFsbCB0aGUgcGlwZXMgaW50byB0aGUgY29ycmVjdCBwb3NpdGlvbiwgc28gZXZlcnkgcGlwZSBjb25uZWN0ZWQgdG8gZWFjaCBvdGhlciFcXG4nO1xyXG4gICAgICAgIGluZm9UZXh0ICs9ICdJbiBjbGFzc2ljIGdhbWUgeW91IGNhbiBjaG9vc2UgYmV0d2VlbiB0aHJlZSBkaWZmZXJlbnQgZGlmZmljdWx0eSwgd2hpbGUgaW4gdGltZSB0cmlhbCB0aGUgZGlmZmljdWx0eSBpcyBpbmNyZW1lbnRhbHkgaW5jcmVhc2luZy5cXG4nO1xyXG4gICAgICAgIGluZm9UZXh0ICs9ICdUaW1lIGlzIGtleSwgc28gZG9uXFwndCBoZXNpdGF0ZSB0b28gbXVjaCFcXG4nO1xyXG4gICAgICAgIGluZm9UZXh0ICs9ICdZb3UgY2FuIGNoZWNrIHlvdXIgcmFuayBhdCB0aGUgc2NvcmVib2FyZCFcXG5cXG5NYWRlIGJ5OiBXaGl0ZSBSYWJiaXQgKFRhbcOhcyBSdXN6a2EpIChDKSAyMDE0LFxcbk1haWw6IHJ1c3prYSBkb3QgdGFtYXMgYXQgZ21haWwgZG90IGNvbSc7XHJcblxyXG4gICAgICAgIGluZm9ybWF0aW9uVGV4dC5zZXRUZXh0KGluZm9UZXh0KTtcclxuXHJcbiAgICAgICAgaW5mb3JtYXRpb25UZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IChpbmZvcm1hdGlvblRleHQuZ2V0V2lkdGgoKSAvIDIpID4gMCA/IChpbmZvcm1hdGlvblRleHQuZ2V0V2lkdGgoKSAvIDIpIDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYmFja1RleHQgPSBuZXcgS2luZXRpYy5UZXh0KHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiAoaGVpZ2h0IC8gMykgKyAyMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdCYWNrIHRvIHRoZSBtZW51JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5zZXRPZmZzZXQoe1xyXG4gICAgICAgICAgICB4OiBiYWNrVGV4dC5nZXRXaWR0aCgpIC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0xheWVyIHNldHVwXHJcbiAgICAgICAgaW5mb3JtYXRpb25NZW51TGF5ZXIgPSBuZXcgS2luZXRpYy5MYXllcigpO1xyXG4gICAgICAgIGluZm9ybWF0aW9uTWVudUxheWVyLm5hbWUgPSBcImluZm9ybWF0aW9uTWVudUxheWVyXCI7XHJcbiAgICAgICAgaW5mb3JtYXRpb25NZW51TGF5ZXIuYWRkKGluZm9ybWF0aW9uVGV4dCk7XHJcbiAgICAgICAgaW5mb3JtYXRpb25NZW51TGF5ZXIuYWRkKGJhY2tUZXh0KTtcclxuICAgICAgICBzdGFnZS5hZGQoaW5mb3JtYXRpb25NZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICAvL0JhY2sgbWVudVxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbk1lbnVMYXllcik7XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3V0ID0gbmV3IEtpbmV0aWMuQW5pbWF0aW9uKGZ1bmN0aW9uKGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0LmZpbGwoJ2dyZXknKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSwgaW5mb3JtYXRpb25NZW51TGF5ZXIpO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU92ZXIuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYmFja1RleHRNb3VzZU91dC5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrVGV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdhbWVUYWJsZSgpIHtcclxuXHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBqID0gMDtcclxuXHJcbiAgICAgICAgZ2FtZUxheWVycyA9IFtdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsYXllclJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICBnYW1lTGF5ZXJzW2ldID0gbmV3IEFycmF5KGxheWVyQ29sdW1ucyk7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsYXllckNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZUxheWVyc1tpXVtqXSA9IG5ldyBLaW5ldGljLkxheWVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJsb2NrcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlRmllbGRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgdmFyIGdyZWF0ZXIgPSAwO1xyXG4gICAgICAgICAgICB2YXIgc21hbGxlciA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZXJhdGVJdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBibG9ja3NbaV0gPSBuZXcgQXJyYXkoY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdID0gbmV3IGJsb2NrKGksIGosIGkgKiBjb2x1bW5zICsgaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChnZW5lcmF0ZUl0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVJdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKHJvd3MpKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAoY29sdW1ucykpKTtcclxuICAgICAgICAgICAgICAgIGlmIChibG9ja3NbeF1beV0uZ2V0S2V5KCkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDQpICsgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0xlZnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJsb2Nrc1t4IC0gMV1beV0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW3hdW3ldLmdldEtleSgpICE9IGJsb2Nrc1t4IC0gMV1beV0uZ2V0S2V5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4XVt5XS5zZXRMZWZ0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3ggLSAxXVt5XS5zZXRSaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyZWF0ZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPiBibG9ja3NbeCAtIDFdW3ldLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3ggLSAxXVt5XS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPCBibG9ja3NbeCAtIDFdW3ldLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3ggLSAxXVt5XS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbaV1bal0uZ2V0S2V5KCkgPT0gZ3JlYXRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLnNldEtleShzbWFsbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJsb2Nrc1t4XVt5IC0gMV0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW3hdW3ldLmdldEtleSgpICE9IGJsb2Nrc1t4XVt5IC0gMV0uZ2V0S2V5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4XVt5XS5zZXRVcCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4XVt5IC0gMV0uc2V0RG93bih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyZWF0ZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPiBibG9ja3NbeF1beSAtIDFdLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3hdW3kgLSAxXS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPCBibG9ja3NbeF1beSAtIDFdLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3hdW3kgLSAxXS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbaV1bal0uZ2V0S2V5KCkgPT0gZ3JlYXRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLnNldEtleShzbWFsbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCAhPSBjb2x1bW5zIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJsb2Nrc1t4ICsgMV1beV0gIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW3hdW3ldLmdldEtleSgpICE9IGJsb2Nrc1t4ICsgMV1beV0uZ2V0S2V5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4XVt5XS5zZXRSaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1t4ICsgMV1beV0uc2V0TGVmdCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyZWF0ZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPiBibG9ja3NbeCArIDFdW3ldLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3ggKyAxXVt5XS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsZXIgPSBibG9ja3NbeF1beV0uZ2V0S2V5KCkgPCBibG9ja3NbeCArIDFdW3ldLmdldEtleSgpID8gYmxvY2tzW3hdW3ldLmdldEtleSgpIDogYmxvY2tzW3ggKyAxXVt5XS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbaV1bal0uZ2V0S2V5KCkgPT0gZ3JlYXRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLnNldEtleShzbWFsbGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSAhPSByb3dzIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRG93blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvY2tzW3hdW3kgKyAxXSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NbeF1beV0uZ2V0S2V5KCkgIT0gYmxvY2tzW3hdW3kgKyAxXS5nZXRLZXkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW3hdW3ldLnNldERvd24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbeF1beSArIDFdLnNldFVwKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JlYXRlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA+IGJsb2Nrc1t4XVt5ICsgMV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeF1beSArIDFdLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxlciA9IGJsb2Nrc1t4XVt5XS5nZXRLZXkoKSA8IGJsb2Nrc1t4XVt5ICsgMV0uZ2V0S2V5KCkgPyBibG9ja3NbeF1beV0uZ2V0S2V5KCkgOiBibG9ja3NbeF1beSArIDFdLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRLZXkoKSA9PSBncmVhdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1bal0uc2V0S2V5KHNtYWxsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb2x1bW5zOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRLZXkoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlSXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJsb2Nrc1tzdGFydGluZ1BvaW50WF1bc3RhcnRpbmdQb2ludFldLnNldENvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgICAgICAgYmxvY2tzW3N0YXJ0aW5nUG9pbnRYXVtzdGFydGluZ1BvaW50WV0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaHVmZmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqXS5zaHVmZmxlSXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0dhbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqXS5pbml0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUxheWVyc1tNYXRoLmZsb29yKGkgLyBsYXllclNpemUpXVtNYXRoLmZsb29yKGogLyBsYXllclNpemUpXS5hZGQoYmxvY2tzW2ldW2pdLmdldEJveCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrUGlwZUNvbm5lY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsYXllclJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxheWVyQ29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UuYWRkKGdhbWVMYXllcnNbaV1bal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1BpcGVDb25uZWN0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLnNldENvbm5lY3RlZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2pdLmNvbm5lY3Rpb25IYW5kbGVyKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBibG9ja3Nbc3RhcnRpbmdQb2ludFhdW3N0YXJ0aW5nUG9pbnRZXS5zZXRDb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGJsb2Nrc1tzdGFydGluZ1BvaW50WF1bc3RhcnRpbmdQb2ludFldLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgLy9JdGVyYXRlIHRocm91Z2h0IHRoZSBtYXRyaXhcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3M7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vSWYgY3VycmVudCBlbGVtZW50IGlzIGNvbm5lY3RpbmdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldENvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTGVmdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCAmJiAhdXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRMZWZ0KCkgJiYgYmxvY2tzW2kgLSAxXVtqXS5nZXRSaWdodCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibG9ja3NbaSAtIDFdW2pdLmdldENvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpIC0gMV1bal0uc2V0Q29ubmVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaSAtIDFdW2pdLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9SaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSByb3dzIC0gMSAmJiAhdXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRSaWdodCgpICYmIGJsb2Nrc1tpICsgMV1bal0uZ2V0TGVmdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibG9ja3NbaSArIDFdW2pdLmdldENvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpICsgMV1bal0uc2V0Q29ubmVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaSArIDFdW2pdLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9VcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiAhPT0gMCAmJiAhdXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXVtqXS5nZXRVcCgpICYmIGJsb2Nrc1tpXVtqIC0gMV0uZ2V0RG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibG9ja3NbaV1baiAtIDFdLmdldENvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqIC0gMV0uc2V0Q29ubmVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NbaV1baiAtIDFdLmNvbm5lY3Rpb25IYW5kbGVyKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Eb3duXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqICE9IGNvbHVtbnMgLSAxICYmICF1cGRhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tzW2ldW2pdLmdldERvd24oKSAmJiBibG9ja3NbaV1baiArIDFdLmdldFVwKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2Nrc1tpXVtqICsgMV0uZ2V0Q29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzW2ldW2ogKyAxXS5zZXRDb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1tpXVtqICsgMV0uY29ubmVjdGlvbkhhbmRsZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5mb3JtYXRpb25QYW5lbCgpIHtcclxuXHJcbiAgICAgICAgdmFyIHggPSAod2lkdGggLyAyICsgKHJvd3MgKiBibG9ja1NpemUpIC8gMikgKyByb3dzICogKHNwYWNlICogMik7XHJcbiAgICAgICAgdmFyIHkgPSAwO1xyXG4gICAgICAgIHZhciBwYW5lbFdpZHRoID0gd2lkdGggLSAoeCArIChyb3dzICogc3BhY2UgKiAyKSk7XHJcbiAgICAgICAgdmFyIHBhbmVsSGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgaW5mb3JtYXRpb25MYXllciA9IG5ldyBLaW5ldGljLkxheWVyKCk7XHJcblxyXG4gICAgICAgIHZhciBwYW5lbCA9IG5ldyBLaW5ldGljLkdyb3VwKHtcclxuICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgd2lkdGg6IHBhbmVsV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogcGFuZWxIZWlnaHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVyID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB3aWR0aDogeCAtIHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmUgPSBuZXcgS2luZXRpYy5Hcm91cCh7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIHdpZHRoOiB4IC0gd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbCA9IG5ldyBLaW5ldGljLkdyb3VwKHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgd2lkdGg6IHggLSB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDIwMCxcclxuICAgICAgICAgICAgeTogMjAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQmFjaycsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiA0OCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRpbWVyVGl0bGVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDMwLFxyXG4gICAgICAgICAgICB5OiA1MCxcclxuICAgICAgICAgICAgdGV4dDogJ1RpbWU6JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZXJUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDMwLFxyXG4gICAgICAgICAgICB5OiAxMDAsXHJcbiAgICAgICAgICAgIHRleHQ6ICcwMDowMCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiA0OCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNjb3JlVGl0bGVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDIwMCxcclxuICAgICAgICAgICAgeTogNTAsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQcmV2aW91cyByZWNvcmQ6JyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDMyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2FsaWJyaScsXHJcbiAgICAgICAgICAgIGZpbGw6ICdncmV5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NvcmVUZXh0ID0gbmV3IEtpbmV0aWMuVGV4dCh7XHJcbiAgICAgICAgICAgIHg6IDIwMCxcclxuICAgICAgICAgICAgeTogMTAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnMDA6MDAnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogNDgsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYWxpYnJpJyxcclxuICAgICAgICAgICAgZmlsbDogJ2dyZXknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbFRpdGxlVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogMjAwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQWN0dWFsIGxldmVsOicsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMixcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsVGV4dCA9IG5ldyBLaW5ldGljLlRleHQoe1xyXG4gICAgICAgICAgICB4OiAzMCxcclxuICAgICAgICAgICAgeTogMjUwLFxyXG4gICAgICAgICAgICB0ZXh0OiAnMScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiA2NCxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhbGlicmknLFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0UGFuZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZXIuYWRkKHRpbWVyVGl0bGVUZXh0KTtcclxuICAgICAgICAgICAgdGltZXIuYWRkKHRpbWVyVGV4dCk7XHJcbiAgICAgICAgICAgIHNjb3JlLmFkZChzY29yZVRpdGxlVGV4dCk7XHJcbiAgICAgICAgICAgIHNjb3JlLmFkZChzY29yZVRleHQpO1xyXG4gICAgICAgICAgICBzY29yZS5hZGQoYmFja1RleHQpO1xyXG4gICAgICAgICAgICBsZXZlbC5hZGQobGV2ZWxUaXRsZVRleHQpO1xyXG4gICAgICAgICAgICBsZXZlbC5hZGQobGV2ZWxUZXh0KTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKHRpbWVyKTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKHNjb3JlKTtcclxuICAgICAgICAgICAgcGFuZWwuYWRkKGxldmVsKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5hZGQocGFuZWwpO1xyXG4gICAgICAgICAgICBzdGFnZS5hZGQoaW5mb3JtYXRpb25MYXllcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGltZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGltZXIuc2hvdygpO1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhpZGVUaW1lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lci5oaWRlKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd1Njb3JlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3JlLnNob3coKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZVRpbWVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3JlLmhpZGUoKTtcclxuICAgICAgICAgICAgaW5mb3JtYXRpb25MYXllci5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93TGV2ZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV2ZWwuc2hvdygpO1xyXG4gICAgICAgICAgICBpbmZvcm1hdGlvbkxheWVyLmRyYXcoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhpZGVMZXZlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXZlbC5oaWRlKCk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aW1lclRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBzY29yZVRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlTGV2ZWwgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXZlbFRleHQuc2V0VGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGluZm9ybWF0aW9uTGF5ZXIuZHJhdygpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBiYWNrVGV4dE1vdXNlT3ZlciA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBiYWNrVGV4dC5maWxsKCdibGFjaycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbkxheWVyKTtcclxuXHJcbiAgICAgICAgdmFyIGJhY2tUZXh0TW91c2VPdXQgPSBuZXcgS2luZXRpYy5BbmltYXRpb24oZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgICAgICAgYmFja1RleHQuZmlsbCgnZ3JleScpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9LCBpbmZvcm1hdGlvbkxheWVyKTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdmVyLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJhY2tUZXh0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUZXh0TW91c2VPdXQuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja1RleHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFpbk1lbnUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93Qm94U3RhdGVzKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgXCIsIFwiICsgaiArIFwiOiBcIiArIGJsb2Nrc1tpXVtqXS5nZXRDb25uZWN0ZWQoKSArIFwiIHJvdGF0aW9uOlwiICsgYmxvY2tzW2ldW2pdLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dEaXJlY3Rpb25zKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgXCIsIFwiICsgaiArIFwiOiAodXAsIGxlZnQsIGRvd24sIHJpZ2h0KVwiICsgYmxvY2tzW2ldW2pdLmdldFVwKCkgKyBibG9ja3NbaV1bal0uZ2V0TGVmdCgpICsgYmxvY2tzW2ldW2pdLmdldERvd24oKSArIGJsb2Nrc1tpXVtqXS5nZXRSaWdodCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93Qm94TWFwKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvdXQgPSBcIiBcIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByb3dzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIG91dCArPSAoYmxvY2tzW2pdW2ldLmdldENvbm5lY3RlZCgpID8gXCJPXCIgOiBcIi1cIikgKyBcIiBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvdXQgKyBpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJcXG5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xhc3NpY0dhbWVGaW5pc2hlZCgpIHtcclxuICAgICAgICB0aW1lci5zdG9wKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3UmVjb3JkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV8nICsgZ2FtZURpZmZpY3VsdHkpID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQuY29va2llKCdjbGFzc2ljX2hpZ2hfc2NvcmVfJyArIGdhbWVEaWZmaWN1bHR5KSA+IHRpbWVyLmdldE1pbigpICsgXCIgOiBcIiArIHRpbWVyLmdldFNlYygpKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhbGVydChcIkNvbmdyYXR1bGF0aW9uLCB5b3Ugc29sdmVkIHRoZSBsZXZlbCEgXFxuWW91ciB0aW1lOiBcIiArIHRpbWVyLmdldE1pbigpICsgXCIgOiBcIiArIHRpbWVyLmdldFNlYygpICsgKG5ld1JlY29yZCA/IFwiXFxuTmV3IHJlY29yZCFcIiA6IFwiXCIpKTtcclxuICAgICAgICAgICAgaWYgKG5ld1JlY29yZCkge1xyXG4gICAgICAgICAgICAgICAgJC5jb29raWUoJ2NsYXNzaWNfaGlnaF9zY29yZV8nICsgZ2FtZURpZmZpY3VsdHksIHRpbWVyLmdldE1pbigpICsgJyA6ICcgKyB0aW1lci5nZXRTZWMoKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IDM2NSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYWluTWVudSgpO1xyXG5cclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRpbWVUcmlhbEdhbWVGaW5pc2hlZCgpIHtcclxuICAgICAgICB0aW1lci5zdG9wKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0TmV3VGltZVRyaWFsR2FtZSgpO1xyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdGltZVRyaWFsR2FtZVRpbWVVcCgpIHtcclxuICAgICAgICB0aW1lci5zdG9wKCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdSZWNvcmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAkLmNvb2tpZSgndGltZV90cmlhbF9zY29yZScpID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCQuY29va2llKCd0aW1lX3RyaWFsX3Njb3JlJykgPCBsZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgbmV3UmVjb3JkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWxlcnQoXCJDb25ncmF0dWxhdGlvbiEgXFxuWW91ciBsZXZlbDogXCIgKyBsZXZlbCArIChuZXdSZWNvcmQgPyBcIlxcbk5ldyByZWNvcmQhXCIgOiBcIlwiKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmV3UmVjb3JkKSB7XHJcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgndGltZV90cmlhbF9zY29yZScsIGxldmVsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogMzY1LFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1haW5NZW51KCk7XHJcblxyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmxvY2socm93LCBjb2x1bW4sIGdlbmVyYXRlS2V5KSB7XHJcblxyXG4gICAgICAgIC8vTWFpbiBhdHRyaWJ1dGVzXHJcbiAgICAgICAgdmFyIHggPSAocm93ICogKChzcGFjZSAqIDIpICsgYmxvY2tTaXplKSArIHNwYWNlKTtcclxuICAgICAgICB2YXIgeSA9IChjb2x1bW4gKiAoKHNwYWNlICogMikgKyBibG9ja1NpemUpICsgc3BhY2UpO1xyXG4gICAgICAgIHZhciB1cCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBsZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGRvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgcmlnaHQgPSBmYWxzZTtcclxuICAgICAgICB2YXIga2V5ID0gZ2VuZXJhdGVLZXk7XHJcblxyXG4gICAgICAgIHZhciBjb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcm90YXRpb24gPSAwO1xyXG5cclxuICAgICAgICAvL1NoYXBlc1xyXG5cclxuICAgICAgICB2YXIgYm94ID0gbmV3IEtpbmV0aWMuR3JvdXAoe1xyXG4gICAgICAgICAgICB4OiAoeCArIGJsb2NrU2l6ZSAvIDIpICsgKCh3aWR0aCAtIChibG9ja1NpemUgKiByb3dzKSkgLyAyKSAtIGJsb2NrU2l6ZSAvIDIsXHJcbiAgICAgICAgICAgIHk6IHkgKyBibG9ja1NpemUgLyAyLFxyXG4gICAgICAgICAgICB3aWR0aDogYmxvY2tTaXplLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgb2Zmc2V0OiB7XHJcbiAgICAgICAgICAgICAgICB4OiBibG9ja1NpemUgLyAyLFxyXG4gICAgICAgICAgICAgICAgeTogYmxvY2tTaXplIC8gMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBwaXBlcyA9IG5ldyBLaW5ldGljLkdyb3VwKHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgS2luZXRpYy5SZWN0KHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgd2lkdGg6IGJsb2NrU2l6ZSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBibG9ja1NpemUsXHJcbiAgICAgICAgICAgIG5hbWU6IHggKyAnLScgKyB5LFxyXG4gICAgICAgICAgICBmaWxsOiAnZ3JleScsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNwYWNlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vZ2V0dGVycyBhbmQgc2V0dGVyc1xyXG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0ZWQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDb25uZWN0ZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBjb25uZWN0ZWQgPSB2YWx1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmdldEtleSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0S2V5ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAga2V5ID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb247XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRMZWZ0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgbGVmdCA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0TGVmdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGVmdDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNldERvd24gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb3duID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXREb3duID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb3duO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0UmlnaHQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByaWdodCA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0UmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJpZ2h0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXAgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICB1cCA9IHZhbHVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVwO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0Qm94ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBib3g7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQYXJlbnRMYXllciA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudExheWVyID0gdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9NZXRob2RzXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uSGFuZGxlciA9IGZ1bmN0aW9uKGNvbm5lY3QpIHtcclxuICAgICAgICAgICAgaWYgKGNvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmZpbmQoJy5waXBlVXAnKS5zdHJva2UoJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZUxlZnQnKS5zdHJva2UoJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZURvd24nKS5zdHJva2UoJ2dyZWVuJyk7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZVJpZ2h0Jykuc3Ryb2tlKCdncmVlbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVVcCcpLnN0cm9rZSgncmVkJyk7XHJcbiAgICAgICAgICAgICAgICBwaXBlcy5maW5kKCcucGlwZUxlZnQnKS5zdHJva2UoJ3JlZCcpO1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuZmluZCgnLnBpcGVEb3duJykuc3Ryb2tlKCdyZWQnKTtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmZpbmQoJy5waXBlUmlnaHQnKS5zdHJva2UoJ3JlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaHVmZmxlSXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKDMpKSArIDApOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcm90YXRlUmlnaHQoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wID0gdXA7XHJcbiAgICAgICAgICAgIHVwID0gbGVmdDtcclxuICAgICAgICAgICAgbGVmdCA9IGRvd247XHJcbiAgICAgICAgICAgIGRvd24gPSByaWdodDtcclxuICAgICAgICAgICAgcmlnaHQgPSB0ZW1wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcm90YXRlTGVmdCgpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXAgPSB1cDtcclxuICAgICAgICAgICAgdXAgPSByaWdodDtcclxuICAgICAgICAgICAgcmlnaHQgPSBkb3duO1xyXG4gICAgICAgICAgICBkb3duID0gbGVmdDtcclxuICAgICAgICAgICAgbGVmdCA9IHRlbXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbW91c2VDbGljayA9IG5ldyBLaW5ldGljLkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZSkge1xyXG4gICAgICAgICAgICBhbmltYXRpb25Jc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBib3gucm90YXRlKDUpO1xyXG4gICAgICAgICAgICBpZiAoYm94LnJvdGF0aW9uKCkgPj0gKHJvdGF0aW9uICsgOTApKSB7XHJcbiAgICAgICAgICAgICAgICBib3gucm90YXRpb24ocm90YXRpb24gKyA5MCk7XHJcbiAgICAgICAgICAgICAgICByb3RhdGlvbiA9IGJveC5yb3RhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsb2Nrc1tpXVtqXS5nZXRDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uSXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVR5cGUgPT0gXCJjbGFzc2ljXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NpY0dhbWVGaW5pc2hlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2FtZVR5cGUgPT0gXCJ0aW1lLXRyaWFsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZVRyaWFsR2FtZUZpbmlzaGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXJSb3dzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxheWVyQ29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lTGF5ZXJzW2ldW2pdLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGdhbWVMYXllcnNbTWF0aC5mbG9vcihyb3cgLyBsYXllclNpemUpXVtNYXRoLmZsb29yKGNvbHVtbiAvIGxheWVyU2l6ZSldKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAvL1BpcGUgZ3JhcGhpYyBkZWZpbml0aW9uXHJcbiAgICAgICAgICAgIHZhciBwaXBlVXAgPSBuZXcgS2luZXRpYy5MaW5lKHtcclxuICAgICAgICAgICAgICAgIHBvaW50czogW2Jsb2NrU2l6ZSAvIDIsIDAsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDJdLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAncmVkJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxMyxcclxuICAgICAgICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGlwZVVwJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwaXBlTGVmdCA9IG5ldyBLaW5ldGljLkxpbmUoe1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzOiBbMCwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMl0sXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEzLFxyXG4gICAgICAgICAgICAgICAgbGluZUNhcDogJ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwaXBlTGVmdCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGlwZURvd24gPSBuZXcgS2luZXRpYy5MaW5lKHtcclxuICAgICAgICAgICAgICAgIHBvaW50czogW2Jsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSwgYmxvY2tTaXplIC8gMiwgYmxvY2tTaXplIC8gMl0sXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6ICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEzLFxyXG4gICAgICAgICAgICAgICAgbGluZUNhcDogJ3JvdW5kJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwaXBlRG93bidcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGlwZVJpZ2h0ID0gbmV3IEtpbmV0aWMuTGluZSh7XHJcbiAgICAgICAgICAgICAgICBwb2ludHM6IFtibG9ja1NpemUsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDIsIGJsb2NrU2l6ZSAvIDJdLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAncmVkJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxMyxcclxuICAgICAgICAgICAgICAgIGxpbmVDYXA6ICdyb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGlwZVJpZ2h0J1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vUGxhY2luZyBwaXBlc1xyXG4gICAgICAgICAgICBpZiAodXApIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmFkZChwaXBlVXApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobGVmdCkge1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuYWRkKHBpcGVMZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRvd24pIHtcclxuICAgICAgICAgICAgICAgIHBpcGVzLmFkZChwaXBlRG93bik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcGlwZXMuYWRkKHBpcGVSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJveC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFtb3VzZUNsaWNrLmlzUnVubmluZygpICYmICFhbmltYXRpb25Jc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlQ2xpY2suc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5jaGVja1BpcGVDb25uZWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYm94LmFkZChzaGFwZSk7XHJcbiAgICAgICAgICAgIGJveC5hZGQocGlwZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKGpRdWVyeSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcGlwZSA9IHJlcXVpcmUoJy4vanMvcGlwZScpO1xuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuY29uc29sZS5sb2coJ1lleScsIHBpcGUpO1xufTsiXX0=
